(window.saladictJSONP=window.saladictJSONP||[]).push([[11],{1011:function(e,t,n){var a={"./BlackWhiteList/index.tsx":1012,"./ContextMenus/index.tsx":1075,"./DictPanel/index.tsx":1101,"./Dictionaries/LangCodeList/index.tsx":792,"./Dictionaries/index.tsx":1280,"./General/index.tsx":1107,"./ImportExport/index.tsx":1108,"./Notebook/index.tsx":1287,"./PDF/index.tsx":1127,"./Popup/index.tsx":1128,"./Profiles/index.tsx":1294,"./QuickSearch/index.tsx":1129,"./SearchModes/index.tsx":1130};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1011},1012:function(e,t,n){"use strict";n.r(t),n.d(t,"BlackWhiteList",(function(){return d}));var a=n(9),r=n.n(a),o=n(46),i=n.n(o),c=n(0),s=n.n(c),l=n(21),u=n(675);class d extends s.a.Component{constructor(e){super(e),this.closeModal=()=>{this.setState({editingArea:""})},this.state={editingArea:""}}render(){const{t:e,config:t}=this.props;return s.a.createElement(r.a,null,s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.sel_blackwhitelist"),help:e("opt.sel_blackwhitelist_help")}),s.a.createElement(i.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"blacklist"})},e("common:blacklist")),s.a.createElement(i.a,{onClick:()=>this.setState({editingArea:"whitelist"})},e("common:whitelist"))),s.a.createElement(r.a.Item,Object.assign({},l.b,{label:"PDF ".concat(e("nav.BlackWhiteList")),help:e("opt.pdf_blackwhitelist_help")}),s.a.createElement(i.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"pdfBlacklist"})},"PDF ",e("common:blacklist")),s.a.createElement(i.a,{onClick:()=>this.setState({editingArea:"pdfWhitelist"})},"PDF ",e("common:whitelist"))),s.a.createElement(u.a,{t:e,config:t,area:this.state.editingArea,onClose:this.closeModal}))}}t.default=d},1075:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ContextMenus",(function(){return j}));var a=n(146),r=n.n(a),o=n(115),i=n.n(o),c=n(62),s=n.n(c),l=n(0),u=n.n(l),d=n(31),m=n(21),p=n(579),g=n(874),h=n(892);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends u.a.Component{constructor(){super(...arguments),this.state={showAddModal:!1,editingItem:null},this.openAddModal=()=>{this.setState({showAddModal:!0})},this.closeAddModal=()=>{this.setState({showAddModal:!1})},this.openEditModal=t=>{const{contextMenus:n}=this.props.config,a=n.selected[t],r=n.all[a];r?this.setState({editingItem:"string"==typeof r?{name:this.props.t("menus:".concat(a)),url:r,id:a}:b({},r,{id:a})}):e.env.DEV_BUILD&&console.error("menu not found",t,a)},this.deleteItem=async e=>{const{t:t,config:n}=this.props;n.contextMenus.selected.splice(e,1),await Object(d.f)(n),s.a.destroy(),s.a.success(t("msg_updated"))},this.disableEdit=(e,t)=>"x"===this.props.config.contextMenus.all[t.value],this.handleEditModalClose=async e=>{if(e){const t=this.props.config;t.contextMenus.all[e.id]={name:e.name,url:e.url},await Object(d.f)(t)}this.setState({editingItem:null})},this.handleSortEnd=async e=>{let{oldIndex:t,newIndex:n}=e;if(t===n)return;const{t:a,config:r}=this.props,o=r.contextMenus;o.selected=Object(m.a)(o.selected,t,n),await Object(d.f)(r),s.a.destroy(),s.a.success(a("msg_updated"))}}render(){const{t:e,config:t}=this.props,{editingItem:n,showAddModal:a}=this.state,o=t.contextMenus.all;return u.a.createElement(r.a,null,u.a.createElement(i.a,{span:12},u.a.createElement(p.a,{t:e,title:e("nav.ContextMenus"),description:u.a.createElement("p",null,e("opt.context_description")),list:t.contextMenus.selected.map(t=>{const n=o[t];return{value:t,title:"string"==typeof n?e("menus:".concat(t)):n.name}}),disableEdit:this.disableEdit,onAdd:this.openAddModal,onEdit:this.openEditModal,onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),u.a.createElement(h.a,{t:e,config:t,show:a,onClose:this.closeAddModal}),u.a.createElement(g.a,{t:e,title:e("opt.context_menus_title"),item:n,onClose:this.handleEditModalClose})))}}t.default=j}.call(this,n(59))},1101:function(e,t,n){"use strict";n.r(t),n.d(t,"DictPanel",(function(){return j}));var a=n(121),r=n.n(a),o=n(80),i=n.n(o),c=n(9),s=n.n(c),l=n(146),u=n.n(l),d=n(115),m=n.n(d),p=n(178),g=n.n(p),h=n(0),f=n.n(h),b=n(21),y=n(122);class j extends f.a.Component{render(){const{t:e,config:t,profile:n}=this.props,{getFieldDecorator:a}=this.props.form;return f.a.createElement(s.a,null,f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.mta"),extra:e("opt.profile_change"),required:!0}),a("profile#mtaAutoUnfold",{initialValue:n.mtaAutoUnfold})(f.a.createElement(g.a.Group,null,f.a.createElement(u.a,null,f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:""},e("opt.mta_never"))),f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"once"},e("opt.mta_once")))),f.a.createElement(u.a,null,f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"always"},e("opt.mta_always"))),f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"popup"},e("opt.mta_popup"))))))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.waveform"),help:e("opt.waveform_help"),extra:e("opt.profile_change"),required:!0}),a("profile#waveform",{initialValue:n.waveform,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.search_suggests")}),a("config#searchSuggests",{initialValue:t.searchSuggests,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.animation"),help:e("opt.animation_help")}),a("config#animation",{initialValue:t.animation,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.dark_mode")}),a("config#darkMode",{initialValue:t.darkMode,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.dictPanel.height_ratio")}),a("config#panelMaxHeightRatio",{initialValue:t.panelMaxHeightRatio,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(y.a,{suffix:"%"}))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.dictPanel.width")}),a("config#panelWidth",{initialValue:t.panelWidth,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(y.a,{suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.dictPanel.font_size")}),a("config#fontSize",{initialValue:t.fontSize,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(y.a,{suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.bowl_offset.x")}),a("config#bowlOffsetX",{initialValue:t.bowlOffsetX,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(y.a,{style:{width:80},suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.bowl_offset.y")}),a("config#bowlOffsetY",{initialValue:t.bowlOffsetY,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(y.a,{style:{width:80},suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},b.b,{label:e("opt.dictPanel.custom_css"),help:e("opt.dictPanel.custom_css_help"),extra:f.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/wiki/PanelCSS#wiki-content",target:"_blank",rel:"nofollow noopener noreferrer"},"Examples")}),a("config#panelCSS",{initialValue:t.panelCSS})(f.a.createElement(r.a.TextArea,{placeholder:".dictPanel-Root { }",autosize:{minRows:4,maxRows:15}}))))}}t.default=s.a.create({onFieldsChange:b.e})(j)},1102:function(e,t,n){},1105:function(e,t,n){},1107:function(e,t,n){"use strict";n.r(t),n.d(t,"General",(function(){return b}));var a=n(32),r=n.n(a),o=n(9),i=n.n(o),c=n(80),s=n.n(c),l=n(46),u=n.n(l),d=n(0),m=n.n(d),p=n(3),g=n(31),h=n(56),f=n(21);class b extends m.a.Component{constructor(){super(...arguments),this.isReseted=!1,this.openShortcuts=()=>{navigator.userAgent.includes("Chrome")?Object(p.b)("chrome://extensions/shortcuts"):Object(p.b)("about:addons")},this.resetConfigs=async()=>{confirm(this.props.t("opt.config.reset_confirm"))&&(await Object(g.e)(),this.isReseted=!0,await Object(h.l)(),this.isReseted=!0)}}componentDidUpdate(){if(this.isReseted){this.isReseted=!1;const{form:e,config:t}=this.props;e.setFieldsValue({"config#active":t.active,"config#animation":t.animation,"config#analytics":t.analytics,"config#langCode":t.langCode})}}render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form;return m.a.createElement(i.a,null,m.a.createElement(u.a,{onClick:this.openShortcuts},e("opt.shortcuts")),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.active"),help:e("opt.app_active_help")}),n("config#active",{initialValue:t.active,valuePropName:"checked"})(m.a.createElement(s.a,null))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.animation"),help:e("opt.animation_help")}),n("config#animation",{initialValue:t.animation,valuePropName:"checked"})(m.a.createElement(s.a,null))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.analytics"),help:e("opt.analytics_help")}),n("config#analytics",{initialValue:t.analytics,valuePropName:"checked"})(m.a.createElement(s.a,null))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.language")}),n("config#langCode",{initialValue:t.langCode})(m.a.createElement(r.a,null,m.a.createElement(r.a.Option,{value:"zh-CN"},"简体中文"),m.a.createElement(r.a.Option,{value:"zh-TW"},"繁體中文"),m.a.createElement(r.a.Option,{value:"en"},"English")))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.config.reset")}),m.a.createElement(u.a,{type:"danger",onClick:this.resetConfigs},e("opt.config.reset"))))}}t.default=i.a.create({onFieldsChange:f.e})(b)},1108:function(e,t,n){"use strict";n.r(t),n.d(t,"ImportExport",(function(){return M}));var a=n(146),r=n.n(a),o=n(115),i=n.n(o),c=n(876),s=n.n(c),l=n(34),u=n.n(l),d=n(62),m=n.n(d),p=n(0),g=n.n(p),h=n(663),f=n(348),b=n(31),y=n(56),j=n(3);class M extends g.a.Component{constructor(){super(...arguments),this.importConfig=async e=>{const{t:t}=this.props,n=await new Promise(t=>{const n=new FileReader;n.onload=()=>{try{const e=JSON.parse(n.result);t(e)}catch(e){}t()},n.onerror=()=>t(),n.readAsText(e)});if(!n)return void m.a.error(t("opt.config.import_error"));let{baseconfig:a,activeProfileID:r,hasInstructionsShown:o,profileIDList:i,syncConfig:c}=n;if(a||r||i||null!=o){if(await j.c.sync.clear(),a&&await Object(b.f)(Object(h.a)(a)),c&&await j.c.sync.set({syncConfig:c}),null!=o&&await j.c.sync.set({hasInstructionsShown:o}),i&&(i=i.filter(e=>{let{id:t}=e;return n[t]})).length>0){for(const{id:e}of i)await Object(y.n)(Object(f.a)(n[e]));r&&!i.every(e=>{let{id:t}=e;return t!==r})||(r=i[0].id),await j.c.sync.set({activeProfileID:r,profileIDList:i})}}else m.a.error(t("opt.config.import_error"))},this.exportConfig=async()=>{const{t:e}=this.props,t=await j.c.sync.get(["activeProfileID","hasInstructionsShown","profileIDList","syncConfig"]);if(t.baseconfig=await Object(b.c)(),t.baseconfig&&t.activeProfileID&&t.profileIDList){for(const{id:e}of t.profileIDList)t[e]=await Object(y.g)(e);try{let e=JSON.stringify(t);const{os:n}=await browser.runtime.getPlatformInfo();"win"===n&&(e=e.replace(/\r\n|\n/g,"\r\n"));const a=new Blob([e],{type:"text/plain;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(a),r.download="config-".concat(Date.now(),".saladict"),r.target="_blank",document.body.appendChild(r),r.click()}catch(t){m.a.error(e("opt.config.import_error"))}}else m.a.error(e("opt.config.import_error"))}}render(){const{t:e}=this.props;return g.a.createElement(r.a,null,g.a.createElement(i.a,{span:12},g.a.createElement(r.a,{gutter:10},g.a.createElement(i.a,{span:12},g.a.createElement(s.a.Dragger,{beforeUpload:e=>(this.importConfig(e),!1)},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(u.a,{type:"download"})),g.a.createElement("p",{className:"ant-upload-text"},e("opt.config.import")))),g.a.createElement(i.a,{span:12},g.a.createElement("button",{className:"ant-upload ant-upload-drag",onClick:this.exportConfig},g.a.createElement("div",{className:"ant-upload ant-upload-btn"},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(u.a,{type:"upload"})),g.a.createElement("p",{className:"ant-upload-text"},e("opt.config.export"))))))))}}t.default=M},1127:function(e,t,n){"use strict";n.r(t),n.d(t,"PDF",(function(){return p}));var a=n(46),r=n.n(a),o=n(9),i=n.n(o),c=n(80),s=n.n(c),l=n(0),u=n.n(l),d=n(21),m=n(675);class p extends u.a.Component{constructor(e){super(e),this.closeModal=()=>{this.setState({editingArea:""})},this.state={editingArea:""}}render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("opt.pdf_sniff"),help:e("opt.pdf_sniff_help")}),n("config#pdfSniff",{initialValue:t.pdfSniff,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("nav.BlackWhiteList"),help:e("opt.pdf_blackwhitelist_help")}),u.a.createElement(r.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"pdfBlacklist"})},"PDF ",e("common:blacklist")),u.a.createElement(r.a,{onClick:()=>this.setState({editingArea:"pdfWhitelist"})},"PDF ",e("common:whitelist"))),u.a.createElement(m.a,{t:e,config:t,area:this.state.editingArea,onClose:this.closeModal}))}}t.default=i.a.create({onFieldsChange:d.e})(p)},1128:function(e,t,n){"use strict";n.r(t),n.d(t,"Popup",(function(){return m}));var a=n(80),r=n.n(a),o=n(9),i=n.n(o),c=n(32),s=n.n(c),l=n(0),u=n.n(l),d=n(21);class m extends u.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("opt.browserAction.open"),help:e("opt.browserAction.openHelp")}),n("config#baOpen",{initialValue:t.baOpen})(u.a.createElement(s.a,null,u.a.createElement(s.a.Option,{value:"popup_panel"},e("opt.browserAction.openDictPanel")),u.a.createElement(s.a.Option,{value:"popup_fav"},e("opt.browserAction.openFav")),u.a.createElement(s.a.Option,{value:"popup_options"},e("opt.browserAction.openOptions")),u.a.createElement(s.a.Option,{value:"popup_standalone"},e("opt.browserAction.openStandalone")),Object.keys(t.contextMenus.all).map(t=>u.a.createElement(s.a.Option,{key:t,value:t},e("menus:".concat(t))))))),"popup_panel"===t.baOpen&&u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("preload.title"),help:e("preload.help")}),n("config#baPreload",{initialValue:t.baPreload})(u.a.createElement(s.a,null,u.a.createElement(s.a.Option,{value:""},e("common:none")),u.a.createElement(s.a.Option,{value:"clipboard"},e("preload.clipboard")),u.a.createElement(s.a.Option,{value:"selection"},e("preload.selection"))))),"popup_panel"===t.baOpen&&""!==t.baPreload&&u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("preload.auto"),help:e("preload.auto_help")}),n("config#baAuto",{initialValue:t.baAuto,valuePropName:"checked"})(u.a.createElement(r.a,null))))}}t.default=i.a.create({onFieldsChange:d.e})(m)},1129:function(e,t,n){"use strict";n.r(t),n.d(t,"QuickSearch",(function(){return w}));var a=n(146),r=n.n(a),o=n(115),i=n.n(o),c=n(294),s=n.n(c),l=n(32),u=n.n(l),d=n(9),m=n.n(d),p=n(80),g=n.n(p),h=n(0),f=n.n(h),b=n(21),y=n(583),j=n(122);const M=["CENTER","TOP","RIGHT","BOTTOM","LEFT","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT"];class w extends f.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form;return f.a.createElement(m.a,null,f.a.createElement(m.a.Item,Object.assign({},b.b,{label:e("opt.quick_search"),help:f.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("quickSearch.help")}})}),n("config#tripleCtrl",{initialValue:t.tripleCtrl,valuePropName:"checked"})(f.a.createElement(g.a,null))),f.a.createElement(m.a.Item,Object.assign({},b.b,{label:e("quickSearch.loc")}),n("config#tripleCtrlLocation",{initialValue:t.tripleCtrlLocation})(f.a.createElement(u.a,null,M.map(t=>f.a.createElement(u.a.Option,{key:t,value:t},e("quickSearch.locations.".concat(t))))))),f.a.createElement(m.a.Item,Object.assign({},b.b,{label:e("preload.title"),help:e("preload.help")}),n("config#tripleCtrlPreload",{initialValue:t.tripleCtrlPreload})(f.a.createElement(u.a,null,f.a.createElement(u.a.Option,{value:""},e("common:none")),f.a.createElement(u.a.Option,{value:"clipboard"},e("preload.clipboard")),f.a.createElement(u.a.Option,{value:"selection"},e("preload.selection"))))),""!==t.tripleCtrlPreload&&f.a.createElement(m.a.Item,Object.assign({},b.b,{label:e("preload.auto"),help:e("preload.auto_help")}),n("config#tripleCtrlAuto",{initialValue:t.tripleCtrlAuto,valuePropName:"checked"})(f.a.createElement(g.a,null))),f.a.createElement(m.a.Item,Object.assign({},b.b,{label:e("quickSearch.standalone"),help:f.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("quickSearch.standalone_help")}})}),n("config#tripleCtrlStandalone",{initialValue:t.tripleCtrlStandalone,valuePropName:"checked"})(f.a.createElement(g.a,null))),t.tripleCtrlStandalone&&f.a.createElement(r.a,null,f.a.createElement(i.a,{span:11,offset:2},f.a.createElement(s.a,{title:e("quickSearch.standalone")},f.a.createElement(m.a.Item,Object.assign({},b.d,{label:e("quickSearch.sidebar"),help:e("quickSearch.sidebar_help")}),n("config#tripleCtrlSidebar",{initialValue:t.tripleCtrlSidebar})(f.a.createElement(u.a,null,f.a.createElement(u.a.Option,{value:""},e("common:none")),f.a.createElement(u.a.Option,{value:"left"},e("quickSearch.locations.LEFT")),f.a.createElement(u.a.Option,{value:"right"},e("quickSearch.locations.RIGHT"))))),!t.tripleCtrlSidebar&&f.a.createElement(m.a.Item,Object.assign({},b.d,{label:e("quickSearch.height")}),n("config#tripleCtrlHeight",{initialValue:t.tripleCtrlHeight,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(j.a,{suffix:"px"}))),f.a.createElement(m.a.Item,Object.assign({},b.d,{label:e("quickSearch.page_sel"),help:e("quickSearch.page_sel_help")}),n("config#tripleCtrlPageSel",{initialValue:t.tripleCtrlPageSel,valuePropName:"checked"})(f.a.createElement(g.a,null))),t.tripleCtrlPageSel&&f.a.createElement(y.a,Object.assign({},this.props,{mode:"qsPanelMode",sub:!0}))))))}}t.default=m.a.create({onFieldsChange:b.e})(w)},113:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=e=>{const{title:t,className:n,children:a}=e,i=o(e,["title","className","children"]);return r.a.createElement("div",Object.assign({className:"entryBox-Wrap".concat(n?" ".concat(n):"")},i),r.a.createElement("section",{className:"entryBox"},r.a.createElement("h1",{className:"entryBox-Title"},t),r.a.createElement("div",null,a)))}},1130:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchModes",(function(){return h}));var a=n(126),r=n.n(a),o=n(9),i=n.n(o),c=n(80),s=n.n(c),l=n(0),u=n.n(l),d=n(28),m=n(21),p=n(583),g=n(122);class h extends u.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.no_type_field"),help:e("opt.no_type_field_help")}),n("config#noTypeField",{initialValue:t.noTypeField,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.touch_mode"),help:e("opt.touch_mode_help")}),n("config#touchMode",{initialValue:t.touchMode,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.sel_lang"),help:e("opt.sel_lang_help"),extra:u.a.createElement("span",{style:{color:"#c0392b"}},e("opt.sel_lang_warning"))}),d.j.map(a=>u.a.createElement(i.a.Item,{key:a,className:"form-item-inline"},n("config#language#".concat(a),{initialValue:t.language[a],valuePropName:"checked"})(u.a.createElement(r.a,null,e("common:lang.".concat(a))))))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.double_click_delay")}),n("config#doubleClickDelay",{initialValue:t.doubleClickDelay,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(g.a,{suffix:e("common:unit.ms")}))),u.a.createElement(p.a,Object.assign({},this.props,{mode:"mode"})),u.a.createElement(p.a,Object.assign({},this.props,{mode:"pinMode"})),u.a.createElement(p.a,Object.assign({},this.props,{mode:"panelMode"})))}}t.default=i.a.create({onFieldsChange:m.e})(h)},1134:function(e,t,n){},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return w}));var a=n(72),r=n(22),o=n(74),i=n(11),c=n(44),s=n(90),l=n(23),u=n(38),d=n(3);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=/mac/i.test(navigator.platform);function h(e){return g?"Meta"===e.key:"Control"===e.key}function f(e){return"Escape"===e.key}function b(e){return Object(a.a)(Object(i.a)(e)(Object(r.a)(window,"keydown",{capture:!0})),Object(c.a)(!1)(Object(r.a)(window,"keyup",{capture:!0})),Object(c.a)(!1)(Object(r.a)(window,"blur",{capture:!0})),Object(o.a)(!1)).pipe(Object(s.a)(),Object(l.a)(e=>e))}const y=/CodeMirror|ace_editor|monaco-editor/;function j(e){if(!e||!e.tagName)return!1;for(let t=e;t;t=t.parentElement){if("INPUT"===t.tagName||"TEXTAREA"===t.tagName)return!0;if(y.test(String(t.className)))return!0}return!1}function M(e){const t=window.pageURL||document.URL||"";return!!t&&(e.blacklist.some(e=>{let[n]=e;return new RegExp(n).test(t)})&&e.whitelist.every(e=>{let[n]=e;return!new RegExp(n).test(t)}))}async function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await d.a.send({type:"PAGE_INFO"});return window.faviconURL=t.faviconURL,t.pageTitle&&(window.pageTitle=t.pageTitle),t.pageURL&&(window.pageURL=t.pageURL),Object(u.e)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:t.pageTitle||document.title||"",url:t.pageURL||document.URL||"",favicon:t.faviconURL||""},e))}},122:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(875),r=n.n(a),o=n(0),i=n.n(o);n(1102);class c extends i.a.Component{render(){return i.a.createElement("span",{className:"input-number-group-wrapper"},i.a.createElement("span",{className:"input-number-group"},i.a.createElement(r.a,this.props),!!this.props.suffix&&i.a.createElement("span",{className:"input-number-group-addon"},this.props.suffix)))}}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S}));var a=n(89),r=n(72),o=n(22),i=n(57),c=n(23),s=n(11),l=n(44),u=n(63),d=n(154),m=n(219),p=n(128),g=n(90),h=n(84),f=n(218),b=n(220),y=n(94),j=n(105),M=n(29),w=n(95),E=n(5),O=n(14),I=n(28),D=n(12);const N=navigator.userAgent.includes("Firefox");function v(e){return e?e.touchMode?function(e){const t=Object(r.a)(Object(o.a)(window,"mousedown",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),Object(o.a)(window,"touchstart",{capture:!0}).pipe(Object(s.a)(e=>e.changedTouches[0]))),n=Object(r.a)(Object(o.a)(window,"mouseup",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),Object(o.a)(window,"touchend",{capture:!0}).pipe(Object(s.a)(e=>e.changedTouches[0]))),a=C(n,e.doubleClickDelay),p=Object(r.a)(Object(l.a)(!0)(t),Object(l.a)(!1)(n),Object(l.a)(!1)(Object(o.a)(window,"mouseout",{capture:!0})),Object(l.a)(!1)(Object(o.a)(window,"blur",{capture:!0})));return Object(o.a)(document,"selectionchange").pipe(Object(u.a)(p),Object(d.a)(e=>{let[,t]=e;return t?n:Object(i.a)(400)}),Object(s.a)(e=>{let[,t]=e;return[window.getSelection(),t]}),Object(c.a)(e=>!!e[0]&&!Object(E.d)(e[0].anchorNode)),Object(u.a)(n,t,a),Object(s.a)(t=>{let[[n,a],r,o,i]=t;const c=Object(E.c)(n.anchorNode||o.target);if(e.noTypeField&&Object(D.d)(a?o.target:n.anchorNode))return{self:c};const s=Object(O.d)(n);if(!Object(I.a)(e.language,s))return{self:c};if(a)return{word:{text:s,context:Object(O.b)(n)},self:c,dbClick:i>=2,mouseX:r.clientX,mouseY:r.clientY,shiftKey:!!r.shiftKey,ctrlKey:!!r.ctrlKey,metaKey:!!r.metaKey};const l=n.getRangeAt(0).getBoundingClientRect();return 0===l.top&&0===l.left&&0===l.width&&0===l.height?{self:c}:{word:{text:s,context:Object(O.b)(n)},self:c,dbClick:i>=2,mouseX:l.right,mouseY:l.top}}),Object(m.a)(t=>{if(N&&t.self&&t.word&&t.word.text){const{direct:n,double:a,holding:r}=e.panelMode;if(n||a&&t.dbClick||r.shift&&t.shiftKey||r.ctrl&&t.ctrlKey||r.meta&&t.metaKey)return Object(i.a)(500)}return Object(i.a)(0)}))}(e):function(e){const t=Object(o.a)(window,"mousedown",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),n=Object(o.a)(window,"mouseup",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),a=C(n,e.doubleClickDelay);return n.pipe(Object(c.a)(e=>!Object(E.d)(e.target)),Object(p.a)(10),Object(u.a)(t,a),Object(c.a)(e=>{let[t,n]=e;return!Object(E.c)(t.target)&&!Object(E.c)(n.target)}),Object(s.a)(t=>{let[n,a,r]=t;if(e.noTypeField&&Object(D.d)(a.target))return{self:!1};const o=window.getSelection(),i=Object(O.d)(o);return Object(I.a)(e.language,i)?{word:{text:i,context:Object(O.b)(o)},self:!1,dbClick:r>=2,mouseX:n.clientX,mouseY:n.clientY,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey}:{self:!1}}),Object(g.a)((e,t)=>!t.dbClick&&!!e.word&&!!t.word&&e.word.text===t.word.text&&e.word.context===t.word.context))}(e):Object(a.a)()}function S(e,t,n,a){const[r,o]=Object(y.a)(e=>e.pipe(Object(c.a)(e=>0===e.button))),i=Object(j.a)(M.d,[e,t]),l=Object(j.a)(e=>e.pipe(Object(h.a)(e=>{let[t]=e;return C(o,t)})),[n]),d=Object(j.a)(()=>o.pipe(Object(u.a)(i),Object(c.a)(e=>{let[t,[n]]=e;if(n)return!1;for(let e=t.target;e;e=e.parentElement)if("A"===e.tagName||"BUTTON"===e.tagName)return!1;return!0}),Object(s.a)(e=>{let[t,[,n]]=e;return{mouseup:t.nativeEvent,language:n}}),Object(p.a)(10),Object(u.a)(l),Object(s.a)(e=>{let[{mouseup:t,language:n},a]=e;const r=window.getSelection(),o=Object(O.d)(r);return Object(I.a)(n,o)?{word:{text:o,context:Object(O.b)(r)},dbClick:a>=2,mouseX:t.clientX,mouseY:t.clientY,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,self:!0,instant:!1,force:!1}:{word:null,self:!0,mouseX:0,mouseY:0,dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,instant:!1,force:!1}}),Object(g.a)((e,t)=>!t.dbClick&&!!e.word&&!!t.word&&e.word.text===t.word.text&&e.word.context===t.word.context)));return Object(w.a)(d,async e=>{e.word&&(e.word=await Object(D.e)(e.word)),a(e)}),r}function C(e,t){return e.pipe(Object(h.a)(()=>Object(i.a)(t).pipe(Object(l.a)(!1),Object(f.a)(!0))),Object(b.a)((e,t)=>t?e+1:0,0))}},127:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Service",(function(){return i}));var a=n(276),r=n(81),o=n(3);class i extends a.a{constructor(){super(...arguments),this.config=i.getDefaultConfig(),this.meta={}}static getDefaultConfig(){return{url:"",user:"",passwd:"",duration:15}}async startInterval(){this.meta=await Object(r.b)(i.id)||this.meta,browser.alarms.onAlarm.addListener(this.handleSyncAlarm.bind(this)),Object(r.a)(i.id).subscribe(this.handleInterval.bind(this))}async handleInterval(e){if(await browser.alarms.clear("webdav"),e)if("string"!=typeof e.url||e.url.endsWith("/")||(e.url+="/"),this.config=e,e.url){const t=+e.duration||15,n=Date.now();let a=+(await o.c.local.get("webdavInterval")).webdavInterval;(!a||a<n||n+6e4*t<a)&&(a=n+1e3),await o.c.local.set({webdavInterval:a}),browser.alarms.create("webdav",{when:a,periodInMinutes:t})}else await o.c.local.set({webdavInterval:0});else this.config=i.getDefaultConfig()}async handleSyncAlarm(t){if("webdav"!==t.name)return;e.env.DEV_BUILD&&console.log("WebDAV Alarm Interval"),await this.download({}).catch(()=>{});const n=6e4*this.config.duration||9e5;await o.c.local.set({webdavInterval:Date.now()+n})}async init(e){try{const n=await fetch(e.url,{method:"PROPFIND",headers:{Authorization:"Basic "+window.btoa("".concat(e.user,":").concat(e.passwd)),"Content-Type":'application/xml; charset="utf-8"',Depth:"1"}});if(!n.ok){if(401===n.status)return Promise.reject("unauthorized");throw new Error}var t=await n.text()}catch(e){return Promise.reject("network")}try{if(!t)throw new Error;var n=(new DOMParser).parseFromString(t,"text/xml");if(!n)throw new Error}catch(e){return Promise.reject("parse")}let a=!1;const r=Array.from(n.querySelectorAll("response"));for(let e in r){const t=r[e].querySelector("href");if(t&&t.textContent&&t.textContent.endsWith("/Saladict/")){if(r[e].querySelector("resourcetype collection")){a=!0;break}return Promise.reject("dir")}}if(!a){if(!(await fetch(e.url+"Saladict",{method:"MKCOL",headers:{Authorization:"Basic "+window.btoa("".concat(e.user,":").concat(e.passwd))}})).ok)return Promise.reject("mkcol")}if(await this.setConfig(e),await this.setMeta({}),a)try{return await this.download({testConfig:e,noCache:!0}),Promise.reject("exist")}catch(e){}}async add(t){let{force:n}=t;if(!this.config.url)return void(e.env.DEV_BUILD&&console.warn("sync service ".concat(i.id," upload: empty url")));n||await this.download({});const a=await Object(r.c)();if(!a||a.length<=0)return;const o=Date.now();try{var c=JSON.stringify({timestamp:o,words:a})}catch(t){return e.env.DEV_BUILD&&console.error("WebDAV: Stringify notebook failed",a),Promise.reject("parse")}try{if(!(await fetch(this.config.url+"Saladict/notebook.json",{method:"PUT",headers:{Authorization:"Basic "+window.btoa("".concat(this.config.user,":").concat(this.config.passwd))},body:c})).ok)throw new Error}catch(t){return e.env.DEV_BUILD&&console.error("WebDAV: upload failed",t),Promise.reject("network")}await this.setMeta({timestamp:o,etag:""})}delete(e){let{force:t}=e;return this.add({force:t})}async download(t){let{testConfig:n,noCache:a}=t;const o=n||this.config;if(!o.url)return void(e.env.DEV_BUILD&&console.warn("sync service ".concat(i.id," download: empty url")));const c={Authorization:"Basic "+window.btoa("".concat(o.user,":").concat(o.passwd))};n||a||null==this.meta.etag||(c["If-None-Match"]=this.meta.etag,c["If-Modified-Since"]=this.meta.etag);try{var s=await fetch(o.url+(o.url.endsWith("/")?"":"/")+"Saladict/notebook.json",{method:"GET",headers:c});if(304===s.status)return;if(!s.ok)throw new Error}catch(e){return Promise.reject("network")}try{var l=await s.json()}catch(e){return console.error("Fetch webdav notebook.json error",s),Promise.reject("parse")}if(!Array.isArray(l.words)||l.words.some(e=>!e.date))return console.error("Parse webdav notebook.json error: incorrect words",l),Promise.reject("format");if(!a&&this.meta.timestamp){if(!l.timestamp)return console.error("webdav notebook.json no timestamp",l),Promise.reject("timestamp");if(n||l.timestamp!==this.meta.timestamp||this.meta.etag||await this.setMeta({timestamp:l.timestamp,etag:s.headers.get("ETag")||""}),l.timestamp<=this.meta.timestamp)return}e.env.DEV_BUILD&&(s.headers.get("ETag")||console.warn("webdav notebook.json no etag",s)),n||(await this.setMeta({timestamp:l.timestamp,etag:s.headers.get("ETag")||""}),await Object(r.g)(l.words))}setMeta(e){return this.meta=e,Object(r.f)(i.id,e)}async getMeta(){const e=await Object(r.b)(i.id);this.meta=e||{}}setConfig(e){return this.config=e,Object(r.h)(i.id,e)}async getConfig(){return this.config=await Object(r.d)(i.id)||this.config,this.config}}i.id="webdav",i.title={en:"WebDAV","zh-CN":"WebDAV","zh-TW":"WebDAV"}}.call(this,n(59))},1280:function(e,t,n){"use strict";n.r(t);var a=n(146),r=n.n(a),o=n(215),i=n.n(o),c=n(34),s=n.n(c),l=n(115),u=n.n(l),d=n(0),m=n.n(d),p=n(56),g=n(21),h=n(579),f=n(103),b=n.n(f),y=n(294),j=n.n(y),M=n(279),w=n.n(M),E=n(46),O=n.n(E),I=n(792);const D={width:"1.3em",height:"1.3em",marginRight:5,verticalAlign:"text-bottom"};class N extends m.a.PureComponent{render(){const{t:e,dictID:t,lang:a}=this.props,r=e("dicts:".concat(t,".name"));return m.a.createElement("span",null,m.a.createElement("img",{style:D,src:n(342)("./"+t+"/favicon.png"),alt:"logo ".concat(r)}),r,m.a.createElement(I.default,{t:e,langs:a}))}}class v extends m.a.Component{constructor(){super(...arguments),this.addDict=e=>{const{profile:t}=this.props;t.dicts.selected.push(e),Object(p.n)(t)},this.renderItem=e=>{const{t:t,profile:n}=this.props;return m.a.createElement(w.a.Item,null,m.a.createElement("div",{className:"sortable-list-item"},m.a.createElement(N,{t:t,dictID:e,lang:n.dicts.all[e].lang}),m.a.createElement("div",null,m.a.createElement(O.a,{title:t("common:add"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"check",onClick:()=>this.addDict(e)}))))}}render(){const{onClose:e,show:t,t:n,profile:a}=this.props,r=new Set(a.dicts.selected),o=Object.keys(a.dicts.all).filter(e=>!r.has(e));return m.a.createElement(b.a,{visible:t,title:n("dict.add"),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},m.a.createElement(j.a,null,m.a.createElement(w.a,{size:"large",dataSource:o,renderItem:this.renderItem})))}}var S=v,C=n(126),A=n.n(C),x=n(178),k=n.n(x),z=n(80),L=n.n(z),T=n(9),_=n.n(T),P=n(28),Q=n(122);class U extends m.a.Component{constructor(){super(...arguments),this.renderMoreOptions=e=>{const{t:t,i18n:n,profile:a}=this.props,{getFieldDecorator:r}=this.props.form,o=a.dicts.all[e],i=o.options;if(!i)return;const c="profile#dicts#all#".concat(e,"#options#");return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,t("dict.more_options")),Object.keys(i).map(a=>{const s=i[a];switch(typeof s){case"number":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:a,label:t("dicts:".concat(e,".options.").concat(a)),help:n.exists("dicts:".concat(e,".helpers.").concat(a))?t("dicts:".concat(e,".helpers.").concat(a)):null}),r(c+a,{initialValue:s,rules:[{type:"number"}]})(m.a.createElement(Q.a,{suffix:t("dicts:".concat(e,".options.").concat(a,"_unit"))})));case"boolean":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:a,label:t("dicts:".concat(e,".options.").concat(a)),help:n.exists("dicts:".concat(e,".helpers.").concat(a))?t("dicts:".concat(e,".helpers.").concat(a)):null}),r(c+a,{initialValue:s,valuePropName:"checked"})(m.a.createElement(L.a,null)));case"string":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:a,label:t("dicts:".concat(e,".options.").concat(a)),help:n.exists("dicts:".concat(e,".helpers.").concat(a))?t("dicts:".concat(e,".helpers.").concat(a)):null,style:{marginBottom:0}}),r(c+a,{initialValue:s})(m.a.createElement(k.a.Group,null,o.options_sel[a].map(n=>m.a.createElement(k.a,{value:n,key:n},t("tl"===a?"langcode:".concat(n):"dicts:".concat(e,".options.").concat(a,"-").concat(n)))))))}}))}}render(){const{onClose:e,dictID:t,t:n,profile:a}=this.props,{getFieldDecorator:r}=this.props.form,o="profile#dicts#all#".concat(t),i=a.dicts.all;return m.a.createElement(b.a,{visible:!!t,title:t&&n("dicts:".concat(t,".name")),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},t&&m.a.createElement(_.a,null,m.a.createElement(_.a.Item,Object.assign({},g.c,{label:n("dict.sel_lang"),help:n("dict.sel_lang_help"),extra:m.a.createElement("span",{style:{color:"#c0392b"}},n("opt.sel_lang_warning"))}),P.j.map(e=>m.a.createElement(_.a.Item,{key:e,className:"form-item-inline"},r("".concat(o,"#selectionLang#").concat(e),{initialValue:i[t].selectionLang[e],valuePropName:"checked"})(m.a.createElement(A.a,null,n("common:lang.".concat(e))))))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:n("dict.default_unfold"),help:n("dict.default_unfold_help"),extra:m.a.createElement("span",{style:{color:"#c0392b"}},n("opt.sel_lang_warning"))}),P.j.map(e=>m.a.createElement(_.a.Item,{key:e,className:"form-item-inline"},r("".concat(o,"#defaultUnfold#").concat(e),{initialValue:i[t].defaultUnfold[e],valuePropName:"checked"})(m.a.createElement(A.a,null,n("common:lang.".concat(e))))))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:n("dict.sel_word_count"),help:n("dict.sel_word_count_help")}),m.a.createElement(_.a.Item,{className:"form-item-inline",help:""},r("".concat(o,"#selectionWC#min"),{initialValue:i[t].selectionWC.min,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(Q.a,{suffix:n("common:min")}))),m.a.createElement(_.a.Item,{className:"form-item-inline",help:""},r("".concat(o,"#selectionWC#max"),{initialValue:i[t].selectionWC.max,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(Q.a,{suffix:n("common:max")})))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:n("dict.default_height"),help:n("dict.default_height_help")}),r("".concat(o,"#preferredHeight"),{initialValue:i[t].preferredHeight,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(Q.a,{suffix:"px"}))),this.renderMoreOptions(t)))}}var Y=_.a.create({onFieldsChange:g.e})(U),V=n(32),B=n.n(V);class F extends m.a.Component{render(){const{t:e,config:t,profile:n}=this.props,{getFieldDecorator:a}=this.props.form,r=n.dicts.all.zdic.options.audio?t.autopron.cn.list:t.autopron.cn.list.filter(e=>"zdic"!==e);return m.a.createElement(_.a,null,m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.cn")}),a("config#autopron#cn#dict",{initialValue:t.autopron.cn.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),r.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.en")}),a("config#autopron#en#dict",{initialValue:t.autopron.en.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),t.autopron.en.list.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),t.autopron.en.dict&&m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.accent")}),a("config#autopron#en#accent",{initialValue:t.autopron.en.accent})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:"uk"},e("opt.autopron.accent_uk")),m.a.createElement(B.a.Option,{value:"us"},e("opt.autopron.accent_us"))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.machine")}),a("config#autopron#machine#dict",{initialValue:t.autopron.machine.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),t.autopron.machine.list.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),t.autopron.machine.dict&&m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.machine_src")}),a("config#autopron#machine#src",{initialValue:t.autopron.machine.src})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:"trans"},e("opt.autopron.machine_src_trans")),m.a.createElement(B.a.Option,{value:"searchText"},e("opt.autopron.machine_src_search"))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.waveform"),help:e("opt.waveform_help"),extra:e("opt.profile_change"),required:!0}),a("profile#waveform",{initialValue:n.waveform,valuePropName:"checked"})(m.a.createElement(L.a,null))))}}var R=_.a.create({onFieldsChange:g.e})(F);n.d(t,"Dictionaries",(function(){return G}));class G extends m.a.Component{constructor(){super(...arguments),this.state={isShowAddDictModal:!1,editingDictID:""},this.openAddDictModal=()=>{this.setState({isShowAddDictModal:!0})},this.closeAddDictModal=()=>{this.setState({isShowAddDictModal:!1})},this.closeEditDictModal=()=>{this.setState({editingDictID:""})},this.deleteItem=async e=>{const{profile:t}=this.props;t.dicts.selected.splice(e,1),Object(p.n)(t)},this.handleSortEnd=e=>{let{oldIndex:t,newIndex:n}=e;if(t===n)return;const{profile:a}=this.props;a.dicts.selected=Object(g.a)(a.dicts.selected,t,n),Object(p.n)(a)}}render(){const{t:e,profile:t}=this.props,{selected:n}=t.dicts;return m.a.createElement(r.a,null,m.a.createElement(u.a,null,m.a.createElement(R,this.props)),m.a.createElement(u.a,{span:13},m.a.createElement(h.a,{t:e,title:m.a.createElement(i.a,{title:e("opt.profile_change")},m.a.createElement(s.a,{type:"question-circle-o"})," ",e("opt.dict_selected")),list:n.map(n=>({value:n,title:m.a.createElement(N,{t:e,dictID:n,lang:t.dicts.all[n].lang})})),onAdd:this.openAddDictModal,onEdit:e=>this.setState({editingDictID:n[e]}),onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),m.a.createElement(Y,Object.assign({},this.props,{dictID:this.state.editingDictID,onClose:this.closeEditDictModal})),m.a.createElement(S,Object.assign({},this.props,{show:this.state.isShowAddDictModal,onClose:this.closeAddDictModal}))))}}t.default=G},1283:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n.n(a),o=n(62),i=n.n(o);window.__SALADICT_INTERNAL_PAGE__=!0,window.__SALADICT_OPTIONS_PAGE__=!0,window.__SALADICT_LAST_SEARCH__="";n(201);var c=n(0),s=n.n(c),l=n(18),u=n.n(l),d=n(76),m=n.n(d),p=n(34),g=n.n(p),h=n(148),f=n.n(h),b=n(83),y=n(870),j=n(56),M=n(173);const{Header:w,Content:E,Sider:O}=f.a,I=n(1011),D=new URL(document.URL).searchParams.get("menuselected")||"General";class N extends s.a.Component{constructor(){super(...arguments),this.state={selectedKey:D},this.onNavSelect=e=>{let{key:t}=e;this.setState({selectedKey:t}),this.setTitle(t);const{protocol:n,host:a,pathname:r}=window.location,o="".concat(n,"//").concat(a).concat(r,"?menuselected=").concat(t);window.history.pushState({key:t},"",o),window.ga&&window.ga("send","pageview","/options/".concat(t))},this.setTitle=e=>{const{t:t}=this.props;document.title="".concat(t("title")," - ").concat(t("nav."+e))}}componentDidMount(){this.setTitle(this.state.selectedKey),Object(M.a)("/options/".concat(this.state.selectedKey)),window.addEventListener("popstate",e=>{this.setState({selectedKey:e.state.key||"General"})})}render(){const{t:e,i18n:t,config:n,profile:a,rawProfileName:r}=this.props;return s.a.createElement(f.a,{className:"xmain-container",style:{maxWidth:1400,margin:"0 auto"}},s.a.createElement(w,{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement("h1",{style:{color:"#fff"}},e("title")),s.a.createElement("span",{style:{color:"#fff"}},"「 ",Object(j.i)(r,e)," 」"),s.a.createElement(y.a,null)),s.a.createElement(f.a,null,s.a.createElement(O,{width:180,style:{background:"#fff"}},s.a.createElement(m.a,{mode:"inline",selectedKeys:[this.state.selectedKey],style:{height:"100%",borderRight:0},onSelect:this.onNavSelect},s.a.createElement(m.a.Item,{key:"General"},s.a.createElement(g.a,{type:"setting"})," ",e("nav.General")),s.a.createElement(m.a.Item,{key:"Notebook"},s.a.createElement(g.a,{type:"tags"})," ",e("nav.Notebook")),s.a.createElement(m.a.Item,{key:"Profiles"},s.a.createElement(g.a,{type:"dashboard"})," ",e("nav.Profiles")),s.a.createElement(m.a.Item,{key:"DictPanel"},s.a.createElement(g.a,{type:"profile"})," ",e("nav.DictPanel")),s.a.createElement(m.a.Item,{key:"SearchModes"},s.a.createElement(g.a,{type:"select"})," ",e("nav.SearchModes")),s.a.createElement(m.a.Item,{key:"Dictionaries"},s.a.createElement(g.a,{type:"book"})," ",e("nav.Dictionaries")),s.a.createElement(m.a.Item,{key:"PDF"},s.a.createElement(g.a,{type:"file-pdf"})," ",e("nav.PDF")),s.a.createElement(m.a.Item,{key:"ContextMenus"},s.a.createElement(g.a,{type:"database"})," ",e("nav.ContextMenus")),s.a.createElement(m.a.Item,{key:"Popup"},s.a.createElement(g.a,{type:"layout"})," ",e("nav.Popup")),s.a.createElement(m.a.Item,{key:"QuickSearch"},s.a.createElement(g.a,{type:"flag"})," ",e("nav.QuickSearch")),s.a.createElement(m.a.Item,{key:"BlackWhiteList"},s.a.createElement(g.a,{type:"exception"})," ",e("nav.BlackWhiteList")),s.a.createElement(m.a.Item,{key:"ImportExport"},s.a.createElement(g.a,{type:"swap"})," ",e("nav.ImportExport")))),s.a.createElement(f.a,{style:{padding:"24px",minHeight:innerHeight-64}},s.a.createElement(E,{style:{background:"#fff",padding:24,margin:0}},s.a.createElement(I("./".concat(this.state.selectedKey,"/index.tsx")).default,{t:e,i18n:t,config:n,profile:a})))))}}var v=Object(b.c)()(N),S=(n(764),n(217)),C=n(120),A=n(31),x=n(40),k=n(60),z=n(4);var L=n(3),T=n(85),_=n(195),P=n(298),Q=n(299),U=n(297),Y=n(49),V=n(350),B=n.n(V),F=n(580),R=n.n(F),G=n(581),K=n.n(G),W=(n(1134),n(38));n.d(t,"Options",(function(){return X}));const H=Object(Y.a)();H.loadNamespaces(["common","options","dicts","menus","langcode"]),H.setDefaultNamespace("options");const Z={"zh-CN":B.a,"zh-TW":R.a,en:K.a};class X extends s.a.Component{constructor(){var e;super(...arguments),e=this,this.reduxStore=Object(_.a)(),this.state={config:Object(S.a)(),profile:Object(C.b)(),profileIDList:[],rawProfileName:""},this.getActiveProfileName=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.profileIDList;const a=n.find(e=>{let{id:n}=e;return n===t});return a?a.name:""}}componentDidMount(){Promise.all([Object(A.c)(),Object(j.e)(),Object(j.h)()]).then(async e=>{let[t,n,a]=e;this.setState({config:t,profile:n,profileIDList:a,rawProfileName:this.getActiveProfileName(n.id,a)}),window.innerWidth>1024&&(await Object(k.d)(500),L.a.self.send({type:"SELECTION",payload:{word:Object(W.e)({text:await Object(k.a)([Object(x.a)("https://www.merriam-webster.com/word-of-the-day").then(e=>{const t=Object(z.f)(e,"title");return(t.match(/Word of the Day: (.+) \| Merriam-Webster/)||["",""])[1]||Object(z.h)()}),Object(x.a)("https://www.dictionary.com/wordoftheday/").then(e=>{const t=Object(z.f)(e,"title");return(t.match(/Get the Word of the Day - (.+) \| Dictionary\.com/)||["",""])[1]||Object(z.h)()})]).catch(()=>"salad")}),self:!0,instant:!0,mouseX:window.innerWidth-t.panelWidth-50,mouseY:80,dbClick:!0,shiftKey:!0,ctrlKey:!0,metaKey:!0,force:!0}}))}),Object(A.a)(e=>{let{newConfig:t}=e;this.setState({config:t}),i.a.destroy(),i.a.success(H.t("msg_updated"))}),Object(j.a)(e=>{let{newProfile:t}=e;this.setState({profile:t,rawProfileName:this.getActiveProfileName(t.id)}),i.a.destroy(),i.a.success(H.t("msg_updated"))}),Object(j.c)(e=>{let{newValue:t}=e;this.setState({profileIDList:t}),i.a.destroy(),i.a.success(H.t("msg_updated"))})}render(){return s.a.createElement(b.a,{i18n:H},s.a.createElement(r.a,{locale:Z[this.state.config.langCode]||B.a},s.a.createElement(v,this.state)),window.innerWidth>1024&&s.a.createElement(T.a,{store:this.reduxStore},s.a.createElement(P.a,null),s.a.createElement(Q.a,null),s.a.createElement(U.a,null)))}}u.a.render(s.a.createElement(X,null),document.getElementById("root"))},1287:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n.n(a),o=n(126),i=n.n(o),c=n(9),s=n.n(c),l=n(80),u=n.n(l),d=n(0),m=n.n(d),p=n(3),g=n(21),h=n(103),f=n.n(h),b=n(121),y=n.n(b),j=n(127),M=n(81),w=n(122);class E extends m.a.Component{constructor(){super(...arguments),this.formItemLayout={labelCol:{span:5},wrapperCol:{span:18}}}render(){const{t:e,form:t}=this.props,{getFieldDecorator:n}=t;return m.a.createElement(s.a,null,m.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("sync.webdav.explain")}}),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.url"),hasFeedback:!0}),n("url",{rules:[{type:"url",message:e("sync.error_url")}]})(m.a.createElement(y.a,null))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.user")}),n("user",{})(m.a.createElement(y.a,null))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.passwd")}),n("passwd",{})(m.a.createElement(y.a,{type:"password"}))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.duration"),extra:e("sync.webdav.duration_help")}),n("duration",{rules:[{type:"number",whitespace:!0}]})(m.a.createElement(w.a,{suffix:e("common:unit.mins")}))))}}const O=s.a.create({mapPropsToFields:e=>e.configFormItems,onFieldsChange(e,t,n){e.onChange(n)}})(E);class I extends m.a.Component{constructor(){super(...arguments),this.isSyncServiceTainted=!1,this.state={isSyncServiceLoading:!1,configFormItems:D(this.props.syncConfig||j.Service.getDefaultConfig())},this.closeSyncService=()=>{this.isSyncServiceTainted&&!confirm(this.props.t("sync.close_confirm"))||(this.props.onClose(),this.isSyncServiceTainted=!1)},this.saveSyncService=async()=>{const{t:e}=this.props,{configFormItems:t}=this.state;if(!t)return;let n=!1;this.setState({isSyncServiceLoading:!0});const a=await p.a.send({type:"SYNC_SERVICE_INIT",payload:{serviceID:j.Service.id,config:N(t)}}).catch(()=>({})),r=a&&a.error;if(r&&"exist"!==r)return alert(this.getErrorMsg(r)),void this.setState({isSyncServiceLoading:!1});"exist"===r&&confirm(e("sync.webdav.err_exist"))&&await p.a.send({type:"SYNC_SERVICE_DOWNLOAD",payload:{serviceID:j.Service.id,noCache:!0}}).catch(()=>({error:"unknown"})).then(e=>{e&&e.error&&(n=!0,alert(this.getErrorMsg(e.error)))}),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:j.Service.id,force:!0}}).catch(()=>({error:"unknown"})).then(e=>{e&&e.error&&(n=!0,alert(this.getErrorMsg(e.error)))}),this.setState({isSyncServiceLoading:!1}),n||(this.isSyncServiceTainted=!1,this.props.onClose())},this.clearSyncService=async()=>{confirm(this.props.t("sync.delete_confirm"))&&(await Object(M.e)(j.Service.id),this.setState({configFormItems:D(j.Service.getDefaultConfig())}),this.isSyncServiceTainted=!1,this.props.onClose())},this.getErrorMsg=e=>{const t="string"==typeof e?e:String(e);return/^(network|unauthorized|mkcol|parse)$/.test(t)?this.props.t("sync.webdav.err_"+t):this.props.t("sync.webdav.err_unknown",{error:t})},this.onSyncConfigChanged=e=>{this.isSyncServiceTainted=!0,this.setState({configFormItems:e})}}render(){const{t:e,show:t}=this.props,{configFormItems:n}=this.state,a=!t||!n.url.value||Object.values(n).some(e=>{let{errors:t}=e;return null!=t&&t.length>0});return m.a.createElement(f.a,{visible:t,title:e("sync.webdav.title"),destroyOnClose:!0,onOk:this.saveSyncService,onCancel:this.closeSyncService,footer:[m.a.createElement(r.a,{key:"delete",type:"danger",onClick:this.clearSyncService},e("common:delete")),m.a.createElement(r.a,{key:"save",type:"primary",disabled:a,loading:this.state.isSyncServiceLoading,onClick:this.saveSyncService},e("common:save")),m.a.createElement(r.a,{key:"cancel",onClick:this.closeSyncService},e("common:cancel"))]},m.a.createElement(O,{t:e,configFormItems:n,onChange:this.onSyncConfigChanged}))}}function D(e){return Object.keys(e).reduce((t,n)=>(t[n]=s.a.createFormField({value:e[n]}),t),{})}function N(e){return Object.keys(e).reduce((t,n)=>(t[n]=e[n].value,"url"===n&&t[n]&&!t[n].endsWith("/")&&(t[n]+="/"),t),{})}var v=n(62),S=n.n(v),C=n(131),A=n(38);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends m.a.Component{constructor(){super(...arguments),this.state={syncConfig:this.props.syncConfig||C.Service.getDefaultConfig()},this.closeSyncService=()=>{this.props.onClose()},this.handleEnableChanged=async e=>{if(e){const e=await p.a.send({type:"SYNC_SERVICE_INIT",payload:{serviceID:C.Service.id,config:this.state.syncConfig}}).catch(e=>({error:e}));if(e&&e.error)return alert(this.props.t("sync.shanbay.login")),void C.Service.openLogin()}else Object(M.h)("shanbay",k({},this.state.syncConfig,{enable:!1}));this.setState(t=>({syncConfig:k({},t.syncConfig,{enable:e})}))},this.handleSyncAll=async()=>{const{t:e}=this.props,{total:t}=await Object(A.b)("notebook",{itemsPerPage:1,filters:{}});t>50&&!confirm(e("sync.shanbay.sync_all_confirm"))||(S.a.success(e("sync.start")),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:C.Service.id,force:!0}}).catch(()=>({error:"unknown"})).then(t=>{t&&t.error&&S.a.success(e("sync.failed"))}),S.a.success(e("sync.success")))},this.handleSyncLast=async()=>{const{t:e}=this.props,{words:t}=await Object(A.b)("notebook",{itemsPerPage:1,filters:{}});!t||t.length<=0||(S.a.success(e("sync.start")),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:C.Service.id,force:!0,words:t}}).catch(()=>({error:"unknown"})).then(t=>{t&&t.error&&S.a.success(e("sync.failed"))}),S.a.success(e("sync.success")))}}render(){const{t:e,show:t}=this.props;return m.a.createElement(f.a,{visible:t,title:e("sync.shanbay.title"),destroyOnClose:!0,onCancel:this.closeSyncService,footer:[]},m.a.createElement(s.a,null,m.a.createElement("p",null,e("sync.shanbay.description")),m.a.createElement(s.a.Item,Object.assign({},g.c,{label:e("common:enable")}),m.a.createElement(u.a,{checked:this.state.syncConfig.enable,onChange:this.handleEnableChanged})),this.state.syncConfig.enable&&m.a.createElement("div",{style:{textAlign:"center"}},m.a.createElement(r.a,{onClick:this.handleSyncAll,style:{marginRight:10}},e("sync.shanbay.sync_all")),m.a.createElement(r.a,{onClick:this.handleSyncLast},e("sync.shanbay.sync_last")))))}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"Notebook",(function(){return Q}));class Q extends m.a.Component{constructor(e){super(e),this.state={isShowSyncServiceModal:{[j.Service.id]:!1,[C.Service.id]:!1},syncConfigs:null},this.showSyncServiceModal=(e,t)=>{this.setState(n=>({isShowSyncServiceModal:_({},n.isShowSyncServiceModal,{[e]:t})}))},p.c.sync.get("syncConfig").then(e=>{let{syncConfig:t}=e;this.setState({syncConfigs:t||{}})}),p.c.sync.addListener("syncConfig",e=>{let{syncConfig:t}=e;this.setState({syncConfigs:t.newValue||{}})})}render(){const{t:e,config:t}=this.props,{getFieldDecorator:n}=this.props.form,{syncConfigs:a,isShowSyncServiceModal:o}=this.state;return m.a.createElement(s.a,null,m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.edit_on_fav"),help:e("opt.edit_on_fav_help")}),n("config#editOnFav",{initialValue:t.editOnFav,valuePropName:"checked"})(m.a.createElement(u.a,null))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.history"),help:e("opt.history_help")}),n("config#searhHistory",{initialValue:t.searhHistory,valuePropName:"checked"})(m.a.createElement(u.a,null))),t.searhHistory&&m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.history_inco")}),n("config#searhHistoryInco",{initialValue:t.searhHistoryInco,valuePropName:"checked"})(m.a.createElement(u.a,null))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.ctx_trans"),help:e("opt.ctx_trans_help")}),Object.keys(t.ctxTrans).map(a=>m.a.createElement(s.a.Item,{key:a,style:{marginBottom:0}},n("config#ctxTrans#".concat(a),{initialValue:t.ctxTrans[a],valuePropName:"checked"})(m.a.createElement(i.a,null,e("dicts:".concat(a,".name"))))))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("sync.webdav.title")}),m.a.createElement(r.a,{onClick:()=>this.showSyncServiceModal(j.Service.id,!0)},"".concat(e("sync.webdav.title")," (").concat(e(a&&a[j.Service.id]&&a[j.Service.id].url?"common:enabled":"common:disabled"),")"))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("sync.shanbay.title")}),m.a.createElement(r.a,{onClick:()=>this.showSyncServiceModal(C.Service.id,!0)},"".concat(e("sync.shanbay.title")," (").concat(e(a&&a[C.Service.id]&&a[C.Service.id].enable?"common:enabled":"common:disabled"),")"))),a&&m.a.createElement(m.a.Fragment,null,m.a.createElement(I,{syncConfig:a[j.Service.id],t:e,show:o[j.Service.id],onClose:()=>this.showSyncServiceModal(j.Service.id,!1)}),m.a.createElement(L,{syncConfig:a[C.Service.id],t:e,show:o[C.Service.id],onClose:()=>this.showSyncServiceModal(C.Service.id,!1)})))}}t.default=s.a.create({onFieldsChange:g.e})(Q)},1294:function(e,t,n){"use strict";n.r(t);var a=n(146),r=n.n(a),o=n(115),i=n.n(o),c=n(62),s=n.n(c),l=n(0),u=n.n(l),d=n(21),m=n(120),p=n(56),g=n(103),h=n.n(g),f=n(9),b=n.n(f),y=n(121),j=n.n(y);class M extends u.a.Component{render(){const{title:e,onClose:t,name:n,show:a}=this.props,{getFieldDecorator:r,getFieldValue:o}=this.props.form;return u.a.createElement(h.a,{visible:a,title:e,destroyOnClose:!0,onOk:()=>t(o("profile_name")),onCancel:()=>t()},u.a.createElement(b.a,null,u.a.createElement(b.a.Item,null,r("profile_name",{initialValue:n})(u.a.createElement(j.a,{autoFocus:!0})))))}}var w=b.a.create()(M),E=n(579);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"Profiles",(function(){return D}));class D extends u.a.Component{constructor(){var e;super(...arguments),e=this,this.state={selected:"",list:[],editingProfileID:null,showEditNameModal:!1,showAddProfileModal:!1},this.openAddProfileModal=()=>{this.setState({showAddProfileModal:!0})},this.editProfileName=e=>{this.setState({showEditNameModal:!0,editingProfileID:this.state.list[e]})},this.handleProfileSelect=async e=>{let{target:{value:t}}=e;this.setState({selected:t}),await Object(p.m)(t),s.a.destroy(),s.a.success(this.props.t("msg_updated"))},this.deleteItem=async e=>{const{t:t}=this.props,{name:n,id:a}=this.state.list[e];confirm(t("profiles.delete_confirm",{name:Object(p.i)(n,t)}))&&(await Object(p.k)(a),this.setState(e=>{let{list:t}=e;return{list:t.filter(e=>e.id!==a)}}),s.a.destroy(),s.a.success(t("msg_updated")))},this.handleAddProfileClose=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t=t.trim()){const n=Object(m.c)();n.name=t,await Object(p.b)(n),e.setState(e=>{let{list:t}=e;return{list:[...t,n],showAddProfileModal:!1}}),s.a.destroy(),s.a.success(e.props.t("msg_updated"))}else e.setState({showAddProfileModal:!1})},this.handleEditNameClose=async e=>{const{editingProfileID:t,list:n,selected:a}=this.state;if(e&&t){const r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{name:e}),o=n.map(e=>e.id===r.id?r:e);await Object(p.o)(o),this.setState({list:o,editingProfileID:null,showEditNameModal:!1}),r.id!==a&&(s.a.destroy(),s.a.success(this.props.t("msg_updated")))}else this.setState({editingProfileID:null,showEditNameModal:!1})},this.handleSortEnd=e=>{let{oldIndex:t,newIndex:n}=e;t!==n&&this.setState(e=>{let{list:a}=e;const r=Object(d.a)(a.slice(),t,n);return Object(p.o)(r).then(()=>{s.a.destroy(),s.a.success(this.props.t("msg_updated"))}),{list:r}})}}componentDidMount(){Object(p.h)().then(async e=>{this.setState({list:e.filter(Boolean)})}),Object(p.f)().then(e=>{this.setState({selected:e})})}render(){const{t:e}=this.props,{selected:t,list:n,editingProfileID:a,showEditNameModal:o,showAddProfileModal:c}=this.state;return u.a.createElement(r.a,null,u.a.createElement(i.a,{span:12},u.a.createElement(E.a,{t:e,title:e("nav.Profiles"),description:u.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("profiles.help")}}),list:n.map(t=>({value:t.id,title:Object(p.i)(t.name,e)})),selected:t,onSelect:this.handleProfileSelect,onAdd:this.openAddProfileModal,onEdit:this.editProfileName,onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),u.a.createElement(w,{title:e("profiles.add_name"),show:c,name:"",onClose:this.handleAddProfileClose}),u.a.createElement(w,{title:e("profiles.edit_name"),show:o,name:a?Object(p.i)(a.name,e):"",onClose:this.handleEditNameClose})))}}t.default=D},131:function(e,t,n){"use strict";n.r(t),n.d(t,"Service",(function(){return s}));var a=n(276),r=n(81),o=n(3),i=n(60);const c={open:{en:"Open","zh-CN":"打开","zh-TW":"開啟"},loginCheckFailed:{en:"Shanbay login failed. Click to open shanbay.com.","zh-CN":"扇贝登录已失效，请点击打开官网重新登录。","zh-TW":"扇貝登入已失效，請點選開啟官網重新登入。"},errNetwork:{en:"Unable to access shanbay.com. Please check your network connection.","zh-CN":"无法访问扇贝生词本，请检查网络。","zh-TW":"無法訪問扇貝生字本，請檢查網路。"},errWord:{en:"Unable to add to Shanbay notebook. This word is not in Shanbay's vocabulary database.","zh-CN":"无法添加到扇贝生词本，扇贝单词库没有收录此单词。","zh-TW":"無法新增到扇貝生字本，扇貝單字庫沒有收錄此單字。"},errLearning:{en:"Unable to add to Shanbay notebook.","zh-CN":"无法添加到扇贝生词本。","zh-TW":"無法新增到扇貝生字本。"}};class s extends a.a{constructor(){super(...arguments),this.config=s.getDefaultConfig()}static getDefaultConfig(){return{enable:!1}}static openLogin(){return Object(o.b)("https://www.shanbay.com/web/account/login")}async startInterval(){const e=await Object(r.d)(s.id);e&&(this.config=e),browser.notifications.onClicked.addListener(this.handleLoginNotification),browser.notifications.onButtonClicked&&browser.notifications.onButtonClicked.addListener(this.handleLoginNotification)}async init(){if(!await this.isLogin())return Promise.reject("login");this.config.enable=!0,await Object(r.h)(s.id,this.config)}async add(e){let{words:t,force:n}=e;if(this.config.enable)if(await this.isLogin()){if(n&&(t=await Object(r.c)()),t&&!(t.length<=0))for(let e=0;e<t.length;e++){try{await this.addWord(t[e].text)}catch(e){break}(e+1)%50==0?await Object(i.d)(9e5):await Object(i.d)(500)}}else this.notifyLogin()}async addWord(e){try{const n="http://www.shanbay.com/api/v1/bdc/search/?word="+encodeURIComponent(e);var t=await fetch(n).then(e=>e.json())}catch(t){return this.notifyError("errNetwork",e),Promise.reject("network")}if(!t||!t.data)return this.notifyError("errWord",e),Promise.reject("word");try{var n=await fetch("http://www.shanbay.com/api/v1/bdc/learning/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"content_type=vocabulary&id=".concat(t.data.id)}).then(e=>e.json())}catch(t){return this.notifyError("errNetwork",e),Promise.reject("network")}return n&&0===n.status_code?void 0:(this.notifyError("errLearning",e),Promise.reject("learning"))}async isLogin(){return Boolean(await browser.cookies.get({url:"http://www.shanbay.com",name:"auth_token"}))}handleLoginNotification(e){"shanbay-login"===e&&s.openLogin()}notifyError(e,t){const{langCode:n}=window.appConfig;browser.notifications.create({type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(s.title[n]),message:"「".concat(t,"」").concat(c[e][n]),eventTime:Date.now()+1e4,priority:2})}notifyLogin(){const{langCode:e}=window.appConfig,t={type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(s.title[e]),message:c.loginCheckFailed[e],eventTime:Date.now()+1e4,priority:2};navigator.userAgent.includes("Firefox")||(t.buttons=[{title:c.open[e]}]),browser.notifications.create("shanbay-login",t)}}s.id="shanbay",s.title={en:"Shanbay","zh-CN":"扇贝","zh-TW":"扇贝"}},134:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return b}));var a=n(611),r=n(3),o=n(28),i=n(161);class c extends a.a{constructor(){super("SaladictWords"),this.notebook=void 0,this.history=void 0,this.syncmeta=void 0,this.version(1).stores({notebook:"date,text,context,url",history:"date,text,context,url",syncmeta:"id"}),this.notebook=this.table("notebook"),this.history=this.table("history"),this.syncmeta=this.table("syncmeta")}}const s=new c;function l(t){return s.syncmeta.where("id").equals(t).first(e=>e&&e.json).catch(t=>{e.env.DEV_BUILD&&console.error(t)})}function u(e,t){return s.syncmeta.put({id:e,json:t})}function d(t){return s.syncmeta.delete(t).catch(t=>{e.env.DEV_BUILD&&console.error(t)})}function m(e){return s.notebook.where("text").equalsIgnoreCase(e.text).count().then(e=>e>0)}function p(e){let{area:t,word:n}=e;return"notebook"===t&&Object(i.d)({op:"ADD",words:[n]}).catch(()=>{}),s[t].put(n)}function g(t){let{area:n,words:a}=t;return e.env.DEV_BUILD&&a.length!==new Set(a.map(e=>e.date)).size&&console.error("save Words: duplicate records"),"notebook"===n&&Object(i.d)({op:"ADD",words:a}).catch(()=>{}),s[n].bulkPut(a)}function h(e){let{area:t,dates:n}=e;return"notebook"===t&&Object(i.d)({op:"DELETE",dates:n}).catch(()=>{}),Array.isArray(n)?s[t].bulkDelete(n):s[t].clear()}function f(e){let{area:t,text:n}=e;return s[t].where("text").equalsIgnoreCase(n).toArray()}async function b(e){let{area:t,itemsPerPage:n,pageNum:a,filters:r={},sortField:i="date",sortOrder:c="descend",searchText:l}=e;const u=s[t].orderBy(i);"descend"===c&&u.reverse();const d=Array.isArray(r.text)&&r.text.length>0;if(d||l){const e=d?r.text.reduce((e,t)=>(e[t]=!0,e),{}):{},t=l?l.toLocaleLowerCase():"";u.filter(n=>{const a=!d||(e.en&&Object(o.e)(n.text)||e.ch&&Object(o.c)(n.text)||e.word&&!/\s/.test(n.text)||e.phra&&/\s/.test(n.text)),r=!l||Object.values(n).some(e=>"string"==typeof e&&-1!==e.toLocaleLowerCase().indexOf(t));return a&&r})}const m=await u.count();return void 0!==n&&void 0!==a&&u.offset(n*(a-1)).limit(n),{total:m,words:await u.toArray()}}s.on("ready",()=>s.notebook.count(async e=>{if(e>0)return;const{notebookCat:t}=await r.c.local.get("notebookCat");if(!t||!Array.isArray(t.data))return;const n=t.data,a=await r.c.local.get(n),o=[];return n.forEach(e=>{const t=a[e];t&&Array.isArray(t.data)&&t.data.forEach(e=>{const{date:t,data:n}=e,a=new Date("".concat(t.slice(0,2),"/").concat(t.slice(2,4),"/").concat(t.slice(4))).getTime(),r=n.map((e,t)=>({date:a+t,text:e.text||"",context:e.context||"",title:e.title||"",favicon:e.favicon?e.favicon.startsWith("chrome")?"https://saladict.crimx.com/favicon.ico":e.favicon:"",url:e.url||"",trans:e.trans||"",note:e.note||""}));o.push(...r)})}),browser.storage.local.clear(),s.transaction("rw",s.notebook,()=>s.notebook.bulkAdd(o))})),s.open()}).call(this,n(59))},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),r=n.n(a),o=n(73),i=n(194),c=n(154),s=n(57),l=n(94),u=n(95),d=n(37),m=n(49),p=n(104);const g=e=>{let{source:t}=e;return r.a.createElement("div",{className:"MachineTrans-Lines"},r.a.createElement(d.c,{src:t.tts}),t.paragraphs.map((e,t)=>r.a.createElement("p",{key:t},e)))},h=e=>{const{trans:t,searchText:n,langcodes:d,tl:h,sl:f}=e.result,{t:b}=Object(m.b)(["content","langcode"]),[y,j]=Object(a.useState)(!1),[M,w]=Object(l.a)(e=>Object(p.b)(e).pipe(Object(c.a)(e=>e?Object(s.a)(500):Object(s.a)(800))));return Object(u.a)(w,j),r.a.createElement("div",null,r.a.createElement("div",{className:"MachineTrans-Text"},r.a.createElement(g,{source:t}),n.paragraphs.join("").length<=100?r.a.createElement(g,{source:n}):r.a.createElement("div",null,r.a.createElement("details",null,r.a.createElement("summary",null,b("machineTrans.stext")),r.a.createElement(g,{source:n})))),r.a.createElement("div",{className:"MachineTrans-LangSwitchWrap"},r.a.createElement(i.a,null,r.a.createElement(o.a,{key:y?"select":"button",classNames:"MachineTrans-LangSwitch",timeout:100},y?function(){return r.a.createElement("div",{className:"MachineTrans-LangSwitch",onMouseOver:M,onMouseLeave:M},r.a.createElement("div",{className:"MachineTrans-LangSwitch_Titles"},r.a.createElement("span",null,"".concat(b("machineTrans.tl"),": ")),r.a.createElement("span",null,"".concat(b("machineTrans.sl"),": "))),r.a.createElement("div",{className:"MachineTrans-LangSwitch_Selects"},r.a.createElement("select",{name:"tl",value:h,onChange:E},d.map(e=>r.a.createElement("option",{key:e,value:e},e," ",b("langcode:"+e)))),r.a.createElement("select",{name:"sl",value:f,onChange:E},r.a.createElement("option",{key:"auto",value:"auto"},b("machineTrans.auto")),d.map(e=>r.a.createElement("option",{key:e,value:e},e," ",b("langcode:"+e))))))}:function(){return r.a.createElement("button",{className:"MachineTrans-LangSwitchBtn",onClick:()=>j(!0),onMouseOver:M,onMouseLeave:M},b("machineTrans.switch"))}))));function E(t){e.searchText({id:e.result.id,payload:{sl:f,tl:h,[t.currentTarget.name]:t.currentTarget.value}})}}},151:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(3),r=n(5);async function o(e,t){try{const n=await a.a.send({type:"FETCH_DICT_RESULT",payload:{id:t,text:e,payload:{isPDF:Object(r.g)()}}});return n&&n.result&&n.result.trans&&n.result.trans.paragraphs.join("\n")||""}catch(e){return""}}async function i(e,t){return(await Promise.all(Object.keys(t).map(async n=>({id:n,content:t[n]?await o(e,n):""})))).reduce((e,t)=>{let{id:n,content:a}=t;return e[n]=a,e},{})}function c(e,t){const n=Object.keys(t).filter(e=>t[e]);if(n.length<=0)return e;const a=n.map(e=>"[:: ".concat(e," ::]\n")+t[e]).join("\n\n")+"\n".concat("".padEnd(15,"-"),"\n");if(!e)return a;const r=/\[:: (\w+) ::\]\n([\s\S]+?)-{15}/;return r.test(e)?e.replace(r,a):e+"\n\n"+a}},161:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(60);const r=n(762);let o=new Map;function i(){(o=r.keys().reduce((e,t)=>{const n=r(t).Service;return e.set(n.id,new n)},o)).forEach(e=>e.startInterval())}async function c(t){let{serviceID:n,config:a}=t;const r=o.get(n);return r?r.init(a).catch(u):(e.env.DEV_BUILD&&console.error("Sync service init error: wrong service id ".concat(n)),u("wrong service id"))}async function s(e){let t=[];if(e.serviceID){const n=o.get(e.serviceID);if(!n)return void console.error("Sync service upload error: wrong service id ".concat(e.serviceID));t.push(n)}return t.length<=0&&t.push(...o.values()),Promise.all(t.map(async t=>{try{"ADD"===e.op?await t.add({words:e.words,force:e.force}):"DELETE"===e.op&&await t.delete({dates:e.dates,force:e.force})}catch(e){const n=t.constructor.title[window.appConfig.langCode],a="string"==typeof e?e:"unknown";browser.notifications.create({type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(n),message:"Error '".concat(a,"' occurs during sync service ").concat(n," uploading."),eventTime:Date.now()+2e4,priority:2})}}))}async function l(t){if(t){const n=o.get(t.serviceID);return n?n.download({noCache:t.noCache}).catch(u):(e.env.DEV_BUILD&&console.error("Sync service download error: wrong service id ".concat(t.serviceID)),u("wrong service id"))}return Object(a.b)([...o.values()].map(e=>e.download({})))}function u(e){return{error:"string"==typeof e?e:"unknown"}}}).call(this,n(59))},173:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(193),r=n.n(a);function o(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(e.env.DEV_BUILD||n.ga)return;const a=new r.a,o=a.getBrowser(),i=a.getOS();n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=Date.now(),n.ga("create","UA-49163616-4","auto"),n.ga("set","checkProtocolTask",null),n.ga("set","transport","beacon"),n.ga("set","dimension1",o.name||"None"),n.ga("set","dimension2",(o.version||"0.0").split(".").slice(0,3).join(".")),n.ga("set","dimension3",i.name||"None"),n.ga("set","dimension4",i.version||"0.0"),n.ga("send","pageview",t);const c=n.document.createElement("script");c.type="text/javascript",c.async=!0,c.src="https://www.google-analytics.com/analytics.js",n.document.body.appendChild(c)}}).call(this,n(59))},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.a.PureComponent{render(){const e=this.props.className||"widget-StarRates",t=this.props.max||5,n=Number(this.props.rate)%(t+1)||0,a=this.props.height||"1.5em",c=this.props.gutter||"0.3em",s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:a},this.props.style||{});return r.a.createElement("div",{className:e,style:s},Array.from(Array(t)).map((e,o)=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.67 426.67",key:o+n,width:a,height:a,style:{marginRight:o===t-1?"":c}},r.a.createElement("path",{fill:o<n?"#FAC917":"#d1d8de",d:"M213.33 10.44l65.92 133.58 147.42 21.42L320 269.4l25.17 146.83-131.84-69.32-131.85 69.34 25.2-146.82L0 165.45l147.4-21.42"}))))}}},201:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(3),o=n(31),i=n(5),c=n(11),s=n(790),l=n(84);function u(e){window.parent===window?r.a.self.send({type:"SELECTION",payload:e}):window.parent.postMessage({type:"SALADICT_SELECTION",payload:e},"*")}var d=n(12),m=n(28),p=n(89),g=n(72),h=n(75),f=n(619),b=n(74),y=n(22),j=n(57),M=n(133),w=n(218),E=n(44),O=n(154),I=n(23),D=n(90);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){const t=e.clientX,n=e.clientY;let r,o,i;const c=window.getSelection();if(!c)return null;if(c.rangeCount>0&&(i=c.getRangeAt(0)),document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t,n);if(!e)return null;r=e.offsetNode,o=e.offset}else{if(!document.caretRangeFromPoint)return null;{const e=document.caretRangeFromPoint(t,n);if(!e)return null;r=e.startContainer,o=e.startOffset}}if(r.nodeType===Node.TEXT_NODE){const e=r,s=e.data,l=(s.slice(0,o).match(/[-_a-z]+$/i)||[""])[0],u=(s.slice(o).match(/^([-_a-z]+|[\u4e00-\u9fa5])/i)||[""])[0];if(l.length<=0&&u.length<=0)return null;const d=document.createRange();d.setStart(e,o-l.length),d.setEnd(e,o+u.length);const m=d.getBoundingClientRect();m.left<=t&&m.right>=t&&m.top<=n&&m.bottom>=n&&(c.removeAllRanges(),c.addRange(d),c.modify&&(c.modify("move","backward","word"),c.collapseToStart(),c.modify("extend","forward","word")));const p=Object(a.d)(c),g=Object(a.b)(c);return c.removeAllRanges(),i&&c.addRange(i),d.detach(),p?{text:p,context:g}:null}return null}var C=n(798),A=n(292);var x=n(125);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}if(!window.__SALADICT_SELECTION_LOADED__){window.__SALADICT_SELECTION_LOADED__=!0;const e=Object(o.b)().pipe(Object(c.a)(e=>Object(d.a)(e)?null:e),Object(s.a)());r.a.addListener("PRELOAD_SELECTION",()=>{const e=Object(a.c)();if(e)return Object(d.e)({text:e,context:Object(a.a)()})}),r.a.createStream("EMIT_SELECTION").subscribe(async()=>{const e=window.getSelection();if(e){const t=Object(a.d)(e),n=e.getRangeAt(0).getBoundingClientRect();t&&u({mouseX:n.right,mouseY:n.top,instant:!0,self:Object(i.c)(e.anchorNode),word:await Object(d.e)({text:t,context:Object(a.b)(e)}),dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,force:!1})}}),window.addEventListener("message",(function(e){let{data:t,source:n}=e;if(!t||"SALADICT_SELECTION"!==t.type)return;const a=e=>{let{contentWindow:t}=e;return t===n},r=Array.from(document.querySelectorAll("iframe")).find(a)||Array.from(document.querySelectorAll("frame")).find(a);if(!r)return;const{left:o,top:i}=r.getBoundingClientRect();t.payload.mouseX=t.payload.mouseX+o,t.payload.mouseY=t.payload.mouseY+i,u(t.payload)})),Object(d.f)(d.b).subscribe(()=>r.a.self.send({type:"ESCAPE_KEY"})),e.pipe(Object(l.a)((function(e){if(!e||!e.tripleCtrl||Object(i.j)()||Object(i.f)())return Object(p.a)();const t=Object(s.a)()(Object(d.f)(d.c));return t.pipe(Object(C.a)(Object(g.a)(Object(A.a)(500)(t),Object(d.f)(e=>!Object(d.c)(e)))),Object(I.a)(e=>e.length>=3))}))).subscribe(()=>{r.a.self.send({type:"TRIPLE_CTRL"})}),e.pipe(Object(l.a)(x.a)).subscribe(async e=>{e.word?u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,self:!1,instant:!1,force:!1},e,{word:await Object(d.e)(e.word)})):function(e){const t={type:"SELECTION",payload:{word:null,self:e,mouseX:0,mouseY:0,dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,instant:!1,force:!1}};r.a.self.send(t)}(e.self)}),e.pipe(Object(l.a)((function(e){if(!e)return Object(p.a)();const t=r.a.self.createStream("PIN_STATE").pipe(Object(M.a)("payload"),Object(w.a)(!1)),n=Object(g.a)(Object(h.a)(r.a.send({type:"QUERY_QS_PANEL"})),r.a.createStream("QS_PANEL_CHANGED").pipe(Object(M.a)("payload"))).pipe(Object(c.a)(t=>t&&e.tripleCtrlPageSel),Object(w.a)(!1));return Object(f.a)(t,n).pipe(Object(l.a)(t=>{let[n,a]=t;const{instant:r}=e.panelMode,{instant:o}=e[a?"qsPanelMode":n?"pinMode":"mode"];if(!r.enable&&!o.enable)return Object(b.a)(null);const s={};return Object(g.a)(Object(E.a)(null)(Object(y.a)(window,"mouseup",{capture:!0})),Object(E.a)(null)(Object(y.a)(window,"mouseout",{capture:!0})),Object(y.a)(window,"mousemove",{capture:!0}).pipe(Object(c.a)(e=>{const t=Object(i.c)(e.target),n=t||Object(i.j)()?r:o;return n.enable&&("alt"===n.key&&e.altKey||"shift"===n.key&&e.shiftKey||"ctrl"===n.key&&(e.ctrlKey||e.metaKey)||"direct"===n.key&&!(e.ctrlKey||e.metaKey||e.altKey))?(s.event=e,s.self=t,s):null}))).pipe(Object(O.a)(e=>e?Object(j.a)(e.self?r.delay:o.delay):Object(b.a)()))}),Object(c.a)(e=>e&&function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({word:S(e.event)},e)),Object(I.a)(t=>Boolean(t&&t.word&&Object(m.a)(e.language,t.word.text))),Object(D.a)((e,t)=>e.word.text===t.word.text&&e.word.context===t.word.context))}))).subscribe(async e=>{let{word:t,event:n,self:a}=e;u({word:await Object(d.e)(t),shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,dbClick:!1,force:!1,instant:!0,mouseX:n.clientX,mouseY:n.clientY,self:a})})}},202:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n(0),r=n.n(a),o=n(18),i=n.n(o),c=n(73),s=n(216),l=n(5);function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const d={enter:400,exit:100,appear:400},m=e=>{const{id:t,head:n,shadowRootClassName:o,panelCSS:m,onEnter:p,onExited:g}=e,h=u(e,["id","head","shadowRootClassName","panelCSS","onEnter","onExited"]),f=Object(a.useMemo)(()=>{let e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e.className="saladict-div ".concat(o||l.a)),e},[o]);return Object(a.useEffect)(()=>()=>{f.parentNode&&f.remove()},[]),i.a.createPortal(r.a.createElement(s.a.div,{className:o||l.a},n,m?r.a.createElement("style",null,m):null,r.a.createElement(c.a,Object.assign({classNames:"shadowPortal",mountOnEnter:!0,unmountOnExit:!0,appear:!0,timeout:d},h,{onEnter:function(){if(f.parentNode||document.body.appendChild(f),p)return p(...arguments)},onExited:function(){if(f.parentNode&&f.remove(),g)return g(...arguments)}}))),f)};t.b=m},21:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return b}));var a=n(62),r=n.n(a),o=n(31),i=n(56),c=n(86),s=n.n(c),l=n(61),u=n.n(l);const d={labelCol:{span:5},wrapperCol:{span:8}},m={labelCol:{span:7},wrapperCol:{span:17}},p={labelCol:{span:7},wrapperCol:{span:17}};let g=null,h=null;function f(t,n){if(!n)return;const a=Object.keys(n)[0];if(!a)return void(e.env.DEV_BUILD&&console.error("empty field",n));const c=n[a];if(!c||c.dirty||c.validating||c.errors)return;const l=(a.match(/^(config|profile)#/)||["",""])[1];if(!l)return void(e.env.DEV_BUILD&&console.error("invalid field",n));if(e.env.DEV_BUILD){const e=a.replace(/#/g,".");console.log(e,c.value);const r={};u()(t,e,r)===r&&console.error("field not exist",n)}s()(t,a.replace(/#/g,"."),c.value);const d="number"==typeof c.value?2e3:1e3;switch(l){case"config":clearTimeout(g),g=setTimeout(()=>{Object(o.f)(t.config).catch(()=>r.a.error(t.t("msg_update_error")))},d);break;case"profile":clearTimeout(h),h=setTimeout(()=>{Object(i.n)(t.profile).catch(()=>r.a.error(t.t("msg_update_error")))},d)}}function b(e,t,n){return e.splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}}).call(this,n(59))},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this.config=void 0,this.meta=void 0}static getDefaultConfig(){return{}}static getDefaultMeta(){return{}}async delete(e){}async download(e){}startInterval(){}}a.id=void 0,a.title=void 0},342:function(e,t,n){var a={"./baidu/favicon.png":351,"./bing/favicon.png":352,"./caiyun/favicon.png":353,"./cambridge/favicon.png":354,"./cnki/favicon.png":355,"./cobuild/favicon.png":356,"./etymonline/favicon.png":357,"./eudic/favicon.png":358,"./google/favicon.png":359,"./googledict/favicon.png":360,"./guoyu/favicon.png":361,"./hjdict/favicon.png":362,"./jukuu/favicon.png":363,"./liangan/favicon.png":364,"./longman/favicon.png":365,"./macmillan/favicon.png":366,"./mojidict/favicon.png":367,"./naver/favicon.png":368,"./oald/favicon.png":369,"./shanbay/favicon.png":370,"./sogou/favicon.png":371,"./tencent/favicon.png":372,"./urban/favicon.png":373,"./vocabulary/favicon.png":374,"./weblio/favicon.png":375,"./weblioejje/favicon.png":376,"./websterlearner/favicon.png":377,"./wikipedia/favicon.png":378,"./youdao/favicon.png":379,"./youdaotrans/favicon.png":380,"./zdic/favicon.png":381};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=342},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a);class o extends r.a.PureComponent{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.error?r.a.createElement(this.props.error):null:this.props.children}}},382:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgMzUwIDUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAxMS41ODUgMTYuOTc2IEwgMy43MjggMTYuOTc2IEMgMi42MjkgMTYuOTc2IDEuNzQxIDE3Ljg2NCAxLjc0MSAxOC45NjMgTCAxLjc0MSAzMS4wMzkgQyAxLjc0MSAzMi4xMzQgMi42MjkgMzMuMDI0IDMuNzI4IDMzLjAyNCBMIDExLjU4NSAzMy4wMjQgQyAxMS45MzkgMzMuMDI0IDEyLjI4NyAzMy4xMTkgMTIuNTkyIDMzLjI5OSBMIDI1LjE4IDQ1LjAyIEMgMjYuNTA0IDQ1Ljc5OCAyOC4xNzQgNDQuODQ1IDI4LjE3NCA0My4zMDggTCAyOC4xNzQgNi42OTIgQyAyOC4xNzQgNS4xNTcgMjYuNTA0IDQuMjAxIDI1LjE4IDQuOTggTCAxMi41OTMgMTYuNyBDIDEyLjI4NyAxNi44NzkgMTEuOTQgMTYuOTc1IDExLjU4NSAxNi45NzUgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCA1MCwgMCkiPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAxMS41ODUgMTYuOTc2IEwgMy43MjggMTYuOTc2IEMgMi42MjkgMTYuOTc2IDEuNzQxIDE3Ljg2NCAxLjc0MSAxOC45NjMgTCAxLjc0MSAzMS4wMzkgQyAxLjc0MSAzMi4xMzQgMi42MjkgMzMuMDI0IDMuNzI4IDMzLjAyNCBMIDExLjU4NSAzMy4wMjQgQyAxMS45MzkgMzMuMDI0IDEyLjI4NyAzMy4xMTkgMTIuNTkyIDMzLjI5OSBMIDI1LjE4IDQ1LjAyIEMgMjYuNTA0IDQ1Ljc5OCAyOC4xNzQgNDQuODQ1IDI4LjE3NCA0My4zMDggTCAyOC4xNzQgNi42OTIgQyAyOC4xNzQgNS4xNTcgMjYuNTA0IDQuMjAxIDI1LjE4IDQuOTggTCAxMi41OTMgMTYuNyBDIDEyLjI4NyAxNi44NzkgMTEuOTQgMTYuOTc1IDExLjU4NSAxNi45NzUgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzMi4xMTcgMzUuMDU1IEMgMzEuODMzIDM1LjA1NSAzMS41NDkgMzQuOTQ2IDMxLjMzMyAzNC43MjkgQyAzMC44OTYgMzQuMjk1IDMwLjg5NiAzMy41OTEgMzEuMzMzIDMzLjE1OCBDIDM2LjEwNSAyOC4zODIgMzYuMTA1IDIwLjYxMiAzMS4zMzMgMTUuODM3IEMgMzAuODk2IDE1LjQwMyAzMC44OTYgMTQuNzAyIDMxLjMzMyAxNC4yNjUgQyAzMS43NjYgMTMuODMyIDMyLjQ2OCAxMy44MzIgMzIuOTAzIDE0LjI2NSBDIDM4LjU0NiAxOS45MDYgMzguNTQ2IDI5LjA4NiAzMi45MDMgMzQuNzI4IEMgMzIuNjg5IDM0Ljk0NSAzMi40MDMgMzUuMDU1IDMyLjExNyAzNS4wNTUgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxMDAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzIuMTE3IDM1LjA1NSBDIDMxLjgzMyAzNS4wNTUgMzEuNTQ5IDM0Ljk0NiAzMS4zMzMgMzQuNzI5IEMgMzAuODk2IDM0LjI5NSAzMC44OTYgMzMuNTkxIDMxLjMzMyAzMy4xNTggQyAzNi4xMDUgMjguMzgyIDM2LjEwNSAyMC42MTIgMzEuMzMzIDE1LjgzNyBDIDMwLjg5NiAxNS40MDMgMzAuODk2IDE0LjcwMiAzMS4zMzMgMTQuMjY1IEMgMzEuNzY2IDEzLjgzMiAzMi40NjggMTMuODMyIDMyLjkwMyAxNC4yNjUgQyAzOC41NDYgMTkuOTA2IDM4LjU0NiAyOS4wODYgMzIuOTAzIDM0LjcyOCBDIDMyLjY4OSAzNC45NDUgMzIuNDAzIDM1LjA1NSAzMi4xMTcgMzUuMDU1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxNTAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzIuMTE3IDM1LjA1NSBDIDMxLjgzMyAzNS4wNTUgMzEuNTQ5IDM0Ljk0NiAzMS4zMzMgMzQuNzI5IEMgMzAuODk2IDM0LjI5NSAzMC44OTYgMzMuNTkxIDMxLjMzMyAzMy4xNTggQyAzNi4xMDUgMjguMzgyIDM2LjEwNSAyMC42MTIgMzEuMzMzIDE1LjgzNyBDIDMwLjg5NiAxNS40MDMgMzAuODk2IDE0LjcwMiAzMS4zMzMgMTQuMjY1IEMgMzEuNzY2IDEzLjgzMiAzMi40NjggMTMuODMyIDMyLjkwMyAxNC4yNjUgQyAzOC41NDYgMTkuOTA2IDM4LjU0NiAyOS4wODYgMzIuOTAzIDM0LjcyOCBDIDMyLjY4OSAzNC45NDUgMzIuNDAzIDM1LjA1NSAzMi4xMTcgMzUuMDU1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzOS4zMTQgNDUuMDU3IEMgMzkuMDI4IDQ1LjA1NyAzOC43NDQgNDQuOTQ4IDM4LjUyOCA0NC43MyBDIDM4LjA5MyA0NC4yOTcgMzguMDkzIDQzLjU5NSAzOC41MjggNDMuMTYgQyA0My4zNjkgMzguMzIxIDQ2LjAzNSAzMS44OSA0Ni4wMzUgMjUuMDU2IEMgNDYuMDM1IDE4LjIyIDQzLjM3IDExLjc4OCAzOC41MjggNi45NDggQyAzOC4wOTMgNi41MTQgMzguMDkzIDUuODEyIDM4LjUyOCA1LjM3OCBDIDM4Ljk2MyA0Ljk0NCAzOS42NjQgNC45NDQgNDAuMSA1LjM3OCBDIDQ1LjM2MSAxMC42MzcgNDguMjYgMTcuNjI1IDQ4LjI2IDI1LjA1NiBDIDQ4LjI2IDMyLjQ4NCA0NS4zNjEgMzkuNDczIDQwLjEgNDQuNzMxIEMgMzkuODgzIDQ0Ljk0OSAzOS41OTkgNDUuMDU4IDM5LjMxNSA0NS4wNTggWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAyMDAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzOS4zMTQgNDUuMDU3IEMgMzkuMDI4IDQ1LjA1NyAzOC43NDQgNDQuOTQ4IDM4LjUyOCA0NC43MyBDIDM4LjA5MyA0NC4yOTcgMzguMDkzIDQzLjU5NSAzOC41MjggNDMuMTYgQyA0My4zNjkgMzguMzIxIDQ2LjAzNSAzMS44OSA0Ni4wMzUgMjUuMDU2IEMgNDYuMDM1IDE4LjIyIDQzLjM3IDExLjc4OCAzOC41MjggNi45NDggQyAzOC4wOTMgNi41MTQgMzguMDkzIDUuODEyIDM4LjUyOCA1LjM3OCBDIDM4Ljk2MyA0Ljk0NCAzOS42NjQgNC45NDQgNDAuMSA1LjM3OCBDIDQ1LjM2MSAxMC42MzcgNDguMjYgMTcuNjI1IDQ4LjI2IDI1LjA1NiBDIDQ4LjI2IDMyLjQ4NCA0NS4zNjEgMzkuNDczIDQwLjEgNDQuNzMxIEMgMzkuODgzIDQ0Ljk0OSAzOS41OTkgNDUuMDU4IDM5LjMxNSA0NS4wNTggWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAyNTAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzkuMzE0IDQ1LjA1NyBDIDM5LjAyOCA0NS4wNTcgMzguNzQ0IDQ0Ljk0OCAzOC41MjggNDQuNzMgQyAzOC4wOTMgNDQuMjk3IDM4LjA5MyA0My41OTUgMzguNTI4IDQzLjE2IEMgNDMuMzY5IDM4LjMyMSA0Ni4wMzUgMzEuODkgNDYuMDM1IDI1LjA1NiBDIDQ2LjAzNSAxOC4yMiA0My4zNyAxMS43ODggMzguNTI4IDYuOTQ4IEMgMzguMDkzIDYuNTE0IDM4LjA5MyA1LjgxMiAzOC41MjggNS4zNzggQyAzOC45NjMgNC45NDQgMzkuNjY0IDQuOTQ0IDQwLjEgNS4zNzggQyA0NS4zNjEgMTAuNjM3IDQ4LjI2IDE3LjYyNSA0OC4yNiAyNS4wNTYgQyA0OC4yNiAzMi40ODQgNDUuMzYxIDM5LjQ3MyA0MC4xIDQ0LjczMSBDIDM5Ljg4MyA0NC45NDkgMzkuNTk5IDQ1LjA1OCAzOS4zMTUgNDUuMDU4IFoiIHN0eWxlPSIiLz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwgMCwgMCwgMSwgMzAwLCAwKSI+CiAgICA8cGF0aCBmaWxsPSIjZjk2OTBlIiBkPSJNIDExLjU4NSAxNi45NzYgTCAzLjcyOCAxNi45NzYgQyAyLjYyOSAxNi45NzYgMS43NDEgMTcuODY0IDEuNzQxIDE4Ljk2MyBMIDEuNzQxIDMxLjAzOSBDIDEuNzQxIDMyLjEzNCAyLjYyOSAzMy4wMjQgMy43MjggMzMuMDI0IEwgMTEuNTg1IDMzLjAyNCBDIDExLjkzOSAzMy4wMjQgMTIuMjg3IDMzLjExOSAxMi41OTIgMzMuMjk5IEwgMjUuMTggNDUuMDIgQyAyNi41MDQgNDUuNzk4IDI4LjE3NCA0NC44NDUgMjguMTc0IDQzLjMwOCBMIDI4LjE3NCA2LjY5MiBDIDI4LjE3NCA1LjE1NyAyNi41MDQgNC4yMDEgMjUuMTggNC45OCBMIDEyLjU5MyAxNi43IEMgMTIuMjg3IDE2Ljg3OSAxMS45NCAxNi45NzUgMTEuNTg1IDE2Ljk3NSBaIiBzdHlsZT0iIi8+CiAgPC9nPgo8L3N2Zz4="},383:function(e,t,n){var a={"./baidu/View.tsx":384,"./bing/View.tsx":385,"./caiyun/View.tsx":386,"./cambridge/View.tsx":387,"./cnki/View.tsx":388,"./cobuild/View.tsx":389,"./etymonline/View.tsx":390,"./eudic/View.tsx":391,"./google/View.tsx":392,"./googledict/View.tsx":393,"./guoyu/View.tsx":288,"./hjdict/View.tsx":394,"./jukuu/View.tsx":395,"./liangan/View.tsx":396,"./longman/View.tsx":397,"./macmillan/View.tsx":398,"./mojidict/View.tsx":399,"./naver/View.tsx":400,"./oald/View.tsx":401,"./shanbay/View.tsx":402,"./sogou/View.tsx":403,"./tencent/View.tsx":404,"./urban/View.tsx":405,"./vocabulary/View.tsx":406,"./weblio/View.tsx":407,"./weblioejje/View.tsx":408,"./websterlearner/View.tsx":409,"./wikipedia/View.tsx":410,"./youdao/View.tsx":411,"./youdaotrans/View.tsx":412,"./zdic/View.tsx":413};function r(e){return o(e).then(n)}function o(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}))}r.keys=function(){return Object.keys(a)},r.resolve=o,r.id=383,e.exports=r},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));n(174);var a=n(147),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r()(e,i({withCredentials:!1},t,{transformResponse:[e=>e],responseType:"document"})).then(e=>{let{data:t}=e;return t})}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r()(e,i({withCredentials:!1},t,{transformResponse:[e=>e],responseType:"text"})).then(e=>{let{data:t}=e;return t})}},414:function(e,t,n){var a={"./baidu/_style.shadow.scss":415,"./bing/_style.shadow.scss":416,"./caiyun/_style.shadow.scss":417,"./cambridge/_style.shadow.scss":418,"./cnki/_style.shadow.scss":419,"./cobuild/_style.shadow.scss":420,"./etymonline/_style.shadow.scss":421,"./eudic/_style.shadow.scss":422,"./google/_style.shadow.scss":423,"./googledict/_style.shadow.scss":424,"./guoyu/_style.shadow.scss":425,"./hjdict/_style.shadow.scss":426,"./jukuu/_style.shadow.scss":427,"./liangan/_style.shadow.scss":428,"./longman/_style.shadow.scss":429,"./macmillan/_style.shadow.scss":430,"./mojidict/_style.shadow.scss":431,"./naver/_style.shadow.scss":432,"./oald/_style.shadow.scss":433,"./shanbay/_style.shadow.scss":434,"./sogou/_style.shadow.scss":435,"./tencent/_style.shadow.scss":436,"./urban/_style.shadow.scss":437,"./vocabulary/_style.shadow.scss":438,"./weblio/_style.shadow.scss":439,"./weblioejje/_style.shadow.scss":440,"./websterlearner/_style.shadow.scss":441,"./wikipedia/_style.shadow.scss":442,"./youdao/_style.shadow.scss":443,"./youdaotrans/_style.shadow.scss":444,"./zdic/_style.shadow.scss":445};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=414},5:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m}));const a=()=>!!window.__SALADICT_INTERNAL_PAGE__,r=()=>!!window.__SALADICT_OPTIONS_PAGE__,o=()=>!!window.__SALADICT_POPUP_PAGE__,i=()=>!!window.__SALADICT_PDF_PAGE__,c=()=>!!window.__SALADICT_QUICK_SEARCH_PAGE__,s=()=>o()||c(),l="saladict-external",u="saladict-panel";function d(e){if(!e)return!1;for(let t=e;t;t=t.parentElement)if(t.classList&&t.classList.contains(l))return!0;return!1}function m(e){if(!e)return!1;for(let t=e;t;t=t.parentElement)if(t.classList&&t.classList.contains(u))return!0;return!1}},579:function(e,t,n){"use strict";var a=n(294),r=n.n(a),o=n(279),i=n.n(o),c=n(46),s=n.n(c),l=n(178),u=n.n(l),d=n(34),m=n.n(d),p=n(0),g=n.n(p),h=n(677);const f=Object(h.c)(e=>{let{t:t}=e;return g.a.createElement(m.a,{title:t("common:sort"),style:{cursor:"move"},type:"bars"})}),b=Object(h.b)(e=>{let{t:t,selected:n,item:a,disableEdit:r,onEdit:o,onDelete:c,indexCopy:l}=e;return g.a.createElement(i.a.Item,null,g.a.createElement("div",{className:"sortable-list-item"},null==n?a.title:g.a.createElement(u.a,{value:a.value},a.title),g.a.createElement("div",null,g.a.createElement(f,{t:t}),g.a.createElement(s.a,{className:"sortable-list-item-btn",title:t("common:edit"),shape:"circle",size:"small",icon:"edit",disabled:null!=r&&r(l,a),onClick:o&&(()=>o(l,a))}),g.a.createElement(s.a,{title:t("common:delete"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"close",disabled:null!=n&&a.value===n,onClick:c&&(()=>c(l,a))}))))}),y=Object(h.a)(e=>g.a.createElement(i.a,{size:"large",dataSource:e.list,renderItem:(t,n)=>g.a.createElement(b,Object.assign({},e,{item:t,index:n,indexCopy:n}))}));t.a=function(e){return g.a.createElement(r.a,{title:e.title,extra:g.a.createElement(s.a,{type:"dashed",size:"small",onClick:e.onAdd},g.a.createElement(m.a,{type:"plus"}),e.t("common:add"))},e.description,g.a.createElement(u.a.Group,{className:"sortable-list-radio-group",value:e.selected,onChange:e.onSelect},g.a.createElement(y,Object.assign({useDragHandle:!0},e))),(null==e.isShowAdd||e.isShowAdd)&&g.a.createElement(s.a,{type:"dashed",style:{width:"100%"},onClick:e.onAdd},g.a.createElement(m.a,{type:"plus"})," ",e.t("common:add")))}},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(9),r=n.n(a),o=n(126),i=n.n(o),c=n(32),s=n.n(c),l=n(0),u=n.n(l),d=n(21),m=n(122);const{Option:p}=s.a;class g extends u.a.Component{constructor(e){super(e),this.toggleHolding=()=>this.setState(e=>{let{isShowHolding:t}=e;t=!t;const{mode:n}=this.props;return Object(d.e)(this.props,{["config#".concat(n,"#holding#shift")]:{name:"config#".concat(n,"#holding#shift"),touched:!0,dirty:!1,value:t}}),Object(d.e)(this.props,{["config#".concat(n,"#holding#ctrl")]:{name:"config#".concat(n,"#holding#ctrl"),touched:!0,dirty:!1,value:t}}),Object(d.e)(this.props,{["config#".concat(n,"#holding#meta")]:{name:"config#".concat(n,"#holding#meta"),touched:!0,dirty:!1,value:t}}),{isShowHolding:t}});const{config:t,mode:n}=this.props;this.state={isShowHolding:t[n].holding.shift||t[n].holding.ctrl||t[n].holding.meta}}render(){const{t:e,config:t,mode:n,sub:a}=this.props,{isShowHolding:o}=this.state,{getFieldDecorator:c}=this.props.form;return u.a.createElement(r.a.Item,Object.assign({},a?d.d:d.b,{label:e("opt.searchMode.".concat(n))}),"mode"===n&&u.a.createElement(u.a.Fragment,null,u.a.createElement(r.a.Item,{help:e("opt.searchMode.iconHelp")},c("config#".concat(n,"#icon"),{initialValue:t[n].icon,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.icon")))),t.mode.icon&&u.a.createElement(u.a.Fragment,null,u.a.createElement(r.a.Item,{help:e("opt.bowl_hover_help")},c("config#bowlHover",{initialValue:t.bowlHover,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.bowl_hover")))),u.a.createElement("div",null,u.a.createElement("span",null,e("opt.bowl_offset.x"),": "),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#bowlOffsetX",{initialValue:t.bowlOffsetX,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:80},suffix:"px"})))),u.a.createElement("div",null,u.a.createElement("span",null,e("opt.bowl_offset.y"),": "),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#bowlOffsetY",{initialValue:t.bowlOffsetY,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:80},suffix:"px"})))))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.direct_help")},c("config#".concat(n,"#direct"),{initialValue:t[n].direct,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.direct")))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.double_help")},c("config#".concat(n,"#double"),{initialValue:t[n].double,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.double")))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.holding_help")},u.a.createElement(i.a,{checked:o,onChange:this.toggleHolding},e("opt.searchMode.holding")),o&&u.a.createElement("div",null,u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(n,"#holding#shift"),{initialValue:t[n].holding.shift,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Shift")))),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(n,"#holding#ctrl"),{initialValue:t[n].holding.ctrl,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Ctrl")))),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(n,"#holding#meta"),{initialValue:t[n].holding.meta,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Meta(⌘/⊞)")))))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.instantHelp")},c("config#".concat(n,"#instant#enable"),{initialValue:t[n].instant.enable,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.instant"))),t[n].instant.enable&&u.a.createElement("div",null,e("opt.searchMode.instantKey")+": ",u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(n,"#instant#key"),{initialValue:t[n].instant.key})(u.a.createElement(s.a,{style:{width:100}},u.a.createElement(p,{value:"direct"},e("opt.searchMode.instantDirect")),u.a.createElement(p,{value:"ctrl"},"Ctrl/⌘"),u.a.createElement(p,{value:"alt"},"Alt"),u.a.createElement(p,{value:"shift"},"Shift")))),e("opt.searchMode.instantDelay"),":"," ",u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(n,"#instant#delay"),{initialValue:t[n].instant.delay,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:60},suffix:e("common:unit.ms")}))))))}}},604:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(107);const r=Object(a.a)(()=>{if("undefined"==typeof document)return 0;const e=document.createElement("div"),t=e.style;t.position="fixed",t.left="0",t.overflowY="scroll",t.visibility="hidden",document.body.appendChild(e);const n=e.getBoundingClientRect().right;return e.remove(),n})},675:function(e,t,n){"use strict";var a=n(103),r=n.n(a),o=n(46),i=n.n(o),c=n(34),s=n.n(c),l=n(9),u=n.n(l),d=n(121),m=n.n(d),p=n(0),g=n.n(p),h=n(31);function f(e){if(""===e)return"^(?:http|https|file|ftp|app)://";let t=new RegExp("^".concat("(\\*|http|https|ws|wss|file|ftp)","://").concat("(\\*|(?:\\*\\.)?(?:[^/*]+))?","/").concat("(.*)","$")).exec(e);if(!t)return"";let[,n,a,r]=t;if(!a)return"";let o="^";return o+="*"===n?"(http|https)":n,o+="://",a&&"*"===a?o+="[^/]+?":a&&(a.match(/^\*\./)&&(o+="[^/]*?",a=a.substring(2)),o+=a.replace(/\./g,"\\.")),r&&("*"===r?o+="(/.*)?":"/"!==r.charAt(0)&&(o+="/",o+=r.replace(/\./g,"\\.").replace(/\*/g,".*?"),o+="/?")),o+"$"}const b={marginBottom:0};class y extends g.a.Component{constructor(){super(...arguments),this.tainted=!1,this.state={additionalItems:[]},this.colsePanel=()=>{this.tainted=!1,this.setState({additionalItems:[]}),this.props.onClose()},this.addItem=()=>{this.setState(e=>{let{additionalItems:t}=e;return{additionalItems:[...t,["",""]]}})},this.handleOk=()=>{const{area:e,config:t,form:n}=this.props;if(e&&this.tainted){const a=n.getFieldsValue(),r=Object.keys(a).length,o=[];for(let e=0;e<r;e++){const t=a[e];t&&o.push([f(t),t])}t[e]=o,Object(h.f)(t)}this.colsePanel()},this.handleCancel=()=>{this.tainted&&!confirm(this.props.t("common:changes_confirm"))||this.colsePanel()},this.validator=(e,t,n)=>{if(this.tainted=!0,f(t))return n();n("incorrect pattern")}}render(){const{area:e,t:t,config:n}=this.props,{getFieldDecorator:a,getFieldsError:o}=this.props.form,c=(e.startsWith("pdf")?"PDF ":"")+t(e.endsWith("hitelist")?"common:whitelist":"common:blacklist"),l=Object.values(o()).some(e=>e&&e.length>0);return g.a.createElement(r.a,{visible:!!e,title:c,destroyOnClose:!0,okButtonProps:{disabled:l},onOk:this.handleOk,onCancel:this.handleCancel},g.a.createElement("p",{dangerouslySetInnerHTML:{__html:t("options:match_pattern_description")}}),e&&g.a.createElement(u.a,null,n[e].map((e,t)=>{let[n,r]=e;return g.a.createElement(u.a.Item,{key:t,help:"",style:b},a("".concat(t),{initialValue:r,rules:[{validator:this.validator}]})(g.a.createElement(m.a,null)))}),this.state.additionalItems.map((t,r)=>{let[o,i]=t;return g.a.createElement(u.a.Item,{key:r+n[e].length,help:"",style:b},a("".concat(r+n[e].length),{initialValue:i,rules:[{validator:this.validator}]})(g.a.createElement(m.a,null)))})),g.a.createElement(i.a,{type:"dashed",style:{width:"100%",marginTop:10},onClick:this.addItem},g.a.createElement(s.a,{type:"plus"})," ",t("common:add")))}}t.a=u.a.create()(y)},752:function(e,t,n){var a={"./af":450,"./af.js":450,"./ar":451,"./ar-dz":452,"./ar-dz.js":452,"./ar-kw":453,"./ar-kw.js":453,"./ar-ly":454,"./ar-ly.js":454,"./ar-ma":455,"./ar-ma.js":455,"./ar-sa":456,"./ar-sa.js":456,"./ar-tn":457,"./ar-tn.js":457,"./ar.js":451,"./az":458,"./az.js":458,"./be":459,"./be.js":459,"./bg":460,"./bg.js":460,"./bm":461,"./bm.js":461,"./bn":462,"./bn.js":462,"./bo":463,"./bo.js":463,"./br":464,"./br.js":464,"./bs":465,"./bs.js":465,"./ca":466,"./ca.js":466,"./cs":467,"./cs.js":467,"./cv":468,"./cv.js":468,"./cy":469,"./cy.js":469,"./da":470,"./da.js":470,"./de":471,"./de-at":472,"./de-at.js":472,"./de-ch":473,"./de-ch.js":473,"./de.js":471,"./dv":474,"./dv.js":474,"./el":475,"./el.js":475,"./en-SG":476,"./en-SG.js":476,"./en-au":477,"./en-au.js":477,"./en-ca":478,"./en-ca.js":478,"./en-gb":479,"./en-gb.js":479,"./en-ie":480,"./en-ie.js":480,"./en-il":481,"./en-il.js":481,"./en-nz":482,"./en-nz.js":482,"./eo":483,"./eo.js":483,"./es":484,"./es-do":485,"./es-do.js":485,"./es-us":486,"./es-us.js":486,"./es.js":484,"./et":487,"./et.js":487,"./eu":488,"./eu.js":488,"./fa":489,"./fa.js":489,"./fi":490,"./fi.js":490,"./fo":491,"./fo.js":491,"./fr":492,"./fr-ca":493,"./fr-ca.js":493,"./fr-ch":494,"./fr-ch.js":494,"./fr.js":492,"./fy":495,"./fy.js":495,"./ga":496,"./ga.js":496,"./gd":497,"./gd.js":497,"./gl":498,"./gl.js":498,"./gom-latn":499,"./gom-latn.js":499,"./gu":500,"./gu.js":500,"./he":501,"./he.js":501,"./hi":502,"./hi.js":502,"./hr":503,"./hr.js":503,"./hu":504,"./hu.js":504,"./hy-am":505,"./hy-am.js":505,"./id":506,"./id.js":506,"./is":507,"./is.js":507,"./it":508,"./it-ch":509,"./it-ch.js":509,"./it.js":508,"./ja":510,"./ja.js":510,"./jv":511,"./jv.js":511,"./ka":512,"./ka.js":512,"./kk":513,"./kk.js":513,"./km":514,"./km.js":514,"./kn":515,"./kn.js":515,"./ko":516,"./ko.js":516,"./ku":517,"./ku.js":517,"./ky":518,"./ky.js":518,"./lb":519,"./lb.js":519,"./lo":520,"./lo.js":520,"./lt":521,"./lt.js":521,"./lv":522,"./lv.js":522,"./me":523,"./me.js":523,"./mi":524,"./mi.js":524,"./mk":525,"./mk.js":525,"./ml":526,"./ml.js":526,"./mn":527,"./mn.js":527,"./mr":528,"./mr.js":528,"./ms":529,"./ms-my":530,"./ms-my.js":530,"./ms.js":529,"./mt":531,"./mt.js":531,"./my":532,"./my.js":532,"./nb":533,"./nb.js":533,"./ne":534,"./ne.js":534,"./nl":535,"./nl-be":536,"./nl-be.js":536,"./nl.js":535,"./nn":537,"./nn.js":537,"./pa-in":538,"./pa-in.js":538,"./pl":539,"./pl.js":539,"./pt":540,"./pt-br":541,"./pt-br.js":541,"./pt.js":540,"./ro":542,"./ro.js":542,"./ru":543,"./ru.js":543,"./sd":544,"./sd.js":544,"./se":545,"./se.js":545,"./si":546,"./si.js":546,"./sk":547,"./sk.js":547,"./sl":548,"./sl.js":548,"./sq":549,"./sq.js":549,"./sr":550,"./sr-cyrl":551,"./sr-cyrl.js":551,"./sr.js":550,"./ss":552,"./ss.js":552,"./sv":553,"./sv.js":553,"./sw":554,"./sw.js":554,"./ta":555,"./ta.js":555,"./te":556,"./te.js":556,"./tet":557,"./tet.js":557,"./tg":558,"./tg.js":558,"./th":559,"./th.js":559,"./tl-ph":560,"./tl-ph.js":560,"./tlh":561,"./tlh.js":561,"./tr":562,"./tr.js":562,"./tzl":563,"./tzl.js":563,"./tzm":564,"./tzm-latn":565,"./tzm-latn.js":565,"./tzm.js":564,"./ug-cn":566,"./ug-cn.js":566,"./uk":567,"./uk.js":567,"./ur":568,"./ur.js":568,"./uz":569,"./uz-latn":570,"./uz-latn.js":570,"./uz.js":569,"./vi":571,"./vi.js":571,"./x-pseudo":572,"./x-pseudo.js":572,"./yo":573,"./yo.js":573,"./zh-cn":574,"./zh-cn.js":574,"./zh-hk":575,"./zh-hk.js":575,"./zh-tw":576,"./zh-tw.js":576};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=752},762:function(e,t,n){var a={"./shanbay":131,"./shanbay.ts":131,"./webdav":127,"./webdav.ts":127};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=762},792:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(0),r=n.n(a);n(1105);const o=["en","zhs","zht","ja","kor","fr","de","es"];class i extends r.a.PureComponent{render(){const{langs:e,t:t}=this.props;return e.split("").map((e,n)=>{if(+e)return r.a.createElement("span",{className:"langcode-list-char",key:o[n]},t("dict.lang.".concat(o[n])))})}}},81:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return b}));var a=n(3),r=n(134),o=n(108),i=n(75),c=n(11),s=n(23),l=n(90);async function u(e,t){let{syncConfig:n}=await a.c.sync.get("syncConfig");n||(n={}),n[e]=t,await a.c.sync.set({syncConfig:n})}async function d(e){const{syncConfig:t}=await a.c.sync.get("syncConfig");if(void 0!==t)return t[e]}async function m(e){e?await u(e,null):await a.c.sync.remove("syncConfig")}function p(e){return Object(o.a)(Object(i.a)(d(e)),a.c.sync.createStream("syncConfig").pipe(Object(c.a)(t=>{let{newValue:n}=t;return n&&n[e]}))).pipe(Object(s.a)(e=>void 0!==e),Object(l.a)((e,t)=>e===t||null!=e&&null!=t&&Object.keys(t).every(n=>t[n]===e[n])))}async function g(e,t){await Object(r.i)(e,JSON.stringify(t))}async function h(e){const t=await Object(r.c)(e);if(t)return JSON.parse(t)}async function f(e){await Object(r.h)({area:"notebook",words:e})}async function b(){return(await Object(r.d)({area:"notebook"})).words||[]}},870:function(e,t,n){"use strict";(function(e){n(215),n(34);var a=n(0),r=n.n(a),o=n(73),i=n(83),c=n(871),s=n(872);n(950);class l extends r.a.PureComponent{constructor(){super(...arguments),this._showSocialMediaTimeout=void 0,this.state={isShowAcknowledgement:!1,isShowSocial:!1,isShowDonate:!1},this.showAcknowledgement=()=>{this.setState({isShowAcknowledgement:!0})},this.hideAcknowledgement=()=>{this.setState({isShowAcknowledgement:!1})},this.showSocialMedia=()=>{clearTimeout(this._showSocialMediaTimeout),this.setState({isShowSocial:!0})},this.hideSocialMedia=()=>{clearTimeout(this._showSocialMediaTimeout),this._showSocialMediaTimeout=setTimeout(()=>{this.setState({isShowSocial:!1})},400)},this.showDonate=()=>{this.setState({isShowDonate:!0})},this.hideDonate=()=>{this.setState({isShowDonate:!1})},this.preventDefault=e=>e.preventDefault()}render(){const{t:t}=this.props;return r.a.createElement("ul",{className:"head-info"},(e.env.DEV_BUILD,null),r.a.createElement("li",{className:"head-info-bubble-wrap"},r.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/wiki#acknowledgement",onMouseEnter:this.showAcknowledgement,onMouseLeave:this.hideAcknowledgement,onClick:this.preventDefault},t("headInfo.acknowledgement.title")),r.a.createElement(o.a,{classNames:"head-info-fade",in:this.state.isShowAcknowledgement,timeout:500,mountOnEnter:!0,unmountOnExit:!0},()=>r.a.createElement("div",{className:"head-info-bubble",onMouseEnter:this.showAcknowledgement,onMouseLeave:this.hideAcknowledgement},r.a.createElement("ol",null,s.a.map(e=>r.a.createElement("li",{key:e.locale},r.a.createElement("a",{href:e.href,rel:"nofollow noopener noreferrer",target:"_blank"},e.name)," ",t("headInfo.acknowledgement.".concat(e.locale)))))))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://saladict.crimx.com/manual.html",target:"_blank",rel:"nofollow noopener noreferrer"},t("headInfo.instructions"))),r.a.createElement("li",{className:"head-info-bubble-wrap"},r.a.createElement("a",{href:"mailto:straybugsgmail.com",onMouseEnter:this.showSocialMedia,onMouseLeave:this.hideSocialMedia,onClick:this.preventDefault},t("headInfo.contact_author")),r.a.createElement(o.a,{classNames:"head-info-fade",in:this.state.isShowSocial,timeout:500,mountOnEnter:!0,unmountOnExit:!0},()=>r.a.createElement("div",{className:"head-info-bubble",onMouseEnter:this.showSocialMedia,onMouseLeave:this.hideSocialMedia},r.a.createElement(c.a,null)))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://saladict.crimx.com/support.html",target:"_blank",rel:"nofollow noopener noreferrer"},"❤️",t("headInfo.donate"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/issues",target:"_blank",rel:"nofollow noopener noreferrer"},t("headInfo.report_issue"))))}}t.a=Object(i.c)("options")(l)}).call(this,n(59))},871:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(948);const o=[{title:"email",icon:"icon-mail-circle",url:"mailto:straybugs@gmail.com"},{title:"豆瓣",icon:"icon-douban-circle",url:"https://www.douban.com/people/jaward"},{title:"网易云音乐",icon:"icon-netease-music-circle",url:"https://music.163.com/#/user/home?id=44711994"},{title:"知乎",icon:"icon-zhihu-circle",url:"https://www.zhihu.com/people/straybugs/answers"},{title:"微博",icon:"icon-weibo-circle",url:"https://www.weibo.com/bananajaward"},{title:"Github",icon:"icon-github-circle",url:"https://github.com/crimx"}];t.a=()=>r.a.createElement("ul",{className:"social-media__body"},o.map(e=>r.a.createElement("li",{key:e.title,className:"social-media__icon"},r.a.createElement("a",{href:e.url,title:e.title,target:"_blank",rel:"nofollow noopener noreferrer"}),r.a.createElement("svg",null,r.a.createElement("use",{xlinkHref:n(949)+"#"+e.icon,xmlnsXlink:"http://www.w3.org/1999/xlink"})))))},872:function(e,t,n){"use strict";t.a=[{name:"zhtw2013",href:"https://github.com/crimx/ext-saladict/commits?author=zhtw2013",locale:"trans_tw"},{name:"lwdgit",href:"https://github.com/crimx/ext-saladict/commits?author=lwdgit",locale:"shanbay"},{name:"Wekey",href:"https://weibo.com/925515171?is_hot=1",locale:"naver"},{name:"caerlie",href:"https://github.com/caerlie",locale:"weblio"},{name:"stockyman",href:"https://github.com/stockyman",locale:"trans_tw"}]},874:function(e,t,n){"use strict";var a=n(103),r=n.n(a),o=n(9),i=n.n(o),c=n(121),s=n.n(c),l=n(0),u=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends u.a.Component{render(){const{title:e,onClose:t,item:n,t:a}=this.props,{getFieldDecorator:o,getFieldsValue:c}=this.props.form;return u.a.createElement(r.a,{visible:!!n,title:e,destroyOnClose:!0,onOk:()=>t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c(),{id:n.id})),onCancel:()=>t()},u.a.createElement(i.a,null,u.a.createElement("p",{style:{marginTop:"1em"}},a("opt.context_menus_add_rules")),u.a.createElement(i.a.Item,{labelCol:{span:4},wrapperCol:{span:20},label:a("common:name"),style:{marginBottom:0}},o("name",{initialValue:n?n.name:""})(u.a.createElement(s.a,{autoFocus:!0}))),u.a.createElement(i.a.Item,{labelCol:{span:4},wrapperCol:{span:20},label:"URL",style:{marginBottom:0}},o("url",{initialValue:n?n.url:""})(u.a.createElement(s.a,null)))))}}t.a=i.a.create()(p)},892:function(e,t,n){"use strict";var a=n(103),r=n.n(a),o=n(294),i=n.n(o),c=n(279),s=n.n(c),l=n(46),u=n.n(l),d=n(0),m=n.n(d),p=n(31),g=n(34),h=n.n(g),f=n(146),b=n.n(f),y=n(115),j=n.n(y),M=n(9),w=n.n(M),E=n(121),O=n.n(E),I=n(277);class D extends m.a.Component{constructor(){super(...arguments),this.addNewItem=()=>{const{config:e,form:t}=this.props;if(t.validateFields(),Object.values(t.getFieldsError()).some(e=>e&&e.length>0))return;let{name:n,url:a}=t.getFieldsValue();if(n&&a){const{contextMenus:t}=e,r="c_".concat(Object(I.a)());t.all[r]={name:n,url:a},Object(p.f)(e)}}}render(){const{t:e}=this.props,{getFieldDecorator:t}=this.props.form;return m.a.createElement(w.a,null,m.a.createElement("p",{style:{marginTop:"1em"}},e("opt.context_menus_add_rules")),m.a.createElement(b.a,{gutter:5},m.a.createElement(j.a,{span:12},m.a.createElement(w.a.Item,{help:"",style:{marginBottom:0}},t("name",{rules:[{whitespace:!0,required:!0}]})(m.a.createElement(O.a,{placeholder:e("common:name")})))),m.a.createElement(j.a,{span:12},m.a.createElement(w.a.Item,{help:"",style:{marginBottom:0}},t("url",{rules:[{type:"url",whitespace:!0,required:!0}]})(m.a.createElement(O.a,{placeholder:"URL"}))))),m.a.createElement(u.a,{type:"dashed",style:{width:"100%"},onClick:this.addNewItem},m.a.createElement(h.a,{type:"plus"})," ",e("common:add")))}}var N=w.a.create()(D);class v extends m.a.Component{constructor(){super(...arguments),this.addItem=e=>{const{config:t}=this.props;t.contextMenus.selected.push(e),Object(p.f)(t)},this.deleteItem=e=>{const{config:t,t:n}=this.props;confirm(n("common:delete_confirm"))&&(delete t.contextMenus.all[e],Object(p.f)(t))},this.renderItem=e=>{const{t:t,config:n}=this.props,a=n.contextMenus.all[e];return m.a.createElement(s.a.Item,null,m.a.createElement("div",{className:"sortable-list-item"},"string"==typeof a?t("menus:".concat(e)):a.name,m.a.createElement("div",null,m.a.createElement(u.a,{title:t("common:add"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"check",onClick:()=>this.addItem(e)}),m.a.createElement(u.a,{title:t("common:delete"),disabled:"x"===a,className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"close",onClick:()=>this.deleteItem(e)}))))}}render(){const{onClose:e,show:t,t:n,config:a}=this.props,o=new Set(a.contextMenus.selected),c=Object.keys(a.contextMenus.all).filter(e=>!o.has(e));return m.a.createElement(r.a,{visible:t,title:n("common:add"),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},m.a.createElement(i.a,null,m.a.createElement(s.a,{size:"large",dataSource:c,renderItem:this.renderItem})),m.a.createElement(N,{t:n,config:a}))}}t.a=v},947:function(e,t,n){e.exports=n(1283)},948:function(e,t,n){},949:function(e,t,n){e.exports=n.p+"assets/symbol-defs.9eb2c4fa.svg"},950:function(e,t,n){}},[[947,0,2,4,1,3]]]);