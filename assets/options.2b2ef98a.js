(window.saladictJSONP=window.saladictJSONP||[]).push([[11],{1060:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"ContextMenus",(function(){return M}));var n=a(148),r=a.n(n),o=a(116),i=a.n(o),c=a(64),s=a.n(c),l=a(0),u=a.n(l),d=a(31),m=a(19),p=a(589),g=a(859),h=a(877);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const j=navigator.userAgent.includes("Firefox");class M extends u.a.Component{constructor(){super(...arguments),this.state={showAddModal:!1,editingItem:null},this.openAddModal=()=>{this.setState({showAddModal:!0})},this.closeAddModal=()=>{this.setState({showAddModal:!1})},this.openEditModal=t=>{const{contextMenus:a}=this.props.config,n=a.selected[t],r=a.all[n];r?this.setState({editingItem:"string"==typeof r?{name:this.props.t("menus:".concat(n)),url:r,id:n}:y({},r,{id:n})}):e.env.DEV_BUILD&&console.error("menu not found",t,n)},this.deleteItem=async e=>{const{t:t,config:a}=this.props;a.contextMenus.selected.splice(e,1),await Object(d.f)(a),s.a.destroy(),s.a.success(t("msg_updated"))},this.disableEdit=(e,t)=>"x"===this.props.config.contextMenus.all[t.value],this.handleEditModalClose=async e=>{if(e){const t=this.props.config;t.contextMenus.all[e.id]={name:e.name,url:e.url},await Object(d.f)(t)}this.setState({editingItem:null})},this.handleSortEnd=async e=>{let{oldIndex:t,newIndex:a}=e;if(t===a)return;const{t:n,config:r}=this.props,o=r.contextMenus;o.selected=Object(m.a)(o.selected,t,a),await Object(d.f)(r),s.a.destroy(),s.a.success(n("msg_updated"))}}render(){const{t:e,config:t}=this.props,{editingItem:a,showAddModal:n}=this.state,o=t.contextMenus.all;return u.a.createElement(r.a,null,u.a.createElement(i.a,{span:12},u.a.createElement(p.a,{t:e,title:e("nav.ContextMenus"),description:u.a.createElement("p",null,e("opt.context_description")),list:t.contextMenus.selected.filter(e=>!j||"youdao_page_translate"!==e).map(t=>{const a=o[t];return{value:t,title:"string"==typeof a?e("menus:".concat(t)):a.name}}),disableEdit:this.disableEdit,onAdd:this.openAddModal,onEdit:this.openEditModal,onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),u.a.createElement(h.a,{t:e,config:t,show:n,onClose:this.closeAddModal}),u.a.createElement(g.a,{t:e,title:e("opt.context_menus_title"),item:a,onClose:this.handleEditModalClose})))}}t.default=M}.call(this,a(61))},1086:function(e,t,a){"use strict";a.r(t),a.d(t,"DictPanel",(function(){return j}));var n=a(122),r=a.n(n),o=a(60),i=a.n(o),c=a(9),s=a.n(c),l=a(148),u=a.n(l),d=a(116),m=a.n(d),p=a(178),g=a.n(p),h=a(0),f=a.n(h),y=a(19),b=a(123);class j extends f.a.Component{render(){const{t:e,config:t,profile:a}=this.props,{getFieldDecorator:n}=this.props.form;return f.a.createElement(s.a,null,f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.mta"),extra:e("opt.profile_change"),required:!0}),n("profile#mtaAutoUnfold",{initialValue:a.mtaAutoUnfold})(f.a.createElement(g.a.Group,null,f.a.createElement(u.a,null,f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:""},e("opt.mta_never"))),f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"once"},e("opt.mta_once")))),f.a.createElement(u.a,null,f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"always"},e("opt.mta_always"))),f.a.createElement(m.a,{span:12},f.a.createElement(g.a,{value:"popup"},e("opt.mta_popup"))))))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.waveform"),help:e("opt.waveform_help"),extra:e("opt.profile_change"),required:!0}),n("profile#waveform",{initialValue:a.waveform,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.search_suggests")}),n("config#searchSuggests",{initialValue:t.searchSuggests,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.animation"),help:e("opt.animation_help")}),n("config#animation",{initialValue:t.animation,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.dark_mode")}),n("config#darkMode",{initialValue:t.darkMode,valuePropName:"checked"})(f.a.createElement(i.a,null))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.dictPanel.height_ratio")}),n("config#panelMaxHeightRatio",{initialValue:t.panelMaxHeightRatio,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(b.a,{suffix:"%"}))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.dictPanel.width")}),n("config#panelWidth",{initialValue:t.panelWidth,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(b.a,{suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.dictPanel.font_size")}),n("config#fontSize",{initialValue:t.fontSize,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(b.a,{suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.bowl_offset.x")}),n("config#bowlOffsetX",{initialValue:t.bowlOffsetX,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(b.a,{style:{width:80},suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.bowl_offset.y")}),n("config#bowlOffsetY",{initialValue:t.bowlOffsetY,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(b.a,{style:{width:80},suffix:"px"}))),f.a.createElement(s.a.Item,Object.assign({},y.b,{label:e("opt.dictPanel.custom_css"),help:e("opt.dictPanel.custom_css_help"),extra:f.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/wiki/PanelCSS#wiki-content",target:"_blank",rel:"nofollow noopener noreferrer"},"Examples")}),n("config#panelCSS",{initialValue:t.panelCSS})(f.a.createElement(r.a.TextArea,{placeholder:".dictPanel-Root { }",autosize:{minRows:4,maxRows:15}}))))}}t.default=s.a.create({onFieldsChange:y.e})(j)},1087:function(e,t,a){},1090:function(e,t,a){},1092:function(e,t,a){"use strict";a.r(t),a.d(t,"General",(function(){return y}));var n=a(32),r=a.n(n),o=a(9),i=a.n(o),c=a(60),s=a.n(c),l=a(46),u=a.n(l),d=a(0),m=a.n(d),p=a(3),g=a(31),h=a(56),f=a(19);class y extends m.a.Component{constructor(){super(...arguments),this.isReseted=!1,this.openShortcuts=()=>{navigator.userAgent.includes("Chrome")?Object(p.b)("chrome://extensions/shortcuts"):Object(p.b)("about:addons")},this.resetConfigs=async()=>{confirm(this.props.t("opt.config.reset_confirm"))&&(await Object(g.e)(),this.isReseted=!0,await Object(h.l)(),this.isReseted=!0)}}componentDidUpdate(){if(this.isReseted){this.isReseted=!1;const{form:e,config:t}=this.props;e.setFieldsValue({"config#active":t.active,"config#animation":t.animation,"config#analytics":t.analytics,"config#langCode":t.langCode})}}render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return m.a.createElement(i.a,null,m.a.createElement(u.a,{onClick:this.openShortcuts},e("opt.shortcuts")),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.active"),help:e("opt.app_active_help")}),a("config#active",{initialValue:t.active,valuePropName:"checked"})(m.a.createElement(s.a,null))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.animation"),help:e("opt.animation_help")}),a("config#animation",{initialValue:t.animation,valuePropName:"checked"})(m.a.createElement(s.a,null))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.language")}),a("config#langCode",{initialValue:t.langCode})(m.a.createElement(r.a,null,m.a.createElement(r.a.Option,{value:"zh-CN"},"简体中文"),m.a.createElement(r.a.Option,{value:"zh-TW"},"繁體中文"),m.a.createElement(r.a.Option,{value:"en"},"English")))),m.a.createElement(i.a.Item,Object.assign({},f.b,{label:e("opt.config.reset")}),m.a.createElement(u.a,{type:"danger",onClick:this.resetConfigs},e("opt.config.reset"))))}}t.default=i.a.create({onFieldsChange:f.e})(y)},1093:function(e,t,a){"use strict";a.r(t),a.d(t,"ImportExport",(function(){return M}));var n=a(148),r=a.n(n),o=a(116),i=a.n(o),c=a(861),s=a.n(c),l=a(33),u=a.n(l),d=a(64),m=a.n(d),p=a(0),g=a.n(p),h=a(680),f=a(355),y=a(31),b=a(56),j=a(3);class M extends g.a.Component{constructor(){super(...arguments),this.importConfig=async e=>{const{t:t}=this.props,a=await new Promise(t=>{const a=new FileReader;a.onload=()=>{try{const e=JSON.parse(a.result);t(e)}catch(e){}t()},a.onerror=()=>t(),a.readAsText(e)});if(!a)return void m.a.error(t("opt.config.import_error"));let{baseconfig:n,activeProfileID:r,hasInstructionsShown:o,profileIDList:i,syncConfig:c}=a;if(n||r||i||null!=o){if(await j.c.sync.clear(),n&&await Object(y.f)(Object(h.a)(n)),c&&await j.c.sync.set({syncConfig:c}),null!=o&&await j.c.sync.set({hasInstructionsShown:o}),i&&(i=i.filter(e=>{let{id:t}=e;return a[t]})).length>0){for(const{id:e}of i)await Object(b.n)(Object(f.a)(a[e]));r&&!i.every(e=>{let{id:t}=e;return t!==r})||(r=i[0].id),await j.c.sync.set({activeProfileID:r,profileIDList:i})}}else m.a.error(t("opt.config.import_error"))},this.exportConfig=async()=>{const{t:e}=this.props,t=await j.c.sync.get(["activeProfileID","hasInstructionsShown","profileIDList","syncConfig"]);if(t.baseconfig=await Object(y.c)(),t.baseconfig&&t.activeProfileID&&t.profileIDList){for(const{id:e}of t.profileIDList)t[e]=await Object(b.g)(e);try{let e=JSON.stringify(t);const{os:a}=await browser.runtime.getPlatformInfo();"win"===a&&(e=e.replace(/\r\n|\n/g,"\r\n"));const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="config-".concat(Date.now(),".saladict"),r.target="_blank",document.body.appendChild(r),r.click()}catch(t){m.a.error(e("opt.config.import_error"))}}else m.a.error(e("opt.config.import_error"))}}render(){const{t:e}=this.props;return g.a.createElement(r.a,null,g.a.createElement(i.a,{span:12},g.a.createElement(r.a,{gutter:10},g.a.createElement(i.a,{span:12},g.a.createElement(s.a.Dragger,{beforeUpload:e=>(this.importConfig(e),!1)},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(u.a,{type:"download"})),g.a.createElement("p",{className:"ant-upload-text"},e("opt.config.import")))),g.a.createElement(i.a,{span:12},g.a.createElement("button",{className:"ant-upload ant-upload-drag",onClick:this.exportConfig},g.a.createElement("div",{className:"ant-upload ant-upload-btn"},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(u.a,{type:"upload"})),g.a.createElement("p",{className:"ant-upload-text"},e("opt.config.export"))))))))}}t.default=M},1112:function(e,t,a){"use strict";a.r(t),a.d(t,"PDF",(function(){return p}));var n=a(46),r=a.n(n),o=a(9),i=a.n(o),c=a(60),s=a.n(c),l=a(0),u=a.n(l),d=a(19),m=a(693);class p extends u.a.Component{constructor(e){super(e),this.closeModal=()=>{this.setState({editingArea:""})},this.state={editingArea:""}}render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("opt.pdf_sniff"),help:e("opt.pdf_sniff_help")}),a("config#pdfSniff",{initialValue:t.pdfSniff,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("nav.BlackWhiteList"),help:e("opt.pdf_blackwhitelist_help")}),u.a.createElement(r.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"pdfBlacklist"})},"PDF ",e("common:blacklist")),u.a.createElement(r.a,{onClick:()=>this.setState({editingArea:"pdfWhitelist"})},"PDF ",e("common:whitelist"))),u.a.createElement(m.a,{t:e,config:t,area:this.state.editingArea,onClose:this.closeModal}))}}t.default=i.a.create({onFieldsChange:d.e})(p)},1113:function(e,t,a){"use strict";a.r(t),a.d(t,"Popup",(function(){return m}));var n=a(60),r=a.n(n),o=a(9),i=a.n(o),c=a(32),s=a.n(c),l=a(0),u=a.n(l),d=a(19);class m extends u.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("opt.browserAction.open"),help:e("opt.browserAction.openHelp")}),a("config#baOpen",{initialValue:t.baOpen})(u.a.createElement(s.a,null,u.a.createElement(s.a.Option,{value:"popup_panel"},e("opt.browserAction.openDictPanel")),u.a.createElement(s.a.Option,{value:"popup_fav"},e("opt.browserAction.openFav")),u.a.createElement(s.a.Option,{value:"popup_options"},e("opt.browserAction.openOptions")),u.a.createElement(s.a.Option,{value:"popup_standalone"},e("opt.browserAction.openStandalone")),Object.keys(t.contextMenus.all).map(t=>u.a.createElement(s.a.Option,{key:t,value:t},e("menus:".concat(t))))))),"popup_panel"===t.baOpen&&u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("preload.title"),help:e("preload.help")}),a("config#baPreload",{initialValue:t.baPreload})(u.a.createElement(s.a,null,u.a.createElement(s.a.Option,{value:""},e("common:none")),u.a.createElement(s.a.Option,{value:"clipboard"},e("preload.clipboard")),u.a.createElement(s.a.Option,{value:"selection"},e("preload.selection"))))),"popup_panel"===t.baOpen&&""!==t.baPreload&&u.a.createElement(i.a.Item,Object.assign({},d.b,{label:e("preload.auto"),help:e("preload.auto_help")}),a("config#baAuto",{initialValue:t.baAuto,valuePropName:"checked"})(u.a.createElement(r.a,null))))}}t.default=i.a.create({onFieldsChange:d.e})(m)},1114:function(e,t,a){"use strict";a.r(t),a.d(t,"Privacy",(function(){return u}));var n=a(9),r=a.n(n),o=a(60),i=a.n(o),c=a(0),s=a.n(c),l=a(19);class u extends s.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return s.a.createElement(r.a,null,s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.update_check"),help:e("opt.update_check_help")}),a("config#updateCheck",{initialValue:t.updateCheck,valuePropName:"checked"})(s.a.createElement(i.a,null))),s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.analytics"),help:e("opt.analytics_help")}),a("config#analytics",{initialValue:t.analytics,valuePropName:"checked"})(s.a.createElement(i.a,null))),s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.history"),help:e("opt.history_help")}),a("config#searhHistory",{initialValue:t.searhHistory,valuePropName:"checked"})(s.a.createElement(i.a,null))),t.searhHistory&&s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.history_inco")}),a("config#searhHistoryInco",{initialValue:t.searhHistoryInco,valuePropName:"checked"})(s.a.createElement(i.a,null))),s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.third_party_privacy"),help:e("opt.third_party_privacy_help"),extra:e("opt.third_party_privacy_extra")}),s.a.createElement(i.a,{checked:!0,disabled:!0})))}}t.default=r.a.create({onFieldsChange:l.e})(u)},1115:function(e,t,a){"use strict";a.r(t),a.d(t,"QuickSearch",(function(){return w}));var n=a(148),r=a.n(n),o=a(116),i=a.n(o),c=a(301),s=a.n(c),l=a(32),u=a.n(l),d=a(9),m=a.n(d),p=a(60),g=a.n(p),h=a(0),f=a.n(h),y=a(19),b=a(593),j=a(123);const M=["CENTER","TOP","RIGHT","BOTTOM","LEFT","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT"];class w extends f.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return f.a.createElement(m.a,null,f.a.createElement(m.a.Item,Object.assign({},y.b,{label:e("opt.quick_search"),help:f.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("quickSearch.help")}})}),a("config#tripleCtrl",{initialValue:t.tripleCtrl,valuePropName:"checked"})(f.a.createElement(g.a,null))),f.a.createElement(m.a.Item,Object.assign({},y.b,{label:e("quickSearch.loc")}),a("config#tripleCtrlLocation",{initialValue:t.tripleCtrlLocation})(f.a.createElement(u.a,null,M.map(t=>f.a.createElement(u.a.Option,{key:t,value:t},e("quickSearch.locations.".concat(t))))))),f.a.createElement(m.a.Item,Object.assign({},y.b,{label:e("preload.title"),help:e("preload.help")}),a("config#tripleCtrlPreload",{initialValue:t.tripleCtrlPreload})(f.a.createElement(u.a,null,f.a.createElement(u.a.Option,{value:""},e("common:none")),f.a.createElement(u.a.Option,{value:"clipboard"},e("preload.clipboard")),f.a.createElement(u.a.Option,{value:"selection"},e("preload.selection"))))),""!==t.tripleCtrlPreload&&f.a.createElement(m.a.Item,Object.assign({},y.b,{label:e("preload.auto"),help:e("preload.auto_help")}),a("config#tripleCtrlAuto",{initialValue:t.tripleCtrlAuto,valuePropName:"checked"})(f.a.createElement(g.a,null))),f.a.createElement(m.a.Item,Object.assign({},y.b,{label:e("quickSearch.standalone"),help:f.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("quickSearch.standalone_help")}})}),a("config#tripleCtrlStandalone",{initialValue:t.tripleCtrlStandalone,valuePropName:"checked"})(f.a.createElement(g.a,null))),t.tripleCtrlStandalone&&f.a.createElement(r.a,null,f.a.createElement(i.a,{xs:{span:24},md:{span:20,offset:2},lg:{span:11,offset:2}},f.a.createElement(s.a,{title:e("quickSearch.standalone")},f.a.createElement(m.a.Item,Object.assign({},y.d,{label:e("quickSearch.sidebar"),help:e("quickSearch.sidebar_help")}),a("config#tripleCtrlSidebar",{initialValue:t.tripleCtrlSidebar})(f.a.createElement(u.a,null,f.a.createElement(u.a.Option,{value:""},e("common:none")),f.a.createElement(u.a.Option,{value:"left"},e("quickSearch.locations.LEFT")),f.a.createElement(u.a.Option,{value:"right"},e("quickSearch.locations.RIGHT"))))),!t.tripleCtrlSidebar&&f.a.createElement(m.a.Item,Object.assign({},y.d,{label:e("quickSearch.height")}),a("config#tripleCtrlHeight",{initialValue:t.tripleCtrlHeight,rules:[{type:"number",whitespace:!0}]})(f.a.createElement(j.a,{suffix:"px"}))),f.a.createElement(m.a.Item,Object.assign({},y.d,{label:e("quickSearch.page_sel"),help:e("quickSearch.page_sel_help")}),a("config#tripleCtrlPageSel",{initialValue:t.tripleCtrlPageSel,valuePropName:"checked"})(f.a.createElement(g.a,null))),t.tripleCtrlPageSel&&f.a.createElement(b.a,Object.assign({},this.props,{mode:"qsPanelMode",sub:!0}))))))}}t.default=m.a.create({onFieldsChange:y.e})(w)},1116:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchModes",(function(){return h}));var n=a(127),r=a.n(n),o=a(9),i=a.n(o),c=a(60),s=a.n(c),l=a(0),u=a.n(l),d=a(28),m=a(19),p=a(593),g=a(123);class h extends u.a.Component{render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form;return u.a.createElement(i.a,null,u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.no_type_field"),help:e("opt.no_type_field_help")}),a("config#noTypeField",{initialValue:t.noTypeField,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.touch_mode"),help:e("opt.touch_mode_help")}),a("config#touchMode",{initialValue:t.touchMode,valuePropName:"checked"})(u.a.createElement(s.a,null))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.sel_lang"),help:e("opt.sel_lang_help"),extra:u.a.createElement("span",{style:{color:"#c0392b"}},e("opt.sel_lang_warning"))}),d.j.map(n=>u.a.createElement(i.a.Item,{key:n,className:"form-item-inline"},a("config#language#".concat(n),{initialValue:t.language[n],valuePropName:"checked"})(u.a.createElement(r.a,null,e("common:lang.".concat(n))))))),u.a.createElement(i.a.Item,Object.assign({},m.b,{label:e("opt.double_click_delay")}),a("config#doubleClickDelay",{initialValue:t.doubleClickDelay,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(g.a,{suffix:e("common:unit.ms")}))),u.a.createElement(p.a,Object.assign({},this.props,{mode:"mode"})),u.a.createElement(p.a,Object.assign({},this.props,{mode:"pinMode"})),u.a.createElement(p.a,Object.assign({},this.props,{mode:"panelMode"})))}}t.default=i.a.create({onFieldsChange:m.e})(h)},1120:function(e,t,a){},114:function(e,t,a){"use strict";var n=a(0),r=a.n(n);function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}t.a=e=>{const{title:t,className:a,children:n}=e,i=o(e,["title","className","children"]);return r.a.createElement("div",Object.assign({className:"entryBox-Wrap".concat(a?" ".concat(a):"")},i),r.a.createElement("section",{className:"entryBox"},r.a.createElement("h1",{className:"entryBox-Title"},t),r.a.createElement("div",null,n)))}},12:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return y})),a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return M})),a.d(t,"e",(function(){return w}));var n=a(75),r=a(22),o=a(77),i=a(11),c=a(44),s=a(91),l=a(23),u=a(38),d=a(3);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const g=/mac/i.test(navigator.platform);function h(e){return g?"Meta"===e.key:"Control"===e.key}function f(e){return"Escape"===e.key}function y(e){return Object(n.a)(Object(i.a)(e)(Object(r.a)(window,"keydown",{capture:!0})),Object(c.a)(!1)(Object(r.a)(window,"keyup",{capture:!0})),Object(c.a)(!1)(Object(r.a)(window,"blur",{capture:!0})),Object(o.a)(!1)).pipe(Object(s.a)(),Object(l.a)(e=>e))}const b=/CodeMirror|ace_editor|monaco-editor/;function j(e){if(!e||!e.tagName)return!1;for(let t=e;t;t=t.parentElement){if("INPUT"===t.tagName||"TEXTAREA"===t.tagName)return!0;if(b.test(String(t.className)))return!0}return!1}function M(e){const t=window.pageURL||document.URL||"";return!!t&&(e.blacklist.some(e=>{let[a]=e;return new RegExp(a).test(t)})&&e.whitelist.every(e=>{let[a]=e;return!new RegExp(a).test(t)}))}async function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await d.a.send({type:"PAGE_INFO"});return window.faviconURL=t.faviconURL,t.pageTitle&&(window.pageTitle=t.pageTitle),t.pageURL&&(window.pageURL=t.pageURL),Object(u.e)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({title:t.pageTitle||document.title||"",url:t.pageURL||document.URL||"",favicon:t.faviconURL||""},e))}},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(860),r=a.n(n),o=a(0),i=a.n(o);a(1087);class c extends i.a.Component{render(){return i.a.createElement("span",{className:"input-number-group-wrapper"},i.a.createElement("span",{className:"input-number-group"},i.a.createElement(r.a,this.props),!!this.props.suffix&&i.a.createElement("span",{className:"input-number-group-addon"},this.props.suffix)))}}},1235:function(e,t,a){"use strict";a.r(t);var n=a(148),r=a.n(n),o=a(215),i=a.n(o),c=a(33),s=a.n(c),l=a(116),u=a.n(l),d=a(0),m=a.n(d),p=a(56),g=a(19),h=a(589),f=a(104),y=a.n(f),b=a(301),j=a.n(b),M=a(278),w=a.n(M),E=a(46),O=a.n(E),I=a(790);const D={width:"1.3em",height:"1.3em",marginRight:5,verticalAlign:"text-bottom"};class N extends m.a.PureComponent{render(){const{t:e,dictID:t,lang:n}=this.props,r=e("dicts:".concat(t,".name"));return m.a.createElement("span",null,m.a.createElement("img",{style:D,src:a(349)("./"+t+"/favicon.png"),alt:"logo ".concat(r)}),r,m.a.createElement(I.default,{t:e,langs:n}))}}class v extends m.a.Component{constructor(){super(...arguments),this.addDict=e=>{const{profile:t}=this.props;t.dicts.selected.push(e),Object(p.n)(t)},this.renderItem=e=>{const{t:t,profile:a}=this.props;return m.a.createElement(w.a.Item,null,m.a.createElement("div",{className:"sortable-list-item"},m.a.createElement(N,{t:t,dictID:e,lang:a.dicts.all[e].lang}),m.a.createElement("div",null,m.a.createElement(O.a,{title:t("common:add"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"check",onClick:()=>this.addDict(e)}))))}}render(){const{onClose:e,show:t,t:a,profile:n}=this.props,r=new Set(n.dicts.selected),o=Object.keys(n.dicts.all).filter(e=>!r.has(e));return m.a.createElement(y.a,{visible:t,title:a("dict.add"),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},m.a.createElement(j.a,null,m.a.createElement(w.a,{size:"large",dataSource:o,renderItem:this.renderItem})))}}var S=v,C=a(127),A=a.n(C),x=a(178),k=a.n(x),z=a(60),L=a.n(z),T=a(9),_=a.n(T),P=a(28),U=a(123);class Q extends m.a.Component{constructor(){super(...arguments),this.renderMoreOptions=e=>{const{t:t,i18n:a,profile:n}=this.props,{getFieldDecorator:r}=this.props.form,o=n.dicts.all[e],i=o.options;if(!i)return;const c="profile#dicts#all#".concat(e,"#options#");return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,t("dict.more_options")),Object.keys(i).map(n=>{const s=i[n];switch(typeof s){case"number":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:n,label:t("dicts:".concat(e,".options.").concat(n)),help:a.exists("dicts:".concat(e,".helpers.").concat(n))?t("dicts:".concat(e,".helpers.").concat(n)):null}),r(c+n,{initialValue:s,rules:[{type:"number"}]})(m.a.createElement(U.a,{suffix:t("dicts:".concat(e,".options.").concat(n,"_unit"))})));case"boolean":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:n,label:t("dicts:".concat(e,".options.").concat(n)),help:a.exists("dicts:".concat(e,".helpers.").concat(n))?t("dicts:".concat(e,".helpers.").concat(n)):null}),r(c+n,{initialValue:s,valuePropName:"checked"})(m.a.createElement(L.a,null)));case"string":return m.a.createElement(_.a.Item,Object.assign({},g.c,{key:n,label:t("dicts:".concat(e,".options.").concat(n)),help:a.exists("dicts:".concat(e,".helpers.").concat(n))?t("dicts:".concat(e,".helpers.").concat(n)):null,style:{marginBottom:0}}),r(c+n,{initialValue:s})(m.a.createElement(k.a.Group,null,o.options_sel[n].map(a=>m.a.createElement(k.a,{value:a,key:a},t("tl"===n?"langcode:".concat(a):"dicts:".concat(e,".options.").concat(n,"-").concat(a)))))))}}))}}render(){const{onClose:e,dictID:t,t:a,profile:n}=this.props,{getFieldDecorator:r}=this.props.form,o="profile#dicts#all#".concat(t),i=n.dicts.all;return m.a.createElement(y.a,{visible:!!t,title:t&&a("dicts:".concat(t,".name")),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},t&&m.a.createElement(_.a,null,m.a.createElement(_.a.Item,Object.assign({},g.c,{label:a("dict.sel_lang"),help:a("dict.sel_lang_help"),extra:m.a.createElement("span",{style:{color:"#c0392b"}},a("opt.sel_lang_warning"))}),P.j.map(e=>m.a.createElement(_.a.Item,{key:e,className:"form-item-inline"},r("".concat(o,"#selectionLang#").concat(e),{initialValue:i[t].selectionLang[e],valuePropName:"checked"})(m.a.createElement(A.a,null,a("common:lang.".concat(e))))))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:a("dict.default_unfold"),help:a("dict.default_unfold_help"),extra:m.a.createElement("span",{style:{color:"#c0392b"}},a("opt.sel_lang_warning"))}),P.j.map(e=>m.a.createElement(_.a.Item,{key:e,className:"form-item-inline"},r("".concat(o,"#defaultUnfold#").concat(e),{initialValue:i[t].defaultUnfold[e],valuePropName:"checked"})(m.a.createElement(A.a,null,a("common:lang.".concat(e))))))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:a("dict.sel_word_count"),help:a("dict.sel_word_count_help")}),m.a.createElement(_.a.Item,{className:"form-item-inline",help:""},r("".concat(o,"#selectionWC#min"),{initialValue:i[t].selectionWC.min,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(U.a,{suffix:a("common:min")}))),m.a.createElement(_.a.Item,{className:"form-item-inline",help:""},r("".concat(o,"#selectionWC#max"),{initialValue:i[t].selectionWC.max,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(U.a,{suffix:a("common:max")})))),m.a.createElement(_.a.Item,Object.assign({},g.c,{label:a("dict.default_height"),help:a("dict.default_height_help")}),r("".concat(o,"#preferredHeight"),{initialValue:i[t].preferredHeight,rules:[{type:"number",whitespace:!0}]})(m.a.createElement(U.a,{suffix:"px"}))),this.renderMoreOptions(t)))}}var Y=_.a.create({onFieldsChange:g.e})(Q),V=a(32),B=a.n(V);class F extends m.a.Component{render(){const{t:e,config:t,profile:a}=this.props,{getFieldDecorator:n}=this.props.form,r=a.dicts.all.zdic.options.audio?t.autopron.cn.list:t.autopron.cn.list.filter(e=>"zdic"!==e);return m.a.createElement(_.a,null,m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.cn")}),n("config#autopron#cn#dict",{initialValue:t.autopron.cn.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),r.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.en")}),n("config#autopron#en#dict",{initialValue:t.autopron.en.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),t.autopron.en.list.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),t.autopron.en.dict&&m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.accent")}),n("config#autopron#en#accent",{initialValue:t.autopron.en.accent})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:"uk"},e("opt.autopron.accent_uk")),m.a.createElement(B.a.Option,{value:"us"},e("opt.autopron.accent_us"))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.machine")}),n("config#autopron#machine#dict",{initialValue:t.autopron.machine.dict})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:""},e("common:none")),t.autopron.machine.list.map(t=>m.a.createElement(B.a.Option,{key:t,value:t},e("dicts:".concat(t,".name"))))))),t.autopron.machine.dict&&m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.autopron.machine_src")}),n("config#autopron#machine#src",{initialValue:t.autopron.machine.src})(m.a.createElement(B.a,null,m.a.createElement(B.a.Option,{value:"trans"},e("opt.autopron.machine_src_trans")),m.a.createElement(B.a.Option,{value:"searchText"},e("opt.autopron.machine_src_search"))))),m.a.createElement(_.a.Item,Object.assign({},g.b,{label:e("opt.waveform"),help:e("opt.waveform_help"),extra:e("opt.profile_change"),required:!0}),n("profile#waveform",{initialValue:a.waveform,valuePropName:"checked"})(m.a.createElement(L.a,null))))}}var R=_.a.create({onFieldsChange:g.e})(F);a.d(t,"Dictionaries",(function(){return G}));class G extends m.a.Component{constructor(){super(...arguments),this.state={isShowAddDictModal:!1,editingDictID:""},this.openAddDictModal=()=>{this.setState({isShowAddDictModal:!0})},this.closeAddDictModal=()=>{this.setState({isShowAddDictModal:!1})},this.closeEditDictModal=()=>{this.setState({editingDictID:""})},this.deleteItem=async e=>{const{profile:t}=this.props;t.dicts.selected.splice(e,1),Object(p.n)(t)},this.handleSortEnd=e=>{let{oldIndex:t,newIndex:a}=e;if(t===a)return;const{profile:n}=this.props;n.dicts.selected=Object(g.a)(n.dicts.selected,t,a),Object(p.n)(n)}}render(){const{t:e,profile:t}=this.props,{selected:a}=t.dicts;return m.a.createElement(r.a,null,m.a.createElement(u.a,null,m.a.createElement(R,this.props)),m.a.createElement(u.a,{span:13},m.a.createElement(h.a,{t:e,title:m.a.createElement(i.a,{title:e("opt.profile_change")},m.a.createElement(s.a,{type:"question-circle-o"})," ",e("opt.dict_selected")),list:a.map(a=>({value:a,title:m.a.createElement(N,{t:e,dictID:a,lang:t.dicts.all[a].lang})})),onAdd:this.openAddDictModal,onEdit:e=>this.setState({editingDictID:a[e]}),onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),m.a.createElement(Y,Object.assign({},this.props,{dictID:this.state.editingDictID,onClose:this.closeEditDictModal})),m.a.createElement(S,Object.assign({},this.props,{show:this.state.isShowAddDictModal,onClose:this.closeAddDictModal}))))}}t.default=G},1238:function(e,t,a){"use strict";a.r(t);var n=a(48),r=a.n(n),o=a(64),i=a.n(o);window.__SALADICT_INTERNAL_PAGE__=!0,window.__SALADICT_OPTIONS_PAGE__=!0,window.__SALADICT_LAST_SEARCH__="";a(201);var c=a(0),s=a.n(c),l=a(18),u=a.n(l),d=a(74),m=a.n(d),p=a(33),g=a.n(p),h=a(149),f=a.n(h),y=a(84),b=a(855),j=a(56),M=a(159);const{Header:w,Content:E,Sider:O}=f.a,I=a(996),D=new URL(document.URL).searchParams.get("menuselected")||"General";class N extends s.a.Component{constructor(){super(...arguments),this.state={selectedKey:D},this.onNavSelect=e=>{let{key:t}=e;this.setState({selectedKey:t}),this.setTitle(t);const{protocol:a,host:n,pathname:r}=window.location,o="".concat(a,"//").concat(n).concat(r,"?menuselected=").concat(t);window.history.pushState({key:t},"",o),this.props.config.analytics&&Object(M.a)("/options/".concat(t))},this.setTitle=e=>{const{t:t}=this.props;document.title="".concat(t("title")," - ").concat(t("nav."+e))}}componentDidMount(){this.setTitle(this.state.selectedKey),this.props.config.analytics&&Object(M.a)("/options/".concat(this.state.selectedKey)),window.addEventListener("popstate",e=>{this.setState({selectedKey:e.state.key||"General"})})}render(){const{t:e,i18n:t,config:a,profile:n,rawProfileName:r}=this.props;return s.a.createElement(f.a,{className:"xmain-container",style:{maxWidth:1400,margin:"0 auto"}},s.a.createElement(w,{className:"options-header"},s.a.createElement("h1",{style:{color:"#fff"}},e("title")),s.a.createElement("span",{style:{color:"#fff"}},"「 ",Object(j.i)(r,e)," 」"),s.a.createElement(b.a,null)),s.a.createElement(f.a,null,s.a.createElement(O,{width:180,style:{background:"#fff"}},s.a.createElement(m.a,{mode:"inline",selectedKeys:[this.state.selectedKey],style:{height:"100%",borderRight:0},onSelect:this.onNavSelect},s.a.createElement(m.a.Item,{key:"General"},s.a.createElement(g.a,{type:"setting"})," ",e("nav.General")),s.a.createElement(m.a.Item,{key:"Notebook"},s.a.createElement(g.a,{type:"tags"})," ",e("nav.Notebook")),s.a.createElement(m.a.Item,{key:"Profiles"},s.a.createElement(g.a,{type:"dashboard"})," ",e("nav.Profiles")),s.a.createElement(m.a.Item,{key:"DictPanel"},s.a.createElement(g.a,{type:"profile"})," ",e("nav.DictPanel")),s.a.createElement(m.a.Item,{key:"SearchModes"},s.a.createElement(g.a,{type:"select"})," ",e("nav.SearchModes")),s.a.createElement(m.a.Item,{key:"Dictionaries"},s.a.createElement(g.a,{type:"book"})," ",e("nav.Dictionaries")),s.a.createElement(m.a.Item,{key:"PDF"},s.a.createElement(g.a,{type:"file-pdf"})," ",e("nav.PDF")),s.a.createElement(m.a.Item,{key:"ContextMenus"},s.a.createElement(g.a,{type:"database"})," ",e("nav.ContextMenus")),s.a.createElement(m.a.Item,{key:"Popup"},s.a.createElement(g.a,{type:"layout"})," ",e("nav.Popup")),s.a.createElement(m.a.Item,{key:"QuickSearch"},s.a.createElement(g.a,{type:"flag"})," ",e("nav.QuickSearch")),s.a.createElement(m.a.Item,{key:"BlackWhiteList"},s.a.createElement(g.a,{type:"exception"})," ",e("nav.BlackWhiteList")),s.a.createElement(m.a.Item,{key:"ImportExport"},s.a.createElement(g.a,{type:"swap"})," ",e("nav.ImportExport")),s.a.createElement(m.a.Item,{key:"Privacy"},s.a.createElement(g.a,{type:"lock"})," ",e("nav.Privacy")))),s.a.createElement(f.a,{style:{padding:"24px",minHeight:innerHeight-64}},s.a.createElement(E,{"data-option-content":this.state.selectedKey,style:{background:"#fff",padding:24,margin:0}},s.a.createElement(I("./".concat(this.state.selectedKey,"/index.tsx")).default,{t:e,i18n:t,config:a,profile:n})))))}}var v=Object(y.c)()(N),S=(a(782),a(217)),C=a(121),A=a(31),x=a(40),k=a(62),z=a(4);var L=a(3),T=a(87),_=a(195),P=a(305),U=a(306),Q=a(304),Y=a(49),V=a(357),B=a.n(V),F=a(590),R=a.n(F),G=a(591),K=a.n(G),W=(a(1120),a(38));a.d(t,"Options",(function(){return X}));const H=Object(Y.a)();H.loadNamespaces(["common","options","dicts","menus","langcode"]),H.setDefaultNamespace("options");const Z={"zh-CN":B.a,"zh-TW":R.a,en:K.a};class X extends s.a.Component{constructor(){var e;super(...arguments),e=this,this.reduxStore=Object(_.a)(),this.state={config:Object(S.a)(),profile:Object(C.b)(),profileIDList:[],rawProfileName:""},this.getActiveProfileName=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.profileIDList;const n=a.find(e=>{let{id:a}=e;return a===t});return n?n.name:""}}componentDidMount(){Promise.all([Object(A.c)(),Object(j.e)(),Object(j.h)()]).then(async e=>{let[t,a,n]=e;this.setState({config:t,profile:a,profileIDList:n,rawProfileName:this.getActiveProfileName(a.id,n)}),window.innerWidth>1024&&(await Object(k.d)(500),L.a.self.send({type:"SELECTION",payload:{word:Object(W.e)({text:await Object(k.a)([Object(x.a)("https://www.merriam-webster.com/word-of-the-day").then(e=>{const t=Object(z.f)(e,"title");return(t.match(/Word of the Day: (.+) \| Merriam-Webster/)||["",""])[1]||Object(z.h)()}),Object(x.a)("https://www.dictionary.com/wordoftheday/").then(e=>{const t=Object(z.f)(e,"title");return(t.match(/Get the Word of the Day - (.+) \| Dictionary\.com/)||["",""])[1]||Object(z.h)()})]).catch(()=>"salad")}),self:!0,instant:!0,mouseX:window.innerWidth-t.panelWidth-50,mouseY:80,dbClick:!0,shiftKey:!0,ctrlKey:!0,metaKey:!0,force:!0}}))}),Object(A.a)(e=>{let{newConfig:t}=e;this.setState({config:t}),i.a.destroy(),i.a.success(H.t("msg_updated"))}),Object(j.a)(e=>{let{newProfile:t}=e;this.setState({profile:t,rawProfileName:this.getActiveProfileName(t.id)}),i.a.destroy(),i.a.success(H.t("msg_updated"))}),Object(j.c)(e=>{let{newValue:t}=e;this.setState({profileIDList:t}),i.a.destroy(),i.a.success(H.t("msg_updated"))})}render(){const e=window.innerWidth>1024&&!new URL(document.URL).searchParams.get("nopanel");return s.a.createElement(y.a,{i18n:H},s.a.createElement(r.a,{locale:Z[this.state.config.langCode]||B.a},s.a.createElement(v,this.state)),e&&s.a.createElement(T.a,{store:this.reduxStore},s.a.createElement(P.a,null),s.a.createElement(U.a,null),s.a.createElement(Q.a,null)))}}u.a.render(s.a.createElement(X,null),document.getElementById("root"))},1242:function(e,t,a){"use strict";a.r(t);var n=a(46),r=a.n(n),o=a(127),i=a.n(o),c=a(9),s=a.n(c),l=a(60),u=a.n(l),d=a(0),m=a.n(d),p=a(3),g=a(19),h=a(104),f=a.n(h),y=a(122),b=a.n(y),j=a(128),M=a(82),w=a(123);class E extends m.a.Component{constructor(){super(...arguments),this.formItemLayout={labelCol:{span:5},wrapperCol:{span:18}}}render(){const{t:e,form:t}=this.props,{getFieldDecorator:a}=t;return m.a.createElement(s.a,null,m.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("sync.webdav.explain")}}),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.url"),hasFeedback:!0}),a("url",{rules:[{type:"url",message:e("sync.error_url")}]})(m.a.createElement(b.a,null))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.user")}),a("user",{})(m.a.createElement(b.a,null))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.passwd")}),a("passwd",{})(m.a.createElement(b.a,{type:"password"}))),m.a.createElement(s.a.Item,Object.assign({},this.formItemLayout,{label:e("sync.webdav.duration"),extra:e("sync.webdav.duration_help")}),a("duration",{rules:[{type:"number",whitespace:!0}]})(m.a.createElement(w.a,{suffix:e("common:unit.mins")}))))}}const O=s.a.create({mapPropsToFields:e=>e.configFormItems,onFieldsChange(e,t,a){e.onChange(a)}})(E);class I extends m.a.Component{constructor(){super(...arguments),this.isSyncServiceTainted=!1,this.state={isSyncServiceLoading:!1,configFormItems:D(this.props.syncConfig||j.Service.getDefaultConfig())},this.closeSyncService=()=>{this.isSyncServiceTainted&&!confirm(this.props.t("sync.close_confirm"))||(this.props.onClose(),this.isSyncServiceTainted=!1)},this.saveSyncService=async()=>{const{t:e}=this.props,{configFormItems:t}=this.state;if(!t)return;let a=!1;this.setState({isSyncServiceLoading:!0});const n=await p.a.send({type:"SYNC_SERVICE_INIT",payload:{serviceID:j.Service.id,config:N(t)}}).catch(()=>({})),r=n&&n.error;if(r&&"exist"!==r)return alert(this.getErrorMsg(r)),void this.setState({isSyncServiceLoading:!1});"exist"===r&&confirm(e("sync.webdav.err_exist"))&&await p.a.send({type:"SYNC_SERVICE_DOWNLOAD",payload:{serviceID:j.Service.id,noCache:!0}}).catch(()=>({error:"unknown"})).then(e=>{e&&e.error&&(a=!0,alert(this.getErrorMsg(e.error)))}),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:j.Service.id,force:!0}}).catch(()=>({error:"unknown"})).then(e=>{e&&e.error&&(a=!0,alert(this.getErrorMsg(e.error)))}),this.setState({isSyncServiceLoading:!1}),a||(this.isSyncServiceTainted=!1,this.props.onClose())},this.clearSyncService=async()=>{confirm(this.props.t("sync.delete_confirm"))&&(await Object(M.e)(j.Service.id),this.setState({configFormItems:D(j.Service.getDefaultConfig())}),this.isSyncServiceTainted=!1,this.props.onClose())},this.getErrorMsg=e=>{const t="string"==typeof e?e:String(e);return/^(network|unauthorized|mkcol|parse)$/.test(t)?this.props.t("sync.webdav.err_"+t):this.props.t("sync.webdav.err_unknown",{error:t})},this.onSyncConfigChanged=e=>{this.isSyncServiceTainted=!0,this.setState({configFormItems:e})}}render(){const{t:e,show:t}=this.props,{configFormItems:a}=this.state,n=!t||!a.url.value||Object.values(a).some(e=>{let{errors:t}=e;return null!=t&&t.length>0});return m.a.createElement(f.a,{visible:t,title:e("sync.webdav.title"),destroyOnClose:!0,onOk:this.saveSyncService,onCancel:this.closeSyncService,footer:[m.a.createElement(r.a,{key:"delete",type:"danger",onClick:this.clearSyncService},e("common:delete")),m.a.createElement(r.a,{key:"save",type:"primary",disabled:n,loading:this.state.isSyncServiceLoading,onClick:this.saveSyncService},e("common:save")),m.a.createElement(r.a,{key:"cancel",onClick:this.closeSyncService},e("common:cancel"))]},m.a.createElement(O,{t:e,configFormItems:a,onChange:this.onSyncConfigChanged}))}}function D(e){return Object.keys(e).reduce((t,a)=>(t[a]=s.a.createFormField({value:e[a]}),t),{})}function N(e){return Object.keys(e).reduce((t,a)=>(t[a]=e[a].value,"url"===a&&t[a]&&!t[a].endsWith("/")&&(t[a]+="/"),t),{})}var v=a(64),S=a.n(v),C=a(133),A=a(38);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class L extends m.a.Component{constructor(){super(...arguments),this.state={syncConfig:this.props.syncConfig||C.Service.getDefaultConfig()},this.closeSyncService=()=>{this.props.onClose()},this.handleEnableChanged=async e=>{if(e){const e=await p.a.send({type:"SYNC_SERVICE_INIT",payload:{serviceID:C.Service.id,config:this.state.syncConfig}}).catch(e=>({error:e}));if(e&&e.error)return alert(this.props.t("sync.shanbay.login")),void C.Service.openLogin()}else Object(M.h)("shanbay",k({},this.state.syncConfig,{enable:!1}));this.setState(t=>({syncConfig:k({},t.syncConfig,{enable:e})}))},this.handleSyncAll=async()=>{const{t:e}=this.props,{total:t}=await Object(A.b)("notebook",{itemsPerPage:1,filters:{}});t>50&&!confirm(e("sync.shanbay.sync_all_confirm"))||(S.a.success(e("sync.start")),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:C.Service.id,force:!0}}).catch(()=>({error:"unknown"})).then(t=>{t&&t.error&&S.a.success(e("sync.failed"))}),S.a.success(e("sync.success")))},this.handleSyncLast=async()=>{const{t:e}=this.props,{words:t}=await Object(A.b)("notebook",{itemsPerPage:1,filters:{}});!t||t.length<=0||(S.a.success(e("sync.start")),await p.a.send({type:"SYNC_SERVICE_UPLOAD",payload:{op:"ADD",serviceID:C.Service.id,force:!0,words:t}}).catch(()=>({error:"unknown"})).then(t=>{t&&t.error&&S.a.success(e("sync.failed"))}),S.a.success(e("sync.success")))}}render(){const{t:e,show:t}=this.props;return m.a.createElement(f.a,{visible:t,title:e("sync.shanbay.title"),destroyOnClose:!0,onCancel:this.closeSyncService,footer:[]},m.a.createElement(s.a,null,m.a.createElement("p",null,e("sync.shanbay.description")),m.a.createElement(s.a.Item,Object.assign({},g.c,{label:e("common:enable")}),m.a.createElement(u.a,{checked:this.state.syncConfig.enable,onChange:this.handleEnableChanged})),this.state.syncConfig.enable&&m.a.createElement("div",{style:{textAlign:"center"}},m.a.createElement(r.a,{onClick:this.handleSyncAll,style:{marginRight:10}},e("sync.shanbay.sync_all")),m.a.createElement(r.a,{onClick:this.handleSyncLast},e("sync.shanbay.sync_last")))))}}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){P(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"Notebook",(function(){return U}));class U extends m.a.Component{constructor(e){super(e),this.state={isShowSyncServiceModal:{[j.Service.id]:!1,[C.Service.id]:!1},syncConfigs:null},this.showSyncServiceModal=(e,t)=>{this.setState(a=>({isShowSyncServiceModal:_({},a.isShowSyncServiceModal,{[e]:t})}))},p.c.sync.get("syncConfig").then(e=>{let{syncConfig:t}=e;this.setState({syncConfigs:t||{}})}),p.c.sync.addListener("syncConfig",e=>{let{syncConfig:t}=e;this.setState({syncConfigs:t.newValue||{}})})}render(){const{t:e,config:t}=this.props,{getFieldDecorator:a}=this.props.form,{syncConfigs:n,isShowSyncServiceModal:o}=this.state;return m.a.createElement(s.a,null,m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.edit_on_fav"),help:e("opt.edit_on_fav_help")}),a("config#editOnFav",{initialValue:t.editOnFav,valuePropName:"checked"})(m.a.createElement(u.a,null))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.history"),help:e("opt.history_help")}),a("config#searhHistory",{initialValue:t.searhHistory,valuePropName:"checked"})(m.a.createElement(u.a,null))),t.searhHistory&&m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.history_inco")}),a("config#searhHistoryInco",{initialValue:t.searhHistoryInco,valuePropName:"checked"})(m.a.createElement(u.a,null))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("opt.ctx_trans"),help:e("opt.ctx_trans_help")}),Object.keys(t.ctxTrans).map(n=>m.a.createElement(s.a.Item,{key:n,style:{marginBottom:0}},a("config#ctxTrans#".concat(n),{initialValue:t.ctxTrans[n],valuePropName:"checked"})(m.a.createElement(i.a,null,e("dicts:".concat(n,".name"))))))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("sync.webdav.title")}),m.a.createElement(r.a,{onClick:()=>this.showSyncServiceModal(j.Service.id,!0)},"".concat(e("sync.webdav.title")," (").concat(e(n&&n[j.Service.id]&&n[j.Service.id].url?"common:enabled":"common:disabled"),")"))),m.a.createElement(s.a.Item,Object.assign({},g.b,{label:e("sync.shanbay.title")}),m.a.createElement(r.a,{onClick:()=>this.showSyncServiceModal(C.Service.id,!0)},"".concat(e("sync.shanbay.title")," (").concat(e(n&&n[C.Service.id]&&n[C.Service.id].enable?"common:enabled":"common:disabled"),")"))),n&&m.a.createElement(m.a.Fragment,null,m.a.createElement(I,{syncConfig:n[j.Service.id],t:e,show:o[j.Service.id],onClose:()=>this.showSyncServiceModal(j.Service.id,!1)}),m.a.createElement(L,{syncConfig:n[C.Service.id],t:e,show:o[C.Service.id],onClose:()=>this.showSyncServiceModal(C.Service.id,!1)})))}}t.default=s.a.create({onFieldsChange:g.e})(U)},1249:function(e,t,a){"use strict";a.r(t);var n=a(148),r=a.n(n),o=a(116),i=a.n(o),c=a(64),s=a.n(c),l=a(0),u=a.n(l),d=a(19),m=a(121),p=a(56),g=a(104),h=a.n(g),f=a(9),y=a.n(f),b=a(122),j=a.n(b);class M extends u.a.Component{render(){const{title:e,onClose:t,name:a,show:n}=this.props,{getFieldDecorator:r,getFieldValue:o}=this.props.form;return u.a.createElement(h.a,{visible:n,title:e,destroyOnClose:!0,onOk:()=>t(o("profile_name")),onCancel:()=>t()},u.a.createElement(y.a,null,u.a.createElement(y.a.Item,null,r("profile_name",{initialValue:a})(u.a.createElement(j.a,{autoFocus:!0})))))}}var w=y.a.create()(M),E=a(589);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"Profiles",(function(){return D}));class D extends u.a.Component{constructor(){var e;super(...arguments),e=this,this.state={selected:"",list:[],editingProfileID:null,showEditNameModal:!1,showAddProfileModal:!1},this.openAddProfileModal=()=>{this.setState({showAddProfileModal:!0})},this.editProfileName=e=>{this.setState({showEditNameModal:!0,editingProfileID:this.state.list[e]})},this.handleProfileSelect=async e=>{let{target:{value:t}}=e;this.setState({selected:t}),await Object(p.m)(t),s.a.destroy(),s.a.success(this.props.t("msg_updated"))},this.deleteItem=async e=>{const{t:t}=this.props,{name:a,id:n}=this.state.list[e];confirm(t("profiles.delete_confirm",{name:Object(p.i)(a,t)}))&&(await Object(p.k)(n),this.setState(e=>{let{list:t}=e;return{list:t.filter(e=>e.id!==n)}}),s.a.destroy(),s.a.success(t("msg_updated")))},this.handleAddProfileClose=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t=t.trim()){const a=Object(m.c)();a.name=t,await Object(p.b)(a),e.setState(e=>{let{list:t}=e;return{list:[...t,a],showAddProfileModal:!1}}),s.a.destroy(),s.a.success(e.props.t("msg_updated"))}else e.setState({showAddProfileModal:!1})},this.handleEditNameClose=async e=>{const{editingProfileID:t,list:a,selected:n}=this.state;if(e&&t){const r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{name:e}),o=a.map(e=>e.id===r.id?r:e);await Object(p.o)(o),this.setState({list:o,editingProfileID:null,showEditNameModal:!1}),r.id!==n&&(s.a.destroy(),s.a.success(this.props.t("msg_updated")))}else this.setState({editingProfileID:null,showEditNameModal:!1})},this.handleSortEnd=e=>{let{oldIndex:t,newIndex:a}=e;t!==a&&this.setState(e=>{let{list:n}=e;const r=Object(d.a)(n.slice(),t,a);return Object(p.o)(r).then(()=>{s.a.destroy(),s.a.success(this.props.t("msg_updated"))}),{list:r}})}}componentDidMount(){Object(p.h)().then(async e=>{this.setState({list:e.filter(Boolean)})}),Object(p.f)().then(e=>{this.setState({selected:e})})}render(){const{t:e}=this.props,{selected:t,list:a,editingProfileID:n,showEditNameModal:o,showAddProfileModal:c}=this.state;return u.a.createElement(r.a,null,u.a.createElement(i.a,{span:12},u.a.createElement(E.a,{t:e,title:e("nav.Profiles"),description:u.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("profiles.help")}}),list:a.map(t=>({value:t.id,title:Object(p.i)(t.name,e)})),selected:t,onSelect:this.handleProfileSelect,onAdd:this.openAddProfileModal,onEdit:this.editProfileName,onDelete:this.deleteItem,onSortEnd:this.handleSortEnd}),u.a.createElement(w,{title:e("profiles.add_name"),show:c,name:"",onClose:this.handleAddProfileClose}),u.a.createElement(w,{title:e("profiles.edit_name"),show:o,name:n?Object(p.i)(n.name,e):"",onClose:this.handleEditNameClose})))}}t.default=D},126:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return S}));var n=a(90),r=a(75),o=a(22),i=a(57),c=a(23),s=a(11),l=a(44),u=a(65),d=a(155),m=a(219),p=a(129),g=a(91),h=a(86),f=a(218),y=a(220),b=a(95),j=a(106),M=a(29),w=a(96),E=a(5),O=a(14),I=a(28),D=a(12);const N=navigator.userAgent.includes("Firefox");function v(e){return e?e.touchMode?function(e){const t=Object(r.a)(Object(o.a)(window,"mousedown",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),Object(o.a)(window,"touchstart",{capture:!0}).pipe(Object(s.a)(e=>e.changedTouches[0]))),a=Object(r.a)(Object(o.a)(window,"mouseup",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),Object(o.a)(window,"touchend",{capture:!0}).pipe(Object(s.a)(e=>e.changedTouches[0]))),n=C(a,e.doubleClickDelay),p=Object(r.a)(Object(l.a)(!0)(t),Object(l.a)(!1)(a),Object(l.a)(!1)(Object(o.a)(window,"mouseout",{capture:!0})),Object(l.a)(!1)(Object(o.a)(window,"blur",{capture:!0})));return Object(o.a)(document,"selectionchange").pipe(Object(u.a)(p),Object(d.a)(e=>{let[,t]=e;return t?a:Object(i.a)(400)}),Object(s.a)(e=>{let[,t]=e;return[window.getSelection(),t]}),Object(c.a)(e=>!!e[0]&&!Object(E.d)(e[0].anchorNode)),Object(u.a)(a,t,n),Object(s.a)(t=>{let[[a,n],r,o,i]=t;const c=Object(E.c)(a.anchorNode||o.target);if(e.noTypeField&&Object(D.d)(n?o.target:a.anchorNode))return{self:c};const s=Object(O.d)(a);if(!Object(I.a)(e.language,s))return{self:c};if(n)return{word:{text:s,context:Object(O.b)(a)},self:c,dbClick:i>=2,mouseX:r.clientX,mouseY:r.clientY,shiftKey:!!r.shiftKey,ctrlKey:!!r.ctrlKey,metaKey:!!r.metaKey};const l=a.getRangeAt(0).getBoundingClientRect();return 0===l.top&&0===l.left&&0===l.width&&0===l.height?{self:c}:{word:{text:s,context:Object(O.b)(a)},self:c,dbClick:i>=2,mouseX:l.right,mouseY:l.top}}),Object(m.a)(t=>{if(N&&t.self&&t.word&&t.word.text){const{direct:a,double:n,holding:r}=e.panelMode;if(a||n&&t.dbClick||r.shift&&t.shiftKey||r.ctrl&&t.ctrlKey||r.meta&&t.metaKey)return Object(i.a)(500)}return Object(i.a)(0)}))}(e):function(e){const t=Object(o.a)(window,"mousedown",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),a=Object(o.a)(window,"mouseup",{capture:!0}).pipe(Object(c.a)(e=>0===e.button)),n=C(a,e.doubleClickDelay);return a.pipe(Object(c.a)(e=>!Object(E.d)(e.target)),Object(p.a)(10),Object(u.a)(t,n),Object(c.a)(e=>{let[t,a]=e;return!Object(E.c)(t.target)&&!Object(E.c)(a.target)}),Object(s.a)(t=>{let[a,n,r]=t;if(e.noTypeField&&Object(D.d)(n.target))return{self:!1};const o=window.getSelection(),i=Object(O.d)(o);return Object(I.a)(e.language,i)?{word:{text:i,context:Object(O.b)(o)},self:!1,dbClick:r>=2,mouseX:a.clientX,mouseY:a.clientY,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey}:{self:!1}}),Object(g.a)((e,t)=>!t.dbClick&&!!e.word&&!!t.word&&e.word.text===t.word.text&&e.word.context===t.word.context))}(e):Object(n.a)()}function S(e,t,a,n){const[r,o]=Object(b.a)(e=>e.pipe(Object(c.a)(e=>0===e.button))),i=Object(j.a)(M.d,[e,t]),l=Object(j.a)(e=>e.pipe(Object(h.a)(e=>{let[t]=e;return C(o,t)})),[a]),d=Object(j.a)(()=>o.pipe(Object(u.a)(i),Object(c.a)(e=>{let[t,[a]]=e;if(a)return!1;for(let e=t.target;e;e=e.parentElement)if("A"===e.tagName||"BUTTON"===e.tagName)return!1;return!0}),Object(s.a)(e=>{let[t,[,a]]=e;return{mouseup:t.nativeEvent,language:a}}),Object(p.a)(10),Object(u.a)(l),Object(s.a)(e=>{let[{mouseup:t,language:a},n]=e;const r=window.getSelection(),o=Object(O.d)(r);return Object(I.a)(a,o)?{word:{text:o,context:Object(O.b)(r)},dbClick:n>=2,mouseX:t.clientX,mouseY:t.clientY,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,self:!0,instant:!1,force:!1}:{word:null,self:!0,mouseX:0,mouseY:0,dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,instant:!1,force:!1}}),Object(g.a)((e,t)=>!t.dbClick&&!!e.word&&!!t.word&&e.word.text===t.word.text&&e.word.context===t.word.context)));return Object(w.a)(d,async e=>{e.word&&(e.word=await Object(D.e)(e.word)),n(e)}),r}function C(e,t){return e.pipe(Object(h.a)(()=>Object(i.a)(t).pipe(Object(l.a)(!1),Object(f.a)(!0))),Object(y.a)((e,t)=>t?e+1:0,0))}},128:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"Service",(function(){return i}));var n=a(276),r=a(82),o=a(3);class i extends n.a{constructor(){super(...arguments),this.config=i.getDefaultConfig(),this.meta={}}static getDefaultConfig(){return{url:"",user:"",passwd:"",duration:15}}async startInterval(){this.meta=await Object(r.b)(i.id)||this.meta,browser.alarms.onAlarm.addListener(this.handleSyncAlarm.bind(this)),Object(r.a)(i.id).subscribe(this.handleInterval.bind(this))}async handleInterval(e){if(await browser.alarms.clear("webdav"),e)if("string"!=typeof e.url||e.url.endsWith("/")||(e.url+="/"),this.config=e,e.url){const t=+e.duration||15,a=Date.now();let n=+(await o.c.local.get("webdavInterval")).webdavInterval;(!n||n<a||a+6e4*t<n)&&(n=a+1e3),await o.c.local.set({webdavInterval:n}),browser.alarms.create("webdav",{when:n,periodInMinutes:t})}else await o.c.local.set({webdavInterval:0});else this.config=i.getDefaultConfig()}async handleSyncAlarm(t){if("webdav"!==t.name)return;e.env.DEV_BUILD&&console.log("WebDAV Alarm Interval"),await this.download({}).catch(()=>{});const a=6e4*this.config.duration||9e5;await o.c.local.set({webdavInterval:Date.now()+a})}async init(e){try{const a=await fetch(e.url,{method:"PROPFIND",headers:{Authorization:"Basic "+window.btoa("".concat(e.user,":").concat(e.passwd)),"Content-Type":'application/xml; charset="utf-8"',Depth:"1"}});if(!a.ok){if(401===a.status)return Promise.reject("unauthorized");throw new Error}var t=await a.text()}catch(e){return Promise.reject("network")}try{if(!t)throw new Error;var a=(new DOMParser).parseFromString(t,"text/xml");if(!a)throw new Error}catch(e){return Promise.reject("parse")}let n=!1;const r=Array.from(a.querySelectorAll("response"));for(let e in r){const t=r[e].querySelector("href");if(t&&t.textContent&&t.textContent.endsWith("/Saladict/")){if(r[e].querySelector("resourcetype collection")){n=!0;break}return Promise.reject("dir")}}if(!n){if(!(await fetch(e.url+"Saladict",{method:"MKCOL",headers:{Authorization:"Basic "+window.btoa("".concat(e.user,":").concat(e.passwd))}})).ok)return Promise.reject("mkcol")}if(await this.setConfig(e),await this.setMeta({}),n)try{return await this.download({testConfig:e,noCache:!0}),Promise.reject("exist")}catch(e){}}async add(t){let{force:a}=t;if(!this.config.url)return void(e.env.DEV_BUILD&&console.warn("sync service ".concat(i.id," upload: empty url")));a||await this.download({});const n=await Object(r.c)();if(!n||n.length<=0)return;const o=Date.now();try{var c=JSON.stringify({timestamp:o,words:n})}catch(t){return e.env.DEV_BUILD&&console.error("WebDAV: Stringify notebook failed",n),Promise.reject("parse")}try{if(!(await fetch(this.config.url+"Saladict/notebook.json",{method:"PUT",headers:{Authorization:"Basic "+window.btoa("".concat(this.config.user,":").concat(this.config.passwd))},body:c})).ok)throw new Error}catch(t){return e.env.DEV_BUILD&&console.error("WebDAV: upload failed",t),Promise.reject("network")}await this.setMeta({timestamp:o,etag:""})}delete(e){let{force:t}=e;return this.add({force:t})}async download(t){let{testConfig:a,noCache:n}=t;const o=a||this.config;if(!o.url)return void(e.env.DEV_BUILD&&console.warn("sync service ".concat(i.id," download: empty url")));const c={Authorization:"Basic "+window.btoa("".concat(o.user,":").concat(o.passwd))};a||n||null==this.meta.etag||(c["If-None-Match"]=this.meta.etag,c["If-Modified-Since"]=this.meta.etag);try{var s=await fetch(o.url+(o.url.endsWith("/")?"":"/")+"Saladict/notebook.json",{method:"GET",headers:c});if(304===s.status)return;if(!s.ok)throw new Error}catch(e){return Promise.reject("network")}try{var l=await s.json()}catch(e){return console.error("Fetch webdav notebook.json error",s),Promise.reject("parse")}if(!Array.isArray(l.words)||l.words.some(e=>!e.date))return console.error("Parse webdav notebook.json error: incorrect words",l),Promise.reject("format");if(!n&&this.meta.timestamp){if(!l.timestamp)return console.error("webdav notebook.json no timestamp",l),Promise.reject("timestamp");if(a||l.timestamp!==this.meta.timestamp||this.meta.etag||await this.setMeta({timestamp:l.timestamp,etag:s.headers.get("ETag")||""}),l.timestamp<=this.meta.timestamp)return}e.env.DEV_BUILD&&(s.headers.get("ETag")||console.warn("webdav notebook.json no etag",s)),a||(await this.setMeta({timestamp:l.timestamp,etag:s.headers.get("ETag")||""}),await Object(r.g)(l.words))}setMeta(e){return this.meta=e,Object(r.f)(i.id,e)}async getMeta(){const e=await Object(r.b)(i.id);this.meta=e||{}}setConfig(e){return this.config=e,Object(r.h)(i.id,e)}async getConfig(){return this.config=await Object(r.d)(i.id)||this.config,this.config}}i.id="webdav",i.title={en:"WebDAV","zh-CN":"WebDAV","zh-TW":"WebDAV"}}.call(this,a(61))},133:function(e,t,a){"use strict";a.r(t),a.d(t,"Service",(function(){return s}));var n=a(276),r=a(82),o=a(3),i=a(62);const c={open:{en:"Open","zh-CN":"打开","zh-TW":"開啟"},loginCheckFailed:{en:"Shanbay login failed. Click to open shanbay.com.","zh-CN":"扇贝登录已失效，请点击打开官网重新登录。","zh-TW":"扇貝登入已失效，請點選開啟官網重新登入。"},errNetwork:{en:"Unable to access shanbay.com. Please check your network connection.","zh-CN":"无法访问扇贝生词本，请检查网络。","zh-TW":"無法訪問扇貝生字本，請檢查網路。"},errWord:{en:"Unable to add to Shanbay notebook. This word is not in Shanbay's vocabulary database.","zh-CN":"无法添加到扇贝生词本，扇贝单词库没有收录此单词。","zh-TW":"無法新增到扇貝生字本，扇貝單字庫沒有收錄此單字。"},errLearning:{en:"Unable to add to Shanbay notebook.","zh-CN":"无法添加到扇贝生词本。","zh-TW":"無法新增到扇貝生字本。"}};class s extends n.a{constructor(){super(...arguments),this.config=s.getDefaultConfig()}static getDefaultConfig(){return{enable:!1}}static openLogin(){return Object(o.b)("https://www.shanbay.com/web/account/login")}async startInterval(){const e=await Object(r.d)(s.id);e&&(this.config=e),browser.notifications.onClicked.addListener(this.handleLoginNotification),browser.notifications.onButtonClicked&&browser.notifications.onButtonClicked.addListener(this.handleLoginNotification)}async init(){if(!await this.isLogin())return Promise.reject("login");this.config.enable=!0,await Object(r.h)(s.id,this.config)}async add(e){let{words:t,force:a}=e;if(this.config.enable)if(await this.isLogin()){if(a&&(t=await Object(r.c)()),t&&!(t.length<=0))for(let e=0;e<t.length;e++){try{await this.addWord(t[e].text)}catch(e){break}(e+1)%50==0?await Object(i.d)(9e5):await Object(i.d)(500)}}else this.notifyLogin()}async addWord(e){try{const a="http://www.shanbay.com/api/v1/bdc/search/?word="+encodeURIComponent(e);var t=await fetch(a).then(e=>e.json())}catch(t){return this.notifyError("errNetwork",e),Promise.reject("network")}if(!t||!t.data)return this.notifyError("errWord",e),Promise.reject("word");try{var a=await fetch("http://www.shanbay.com/api/v1/bdc/learning/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"content_type=vocabulary&id=".concat(t.data.id)}).then(e=>e.json())}catch(t){return this.notifyError("errNetwork",e),Promise.reject("network")}return a&&0===a.status_code?void 0:(this.notifyError("errLearning",e),Promise.reject("learning"))}async isLogin(){return Boolean(await browser.cookies.get({url:"http://www.shanbay.com",name:"auth_token"}))}handleLoginNotification(e){"shanbay-login"===e&&s.openLogin()}notifyError(e,t){const{langCode:a}=window.appConfig;browser.notifications.create({type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(s.title[a]),message:"「".concat(t,"」").concat(c[e][a]),eventTime:Date.now()+1e4,priority:2})}notifyLogin(){const{langCode:e}=window.appConfig,t={type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(s.title[e]),message:c.loginCheckFailed[e],eventTime:Date.now()+1e4,priority:2};navigator.userAgent.includes("Firefox")||(t.buttons=[{title:c.open[e]}]),browser.notifications.create("shanbay-login",t)}}s.id="shanbay",s.title={en:"Shanbay","zh-CN":"扇贝","zh-TW":"扇贝"}},136:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return y}));var n=a(628),r=a(3),o=a(28),i=a(162);class c extends n.a{constructor(){super("SaladictWords"),this.notebook=void 0,this.history=void 0,this.syncmeta=void 0,this.version(1).stores({notebook:"date,text,context,url",history:"date,text,context,url",syncmeta:"id"}),this.notebook=this.table("notebook"),this.history=this.table("history"),this.syncmeta=this.table("syncmeta")}}const s=new c;function l(t){return s.syncmeta.where("id").equals(t).first(e=>e&&e.json).catch(t=>{e.env.DEV_BUILD&&console.error(t)})}function u(e,t){return s.syncmeta.put({id:e,json:t})}function d(t){return s.syncmeta.delete(t).catch(t=>{e.env.DEV_BUILD&&console.error(t)})}function m(e){return s.notebook.where("text").equalsIgnoreCase(e.text).count().then(e=>e>0)}function p(e){let{area:t,word:a}=e;return"notebook"===t&&Object(i.d)({op:"ADD",words:[a]}).catch(()=>{}),s[t].put(a)}function g(t){let{area:a,words:n}=t;return e.env.DEV_BUILD&&n.length!==new Set(n.map(e=>e.date)).size&&console.error("save Words: duplicate records"),"notebook"===a&&Object(i.d)({op:"ADD",words:n}).catch(()=>{}),s[a].bulkPut(n)}function h(e){let{area:t,dates:a}=e;return"notebook"===t&&Object(i.d)({op:"DELETE",dates:a}).catch(()=>{}),Array.isArray(a)?s[t].bulkDelete(a):s[t].clear()}function f(e){let{area:t,text:a}=e;return s[t].where("text").equalsIgnoreCase(a).toArray()}async function y(e){let{area:t,itemsPerPage:a,pageNum:n,filters:r={},sortField:i="date",sortOrder:c="descend",searchText:l}=e;const u=s[t].orderBy(i);"descend"===c&&u.reverse();const d=Array.isArray(r.text)&&r.text.length>0;if(d||l){const e=d?r.text.reduce((e,t)=>(e[t]=!0,e),{}):{},t=l?l.toLocaleLowerCase():"";u.filter(a=>{const n=!d||(e.en&&Object(o.e)(a.text)||e.ch&&Object(o.c)(a.text)||e.word&&!/\s/.test(a.text)||e.phra&&/\s/.test(a.text)),r=!l||Object.values(a).some(e=>"string"==typeof e&&-1!==e.toLocaleLowerCase().indexOf(t));return n&&r})}const m=await u.count();return void 0!==a&&void 0!==n&&u.offset(a*(n-1)).limit(a),{total:m,words:await u.toArray()}}s.on("ready",()=>s.notebook.count(async e=>{if(e>0)return;const{notebookCat:t}=await r.c.local.get("notebookCat");if(!t||!Array.isArray(t.data))return;const a=t.data,n=await r.c.local.get(a),o=[];return a.forEach(e=>{const t=n[e];t&&Array.isArray(t.data)&&t.data.forEach(e=>{const{date:t,data:a}=e,n=new Date("".concat(t.slice(0,2),"/").concat(t.slice(2,4),"/").concat(t.slice(4))).getTime(),r=a.map((e,t)=>({date:n+t,text:e.text||"",context:e.context||"",title:e.title||"",favicon:e.favicon?e.favicon.startsWith("chrome")?"https://saladict.crimx.com/favicon.ico":e.favicon:"",url:e.url||"",trans:e.trans||"",note:e.note||""}));o.push(...r)})}),browser.storage.local.clear(),s.transaction("rw",s.notebook,()=>s.notebook.bulkAdd(o))})),s.open()}).call(this,a(61))},146:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),o=a(76),i=a(194),c=a(155),s=a(57),l=a(95),u=a(96),d=a(37),m=a(49),p=a(105);const g=e=>{let{source:t}=e;return r.a.createElement("div",{className:"MachineTrans-Lines"},r.a.createElement(d.c,{src:t.tts}),t.paragraphs.map((e,t)=>r.a.createElement("p",{key:t},e)))},h=e=>{const{trans:t,searchText:a,langcodes:d,tl:h,sl:f}=e.result,{t:y}=Object(m.b)(["content","langcode"]),[b,j]=Object(n.useState)(!1),[M,w]=Object(l.a)(e=>Object(p.b)(e).pipe(Object(c.a)(e=>e?Object(s.a)(500):Object(s.a)(800))));return Object(u.a)(w,j),r.a.createElement("div",null,r.a.createElement("div",{className:"MachineTrans-Text"},r.a.createElement(g,{source:t}),a.paragraphs.join("").length<=100?r.a.createElement(g,{source:a}):r.a.createElement("div",null,r.a.createElement("details",null,r.a.createElement("summary",null,y("machineTrans.stext")),r.a.createElement(g,{source:a})))),r.a.createElement("div",{className:"MachineTrans-LangSwitchWrap"},r.a.createElement(i.a,null,r.a.createElement(o.a,{key:b?"select":"button",classNames:"MachineTrans-LangSwitch",timeout:100},b?function(){return r.a.createElement("div",{className:"MachineTrans-LangSwitch",onMouseOver:M,onMouseLeave:M},r.a.createElement("div",{className:"MachineTrans-LangSwitch_Titles"},r.a.createElement("span",null,"".concat(y("machineTrans.tl"),": ")),r.a.createElement("span",null,"".concat(y("machineTrans.sl"),": "))),r.a.createElement("div",{className:"MachineTrans-LangSwitch_Selects"},r.a.createElement("select",{name:"tl",value:h,onChange:E},d.map(e=>r.a.createElement("option",{key:e,value:e},e," ",y("langcode:"+e)))),r.a.createElement("select",{name:"sl",value:f,onChange:E},r.a.createElement("option",{key:"auto",value:"auto"},y("machineTrans.auto")),d.map(e=>r.a.createElement("option",{key:e,value:e},e," ",y("langcode:"+e))))))}:function(){return r.a.createElement("button",{className:"MachineTrans-LangSwitchBtn",onClick:()=>j(!0),onMouseOver:M,onMouseLeave:M},y("machineTrans.switch"))}))));function E(t){e.searchText({id:e.result.id,payload:{sl:f,tl:h,[t.currentTarget.name]:t.currentTarget.value}})}}},152:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));var n=a(3),r=a(5);async function o(e,t){try{const a=await n.a.send({type:"FETCH_DICT_RESULT",payload:{id:t,text:e,payload:{isPDF:Object(r.g)()}}});return a&&a.result&&a.result.trans&&a.result.trans.paragraphs.join("\n")||""}catch(e){return""}}async function i(e,t){return(await Promise.all(Object.keys(t).map(async a=>({id:a,content:t[a]?await o(e,a):""})))).reduce((e,t)=>{let{id:a,content:n}=t;return e[a]=n,e},{})}function c(e,t){const a=Object.keys(t).filter(e=>t[e]);if(a.length<=0)return e;const n=a.map(e=>"[:: ".concat(e," ::]\n")+t[e]).join("\n\n")+"\n".concat("".padEnd(15,"-"),"\n");if(!e)return n;const r=/\[:: (\w+) ::\]\n([\s\S]+?)-{15}/;return r.test(e)?e.replace(r,n):e+"\n\n"+n}},159:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(192),r=a.n(n),o=a(85),i=a.n(o),c=a(193),s=a.n(c),l=a(3),u=a(132);async function d(t){if(e.env.DEV_BUILD)return;let a=(await l.c.sync.get("gacid")).gacid;a||(a=s()(),l.c.sync.set({gacid:a}));const n=new r.a,o=n.getBrowser(),c=n.getOS();try{await i()({url:"https://www.google-analytics.com/collect",method:"post",headers:{"content-type":"text/plain;charset=UTF-8"},data:new URLSearchParams({v:"1",tid:"UA-49163616-4",cid:a,t:"pageview",dp:t,cd1:o.name||"None",cd2:(o.version||"0.0").split(".").slice(0,3).join("."),cd3:c.name||"None",cd4:c.version||"0.0",de:"UTF-8",dl:document.location.href,sd:screen.colorDepth+"-bit",sr:screen.width+"x"+screen.height,ul:"zh-cn",z:Object(u.a)()})})}catch(e){console.log("ga report failed")}}}).call(this,a(61))},162:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(62);const r=a(780);let o=new Map;function i(){(o=r.keys().reduce((e,t)=>{const a=r(t).Service;return e.set(a.id,new a)},o)).forEach(e=>e.startInterval())}async function c(t){let{serviceID:a,config:n}=t;const r=o.get(a);return r?r.init(n).catch(u):(e.env.DEV_BUILD&&console.error("Sync service init error: wrong service id ".concat(a)),u("wrong service id"))}async function s(e){let t=[];if(e.serviceID){const a=o.get(e.serviceID);if(!a)return void console.error("Sync service upload error: wrong service id ".concat(e.serviceID));t.push(a)}return t.length<=0&&t.push(...o.values()),Promise.all(t.map(async t=>{try{"ADD"===e.op?await t.add({words:e.words,force:e.force}):"DELETE"===e.op&&await t.delete({dates:e.dates,force:e.force})}catch(e){const a=t.constructor.title[window.appConfig.langCode],n="string"==typeof e?e:"unknown";browser.notifications.create({type:"basic",iconUrl:browser.runtime.getURL("assets/icon-128.png"),title:"Saladict Sync Service ".concat(a),message:"Error '".concat(n,"' occurs during sync service ").concat(a," uploading."),eventTime:Date.now()+2e4,priority:2})}}))}async function l(t){if(t){const a=o.get(t.serviceID);return a?a.download({noCache:t.noCache}).catch(u):(e.env.DEV_BUILD&&console.error("Sync service download error: wrong service id ".concat(t.serviceID)),u("wrong service id"))}return Object(n.b)([...o.values()].map(e=>e.download({})))}function u(e){return{error:"string"==typeof e?e:"unknown"}}}).call(this,a(61))},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends r.a.PureComponent{render(){const e=this.props.className||"widget-StarRates",t=this.props.max||5,a=Number(this.props.rate)%(t+1)||0,n=this.props.height||"1.5em",c=this.props.gutter||"0.3em",s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({height:n},this.props.style||{});return r.a.createElement("div",{className:e,style:s},Array.from(Array(t)).map((e,o)=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.67 426.67",key:o+a,width:n,height:n,style:{marginRight:o===t-1?"":c}},r.a.createElement("path",{fill:o<a?"#FAC917":"#d1d8de",d:"M213.33 10.44l65.92 133.58 147.42 21.42L320 269.4l25.17 146.83-131.84-69.32-131.85 69.34 25.2-146.82L0 165.45l147.4-21.42"}))))}}},19:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"a",(function(){return y}));var n=a(64),r=a.n(n),o=a(31),i=a(56),c=a(88),s=a.n(c),l=a(63),u=a.n(l);const d={labelCol:{xs:{span:9},sm:{span:9},lg:{span:5}},wrapperCol:{xs:{span:15},sm:{span:15},lg:{span:8}}},m={labelCol:{span:7},wrapperCol:{span:17}},p={labelCol:{span:7},wrapperCol:{span:17}};let g=null,h=null;function f(t,a){if(!a)return;const n=Object.keys(a)[0];if(!n)return void(e.env.DEV_BUILD&&console.error("empty field",a));const c=a[n];if(!c||c.dirty||c.validating||c.errors)return;const l=(n.match(/^(config|profile)#/)||["",""])[1];if(!l)return void(e.env.DEV_BUILD&&console.error("invalid field",a));if(e.env.DEV_BUILD){const e=n.replace(/#/g,".");console.log(e,c.value);const r={};u()(t,e,r)===r&&console.error("field not exist",a)}s()(t,n.replace(/#/g,"."),c.value);const d="number"==typeof c.value?2e3:1e3;switch(l){case"config":clearTimeout(g),g=setTimeout(()=>{Object(o.f)(t.config).catch(()=>r.a.error(t.t("msg_update_error")))},d);break;case"profile":clearTimeout(h),h=setTimeout(()=>{Object(i.n)(t.profile).catch(()=>r.a.error(t.t("msg_update_error")))},d)}}function y(e,t,a){return e.splice(a<0?e.length+a:a,0,e.splice(t,1)[0]),e}}).call(this,a(61))},201:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(3),o=a(31),i=a(5),c=a(11),s=a(788),l=a(86);function u(e){window.parent===window?r.a.self.send({type:"SELECTION",payload:e}):window.parent.postMessage({type:"SALADICT_SELECTION",payload:e},"*")}var d=a(12),m=a(28),p=a(90),g=a(75),h=a(78),f=a(636),y=a(77),b=a(22),j=a(57),M=a(135),w=a(218),E=a(44),O=a(155),I=a(23),D=a(91);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e){const t=e.clientX,a=e.clientY;let r,o,i;const c=window.getSelection();if(!c)return null;if(c.rangeCount>0&&(i=c.getRangeAt(0)),document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t,a);if(!e)return null;r=e.offsetNode,o=e.offset}else{if(!document.caretRangeFromPoint)return null;{const e=document.caretRangeFromPoint(t,a);if(!e)return null;r=e.startContainer,o=e.startOffset}}if(r.nodeType===Node.TEXT_NODE){const e=r,s=e.data,l=(s.slice(0,o).match(/[-_a-z]+$/i)||[""])[0],u=(s.slice(o).match(/^([-_a-z]+|[\u4e00-\u9fa5])/i)||[""])[0];if(l.length<=0&&u.length<=0)return null;const d=document.createRange();d.setStart(e,o-l.length),d.setEnd(e,o+u.length);const m=d.getBoundingClientRect();m.left<=t&&m.right>=t&&m.top<=a&&m.bottom>=a&&(c.removeAllRanges(),c.addRange(d),c.modify&&(c.modify("move","backward","word"),c.collapseToStart(),c.modify("extend","forward","word")));const p=Object(n.d)(c),g=Object(n.b)(c);return c.removeAllRanges(),i&&c.addRange(i),d.detach(),p?{text:p,context:g}:null}return null}var C=a(796),A=a(299);var x=a(126);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}if(!window.__SALADICT_SELECTION_LOADED__){window.__SALADICT_SELECTION_LOADED__=!0;const e=Object(o.b)().pipe(Object(c.a)(e=>Object(d.a)(e)?null:e),Object(s.a)());r.a.addListener("PRELOAD_SELECTION",()=>{const e=Object(n.c)();if(e)return Object(d.e)({text:e,context:Object(n.a)()})}),r.a.createStream("EMIT_SELECTION").subscribe(async()=>{const e=window.getSelection();if(e){const t=Object(n.d)(e),a=e.getRangeAt(0).getBoundingClientRect();t&&u({mouseX:a.right,mouseY:a.top,instant:!0,self:Object(i.c)(e.anchorNode),word:await Object(d.e)({text:t,context:Object(n.b)(e)}),dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,force:!1})}}),window.addEventListener("message",(function(e){let{data:t,source:a}=e;if(!t||"SALADICT_SELECTION"!==t.type)return;const n=e=>{let{contentWindow:t}=e;return t===a},r=Array.from(document.querySelectorAll("iframe")).find(n)||Array.from(document.querySelectorAll("frame")).find(n);if(!r)return;const{left:o,top:i}=r.getBoundingClientRect();t.payload.mouseX=t.payload.mouseX+o,t.payload.mouseY=t.payload.mouseY+i,u(t.payload)})),Object(d.f)(d.b).subscribe(()=>r.a.self.send({type:"ESCAPE_KEY"})),e.pipe(Object(l.a)((function(e){if(!e||!e.tripleCtrl||Object(i.j)()||Object(i.f)())return Object(p.a)();const t=Object(s.a)()(Object(d.f)(d.c));return t.pipe(Object(C.a)(Object(g.a)(Object(A.a)(500)(t),Object(d.f)(e=>!Object(d.c)(e)))),Object(I.a)(e=>e.length>=3))}))).subscribe(()=>{r.a.self.send({type:"TRIPLE_CTRL"})}),e.pipe(Object(l.a)(x.a)).subscribe(async e=>{e.word?u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,self:!1,instant:!1,force:!1},e,{word:await Object(d.e)(e.word)})):function(e){const t={type:"SELECTION",payload:{word:null,self:e,mouseX:0,mouseY:0,dbClick:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,instant:!1,force:!1}};r.a.self.send(t)}(e.self)}),e.pipe(Object(l.a)((function(e){if(!e)return Object(p.a)();const t=r.a.self.createStream("PIN_STATE").pipe(Object(M.a)("payload"),Object(w.a)(!1)),a=Object(g.a)(Object(h.a)(r.a.send({type:"QUERY_QS_PANEL"})),r.a.createStream("QS_PANEL_CHANGED").pipe(Object(M.a)("payload"))).pipe(Object(c.a)(t=>t&&e.tripleCtrlPageSel),Object(w.a)(!1));return Object(f.a)(t,a).pipe(Object(l.a)(t=>{let[a,n]=t;const{instant:r}=e.panelMode,{instant:o}=e[n?"qsPanelMode":a?"pinMode":"mode"];if(!r.enable&&!o.enable)return Object(y.a)(null);const s={};return Object(g.a)(Object(E.a)(null)(Object(b.a)(window,"mouseup",{capture:!0})),Object(E.a)(null)(Object(b.a)(window,"mouseout",{capture:!0})),Object(b.a)(window,"mousemove",{capture:!0}).pipe(Object(c.a)(e=>{const t=Object(i.c)(e.target),a=t||Object(i.j)()?r:o;return a.enable&&("alt"===a.key&&e.altKey||"shift"===a.key&&e.shiftKey||"ctrl"===a.key&&(e.ctrlKey||e.metaKey)||"direct"===a.key&&!(e.ctrlKey||e.metaKey||e.altKey))?(s.event=e,s.self=t,s):null}))).pipe(Object(O.a)(e=>e?Object(j.a)(e.self?r.delay:o.delay):Object(y.a)()))}),Object(c.a)(e=>e&&function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({word:S(e.event)},e)),Object(I.a)(t=>Boolean(t&&t.word&&Object(m.a)(e.language,t.word.text))),Object(D.a)((e,t)=>e.word.text===t.word.text&&e.word.context===t.word.context))}))).subscribe(async e=>{let{word:t,event:a,self:n}=e;u({word:await Object(d.e)(t),shiftKey:a.shiftKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,dbClick:!1,force:!1,instant:!0,mouseX:a.clientX,mouseY:a.clientY,self:n})})}},202:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),o=a(18),i=a.n(o),c=a(76),s=a(216),l=a(5);function u(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const d={enter:400,exit:100,appear:400},m=e=>{const{id:t,head:a,shadowRootClassName:o,panelCSS:m,onEnter:p,onExited:g}=e,h=u(e,["id","head","shadowRootClassName","panelCSS","onEnter","onExited"]),f=Object(n.useMemo)(()=>{let e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e.className="saladict-div ".concat(o||l.a)),e},[o]);return Object(n.useEffect)(()=>()=>{f.parentNode&&f.remove()},[]),i.a.createPortal(r.a.createElement(s.a.div,{className:o||l.a},a,m?r.a.createElement("style",null,m):null,r.a.createElement(c.a,Object.assign({classNames:"shadowPortal",mountOnEnter:!0,unmountOnExit:!0,appear:!0,timeout:d},h,{onEnter:function(){if(f.parentNode||document.body.appendChild(f),p)return p(...arguments)},onExited:function(){if(f.parentNode&&f.remove(),g)return g(...arguments)}}))),f)};t.b=m},276:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));class n{constructor(){this.config=void 0,this.meta=void 0}static getDefaultConfig(){return{}}static getDefaultMeta(){return{}}async delete(e){}async download(e){}startInterval(){}}n.id=void 0,n.title=void 0},349:function(e,t,a){var n={"./baidu/favicon.png":359,"./bing/favicon.png":360,"./caiyun/favicon.png":361,"./cambridge/favicon.png":362,"./cnki/favicon.png":363,"./cobuild/favicon.png":364,"./etymonline/favicon.png":365,"./eudic/favicon.png":366,"./google/favicon.png":367,"./googledict/favicon.png":368,"./guoyu/favicon.png":369,"./hjdict/favicon.png":370,"./jukuu/favicon.png":371,"./liangan/favicon.png":372,"./longman/favicon.png":373,"./macmillan/favicon.png":374,"./mojidict/favicon.png":375,"./naver/favicon.png":376,"./oald/favicon.png":377,"./shanbay/favicon.png":378,"./sogou/favicon.png":379,"./tencent/favicon.png":380,"./urban/favicon.png":381,"./vocabulary/favicon.png":382,"./weblio/favicon.png":383,"./weblioejje/favicon.png":384,"./websterlearner/favicon.png":385,"./wikipedia/favicon.png":386,"./youdao/favicon.png":387,"./youdaotrans/favicon.png":388,"./zdic/favicon.png":389};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=349},353:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n);class o extends r.a.PureComponent{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.error?r.a.createElement(this.props.error):null:this.props.children}}},390:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgMzUwIDUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAxMS41ODUgMTYuOTc2IEwgMy43MjggMTYuOTc2IEMgMi42MjkgMTYuOTc2IDEuNzQxIDE3Ljg2NCAxLjc0MSAxOC45NjMgTCAxLjc0MSAzMS4wMzkgQyAxLjc0MSAzMi4xMzQgMi42MjkgMzMuMDI0IDMuNzI4IDMzLjAyNCBMIDExLjU4NSAzMy4wMjQgQyAxMS45MzkgMzMuMDI0IDEyLjI4NyAzMy4xMTkgMTIuNTkyIDMzLjI5OSBMIDI1LjE4IDQ1LjAyIEMgMjYuNTA0IDQ1Ljc5OCAyOC4xNzQgNDQuODQ1IDI4LjE3NCA0My4zMDggTCAyOC4xNzQgNi42OTIgQyAyOC4xNzQgNS4xNTcgMjYuNTA0IDQuMjAxIDI1LjE4IDQuOTggTCAxMi41OTMgMTYuNyBDIDEyLjI4NyAxNi44NzkgMTEuOTQgMTYuOTc1IDExLjU4NSAxNi45NzUgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCA1MCwgMCkiPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAxMS41ODUgMTYuOTc2IEwgMy43MjggMTYuOTc2IEMgMi42MjkgMTYuOTc2IDEuNzQxIDE3Ljg2NCAxLjc0MSAxOC45NjMgTCAxLjc0MSAzMS4wMzkgQyAxLjc0MSAzMi4xMzQgMi42MjkgMzMuMDI0IDMuNzI4IDMzLjAyNCBMIDExLjU4NSAzMy4wMjQgQyAxMS45MzkgMzMuMDI0IDEyLjI4NyAzMy4xMTkgMTIuNTkyIDMzLjI5OSBMIDI1LjE4IDQ1LjAyIEMgMjYuNTA0IDQ1Ljc5OCAyOC4xNzQgNDQuODQ1IDI4LjE3NCA0My4zMDggTCAyOC4xNzQgNi42OTIgQyAyOC4xNzQgNS4xNTcgMjYuNTA0IDQuMjAxIDI1LjE4IDQuOTggTCAxMi41OTMgMTYuNyBDIDEyLjI4NyAxNi44NzkgMTEuOTQgMTYuOTc1IDExLjU4NSAxNi45NzUgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzMi4xMTcgMzUuMDU1IEMgMzEuODMzIDM1LjA1NSAzMS41NDkgMzQuOTQ2IDMxLjMzMyAzNC43MjkgQyAzMC44OTYgMzQuMjk1IDMwLjg5NiAzMy41OTEgMzEuMzMzIDMzLjE1OCBDIDM2LjEwNSAyOC4zODIgMzYuMTA1IDIwLjYxMiAzMS4zMzMgMTUuODM3IEMgMzAuODk2IDE1LjQwMyAzMC44OTYgMTQuNzAyIDMxLjMzMyAxNC4yNjUgQyAzMS43NjYgMTMuODMyIDMyLjQ2OCAxMy44MzIgMzIuOTAzIDE0LjI2NSBDIDM4LjU0NiAxOS45MDYgMzguNTQ2IDI5LjA4NiAzMi45MDMgMzQuNzI4IEMgMzIuNjg5IDM0Ljk0NSAzMi40MDMgMzUuMDU1IDMyLjExNyAzNS4wNTUgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxMDAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzIuMTE3IDM1LjA1NSBDIDMxLjgzMyAzNS4wNTUgMzEuNTQ5IDM0Ljk0NiAzMS4zMzMgMzQuNzI5IEMgMzAuODk2IDM0LjI5NSAzMC44OTYgMzMuNTkxIDMxLjMzMyAzMy4xNTggQyAzNi4xMDUgMjguMzgyIDM2LjEwNSAyMC42MTIgMzEuMzMzIDE1LjgzNyBDIDMwLjg5NiAxNS40MDMgMzAuODk2IDE0LjcwMiAzMS4zMzMgMTQuMjY1IEMgMzEuNzY2IDEzLjgzMiAzMi40NjggMTMuODMyIDMyLjkwMyAxNC4yNjUgQyAzOC41NDYgMTkuOTA2IDM4LjU0NiAyOS4wODYgMzIuOTAzIDM0LjcyOCBDIDMyLjY4OSAzNC45NDUgMzIuNDAzIDM1LjA1NSAzMi4xMTcgMzUuMDU1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxNTAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzIuMTE3IDM1LjA1NSBDIDMxLjgzMyAzNS4wNTUgMzEuNTQ5IDM0Ljk0NiAzMS4zMzMgMzQuNzI5IEMgMzAuODk2IDM0LjI5NSAzMC44OTYgMzMuNTkxIDMxLjMzMyAzMy4xNTggQyAzNi4xMDUgMjguMzgyIDM2LjEwNSAyMC42MTIgMzEuMzMzIDE1LjgzNyBDIDMwLjg5NiAxNS40MDMgMzAuODk2IDE0LjcwMiAzMS4zMzMgMTQuMjY1IEMgMzEuNzY2IDEzLjgzMiAzMi40NjggMTMuODMyIDMyLjkwMyAxNC4yNjUgQyAzOC41NDYgMTkuOTA2IDM4LjU0NiAyOS4wODYgMzIuOTAzIDM0LjcyOCBDIDMyLjY4OSAzNC45NDUgMzIuNDAzIDM1LjA1NSAzMi4xMTcgMzUuMDU1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzOS4zMTQgNDUuMDU3IEMgMzkuMDI4IDQ1LjA1NyAzOC43NDQgNDQuOTQ4IDM4LjUyOCA0NC43MyBDIDM4LjA5MyA0NC4yOTcgMzguMDkzIDQzLjU5NSAzOC41MjggNDMuMTYgQyA0My4zNjkgMzguMzIxIDQ2LjAzNSAzMS44OSA0Ni4wMzUgMjUuMDU2IEMgNDYuMDM1IDE4LjIyIDQzLjM3IDExLjc4OCAzOC41MjggNi45NDggQyAzOC4wOTMgNi41MTQgMzguMDkzIDUuODEyIDM4LjUyOCA1LjM3OCBDIDM4Ljk2MyA0Ljk0NCAzOS42NjQgNC45NDQgNDAuMSA1LjM3OCBDIDQ1LjM2MSAxMC42MzcgNDguMjYgMTcuNjI1IDQ4LjI2IDI1LjA1NiBDIDQ4LjI2IDMyLjQ4NCA0NS4zNjEgMzkuNDczIDQwLjEgNDQuNzMxIEMgMzkuODgzIDQ0Ljk0OSAzOS41OTkgNDUuMDU4IDM5LjMxNSA0NS4wNTggWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAyMDAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzYuMDUyIDM5LjU0NyBDIDM1Ljc2NiAzOS41NDcgMzUuNDg0IDM5LjQzOSAzNS4yNjQgMzkuMjIxIEMgMzQuODMyIDM4Ljc4NiAzNC44MzIgMzguMDg1IDM1LjI2NCAzNy42NTEgQyA0Mi4xOTkgMzAuNzE4IDQyLjE5OSAxOS40MzcgMzUuMjY0IDEyLjUwNCBDIDM0LjgzMiAxMi4wNyAzNC44MzIgMTEuMzY4IDM1LjI2NCAxMC45MzMgQyAzNS43MDMgMTAuNDk5IDM2LjQwMyAxMC40OTkgMzYuODM3IDEwLjkzMyBDIDQ0LjYzNiAxOC43MzQgNDQuNjM2IDMxLjQyMyAzNi44MzcgMzkuMjIxIEMgMzYuNjE5IDM5LjQzOSAzNi4zMzYgMzkuNTQ3IDM2LjA1MiAzOS41NDcgWiIgc3R5bGU9IiIvPgogICAgPHBhdGggZmlsbD0iI2Y5NjkwZSIgZD0iTSAzOS4zMTQgNDUuMDU3IEMgMzkuMDI4IDQ1LjA1NyAzOC43NDQgNDQuOTQ4IDM4LjUyOCA0NC43MyBDIDM4LjA5MyA0NC4yOTcgMzguMDkzIDQzLjU5NSAzOC41MjggNDMuMTYgQyA0My4zNjkgMzguMzIxIDQ2LjAzNSAzMS44OSA0Ni4wMzUgMjUuMDU2IEMgNDYuMDM1IDE4LjIyIDQzLjM3IDExLjc4OCAzOC41MjggNi45NDggQyAzOC4wOTMgNi41MTQgMzguMDkzIDUuODEyIDM4LjUyOCA1LjM3OCBDIDM4Ljk2MyA0Ljk0NCAzOS42NjQgNC45NDQgNDAuMSA1LjM3OCBDIDQ1LjM2MSAxMC42MzcgNDguMjYgMTcuNjI1IDQ4LjI2IDI1LjA1NiBDIDQ4LjI2IDMyLjQ4NCA0NS4zNjEgMzkuNDczIDQwLjEgNDQuNzMxIEMgMzkuODgzIDQ0Ljk0OSAzOS41OTkgNDUuMDU4IDM5LjMxNSA0NS4wNTggWiIgc3R5bGU9IiIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAyNTAsIDApIj4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMTEuNTg1IDE2Ljk3NiBMIDMuNzI4IDE2Ljk3NiBDIDIuNjI5IDE2Ljk3NiAxLjc0MSAxNy44NjQgMS43NDEgMTguOTYzIEwgMS43NDEgMzEuMDM5IEMgMS43NDEgMzIuMTM0IDIuNjI5IDMzLjAyNCAzLjcyOCAzMy4wMjQgTCAxMS41ODUgMzMuMDI0IEMgMTEuOTM5IDMzLjAyNCAxMi4yODcgMzMuMTE5IDEyLjU5MiAzMy4yOTkgTCAyNS4xOCA0NS4wMiBDIDI2LjUwNCA0NS43OTggMjguMTc0IDQ0Ljg0NSAyOC4xNzQgNDMuMzA4IEwgMjguMTc0IDYuNjkyIEMgMjguMTc0IDUuMTU3IDI2LjUwNCA0LjIwMSAyNS4xOCA0Ljk4IEwgMTIuNTkzIDE2LjcgQyAxMi4yODcgMTYuODc5IDExLjk0IDE2Ljk3NSAxMS41ODUgMTYuOTc1IFoiIHN0eWxlPSIiLz4KICAgIDxwYXRoIGZpbGw9IiNmOTY5MGUiIGQ9Ik0gMzkuMzE0IDQ1LjA1NyBDIDM5LjAyOCA0NS4wNTcgMzguNzQ0IDQ0Ljk0OCAzOC41MjggNDQuNzMgQyAzOC4wOTMgNDQuMjk3IDM4LjA5MyA0My41OTUgMzguNTI4IDQzLjE2IEMgNDMuMzY5IDM4LjMyMSA0Ni4wMzUgMzEuODkgNDYuMDM1IDI1LjA1NiBDIDQ2LjAzNSAxOC4yMiA0My4zNyAxMS43ODggMzguNTI4IDYuOTQ4IEMgMzguMDkzIDYuNTE0IDM4LjA5MyA1LjgxMiAzOC41MjggNS4zNzggQyAzOC45NjMgNC45NDQgMzkuNjY0IDQuOTQ0IDQwLjEgNS4zNzggQyA0NS4zNjEgMTAuNjM3IDQ4LjI2IDE3LjYyNSA0OC4yNiAyNS4wNTYgQyA0OC4yNiAzMi40ODQgNDUuMzYxIDM5LjQ3MyA0MC4xIDQ0LjczMSBDIDM5Ljg4MyA0NC45NDkgMzkuNTk5IDQ1LjA1OCAzOS4zMTUgNDUuMDU4IFoiIHN0eWxlPSIiLz4KICA8L2c+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwgMCwgMCwgMSwgMzAwLCAwKSI+CiAgICA8cGF0aCBmaWxsPSIjZjk2OTBlIiBkPSJNIDExLjU4NSAxNi45NzYgTCAzLjcyOCAxNi45NzYgQyAyLjYyOSAxNi45NzYgMS43NDEgMTcuODY0IDEuNzQxIDE4Ljk2MyBMIDEuNzQxIDMxLjAzOSBDIDEuNzQxIDMyLjEzNCAyLjYyOSAzMy4wMjQgMy43MjggMzMuMDI0IEwgMTEuNTg1IDMzLjAyNCBDIDExLjkzOSAzMy4wMjQgMTIuMjg3IDMzLjExOSAxMi41OTIgMzMuMjk5IEwgMjUuMTggNDUuMDIgQyAyNi41MDQgNDUuNzk4IDI4LjE3NCA0NC44NDUgMjguMTc0IDQzLjMwOCBMIDI4LjE3NCA2LjY5MiBDIDI4LjE3NCA1LjE1NyAyNi41MDQgNC4yMDEgMjUuMTggNC45OCBMIDEyLjU5MyAxNi43IEMgMTIuMjg3IDE2Ljg3OSAxMS45NCAxNi45NzUgMTEuNTg1IDE2Ljk3NSBaIiBzdHlsZT0iIi8+CiAgPC9nPgo8L3N2Zz4="},391:function(e,t,a){var n={"./baidu/View.tsx":392,"./bing/View.tsx":393,"./caiyun/View.tsx":394,"./cambridge/View.tsx":395,"./cnki/View.tsx":396,"./cobuild/View.tsx":397,"./etymonline/View.tsx":398,"./eudic/View.tsx":399,"./google/View.tsx":400,"./googledict/View.tsx":401,"./guoyu/View.tsx":295,"./hjdict/View.tsx":402,"./jukuu/View.tsx":403,"./liangan/View.tsx":404,"./longman/View.tsx":405,"./macmillan/View.tsx":406,"./mojidict/View.tsx":407,"./naver/View.tsx":408,"./oald/View.tsx":409,"./shanbay/View.tsx":410,"./sogou/View.tsx":411,"./tencent/View.tsx":412,"./urban/View.tsx":413,"./vocabulary/View.tsx":414,"./weblio/View.tsx":415,"./weblioejje/View.tsx":416,"./websterlearner/View.tsx":417,"./wikipedia/View.tsx":418,"./youdao/View.tsx":419,"./youdaotrans/View.tsx":420,"./zdic/View.tsx":421};function r(e){return o(e).then(a)}function o(e){return Promise.resolve().then((function(){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}r.keys=function(){return Object.keys(n)},r.resolve=o,r.id=391,e.exports=r},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));a(174);var n=a(85),r=a.n(n);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r()(e,i({withCredentials:!1},t,{transformResponse:[e=>e],responseType:"document"})).then(e=>{let{data:t}=e;return t})}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r()(e,i({withCredentials:!1},t,{transformResponse:[e=>e],responseType:"text"})).then(e=>{let{data:t}=e;return t})}},422:function(e,t,a){var n={"./baidu/_style.shadow.scss":423,"./bing/_style.shadow.scss":424,"./caiyun/_style.shadow.scss":425,"./cambridge/_style.shadow.scss":426,"./cnki/_style.shadow.scss":427,"./cobuild/_style.shadow.scss":428,"./etymonline/_style.shadow.scss":429,"./eudic/_style.shadow.scss":430,"./google/_style.shadow.scss":431,"./googledict/_style.shadow.scss":432,"./guoyu/_style.shadow.scss":433,"./hjdict/_style.shadow.scss":434,"./jukuu/_style.shadow.scss":435,"./liangan/_style.shadow.scss":436,"./longman/_style.shadow.scss":437,"./macmillan/_style.shadow.scss":438,"./mojidict/_style.shadow.scss":439,"./naver/_style.shadow.scss":440,"./oald/_style.shadow.scss":441,"./shanbay/_style.shadow.scss":442,"./sogou/_style.shadow.scss":443,"./tencent/_style.shadow.scss":444,"./urban/_style.shadow.scss":445,"./vocabulary/_style.shadow.scss":446,"./weblio/_style.shadow.scss":447,"./weblioejje/_style.shadow.scss":448,"./websterlearner/_style.shadow.scss":449,"./wikipedia/_style.shadow.scss":450,"./youdao/_style.shadow.scss":451,"./youdaotrans/_style.shadow.scss":452,"./zdic/_style.shadow.scss":453};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=422},5:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"i",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return m}));const n=()=>!!window.__SALADICT_INTERNAL_PAGE__,r=()=>!!window.__SALADICT_OPTIONS_PAGE__,o=()=>!!window.__SALADICT_POPUP_PAGE__,i=()=>!!window.__SALADICT_PDF_PAGE__,c=()=>!!window.__SALADICT_QUICK_SEARCH_PAGE__,s=()=>o()||c(),l="saladict-external",u="saladict-panel";function d(e){if(!e)return!1;for(let t=e;t;t=t.parentElement)if(t.classList&&t.classList.contains(l))return!0;return!1}function m(e){if(!e)return!1;for(let t=e;t;t=t.parentElement)if(t.classList&&t.classList.contains(u))return!0;return!1}},589:function(e,t,a){"use strict";var n=a(301),r=a.n(n),o=a(278),i=a.n(o),c=a(46),s=a.n(c),l=a(178),u=a.n(l),d=a(33),m=a.n(d),p=a(0),g=a.n(p),h=a(695);const f=Object(h.c)(e=>{let{t:t}=e;return g.a.createElement(m.a,{title:t("common:sort"),style:{cursor:"move"},type:"bars"})}),y=Object(h.b)(e=>{let{t:t,selected:a,item:n,disableEdit:r,onEdit:o,onDelete:c,indexCopy:l}=e;return g.a.createElement(i.a.Item,null,g.a.createElement("div",{className:"sortable-list-item"},null==a?n.title:g.a.createElement(u.a,{value:n.value},n.title),g.a.createElement("div",null,g.a.createElement(f,{t:t}),g.a.createElement(s.a,{className:"sortable-list-item-btn",title:t("common:edit"),shape:"circle",size:"small",icon:"edit",disabled:null!=r&&r(l,n),onClick:o&&(()=>o(l,n))}),g.a.createElement(s.a,{title:t("common:delete"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"close",disabled:null!=a&&n.value===a,onClick:c&&(()=>c(l,n))}))))}),b=Object(h.a)(e=>g.a.createElement(i.a,{size:"large",dataSource:e.list,renderItem:(t,a)=>g.a.createElement(y,Object.assign({},e,{item:t,index:a,indexCopy:a}))}));t.a=function(e){return g.a.createElement(r.a,{title:e.title,extra:g.a.createElement(s.a,{type:"dashed",size:"small",onClick:e.onAdd},g.a.createElement(m.a,{type:"plus"}),e.t("common:add"))},e.description,g.a.createElement(u.a.Group,{className:"sortable-list-radio-group",value:e.selected,onChange:e.onSelect},g.a.createElement(b,Object.assign({useDragHandle:!0},e))),(null==e.isShowAdd||e.isShowAdd)&&g.a.createElement(s.a,{type:"dashed",style:{width:"100%"},onClick:e.onAdd},g.a.createElement(m.a,{type:"plus"})," ",e.t("common:add")))}},593:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(9),r=a.n(n),o=a(127),i=a.n(o),c=a(32),s=a.n(c),l=a(0),u=a.n(l),d=a(19),m=a(123);const{Option:p}=s.a;class g extends u.a.Component{constructor(e){super(e),this.toggleHolding=()=>this.setState(e=>{let{isShowHolding:t}=e;t=!t;const{mode:a}=this.props;return Object(d.e)(this.props,{["config#".concat(a,"#holding#shift")]:{name:"config#".concat(a,"#holding#shift"),touched:!0,dirty:!1,value:t}}),Object(d.e)(this.props,{["config#".concat(a,"#holding#ctrl")]:{name:"config#".concat(a,"#holding#ctrl"),touched:!0,dirty:!1,value:t}}),Object(d.e)(this.props,{["config#".concat(a,"#holding#meta")]:{name:"config#".concat(a,"#holding#meta"),touched:!0,dirty:!1,value:t}}),{isShowHolding:t}});const{config:t,mode:a}=this.props;this.state={isShowHolding:t[a].holding.shift||t[a].holding.ctrl||t[a].holding.meta}}render(){const{t:e,config:t,mode:a,sub:n}=this.props,{isShowHolding:o}=this.state,{getFieldDecorator:c}=this.props.form;return u.a.createElement(r.a.Item,Object.assign({},n?d.d:d.b,{label:e("opt.searchMode.".concat(a))}),"mode"===a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(r.a.Item,{help:e("opt.searchMode.iconHelp")},c("config#".concat(a,"#icon"),{initialValue:t[a].icon,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.icon")))),t.mode.icon&&u.a.createElement(u.a.Fragment,null,u.a.createElement(r.a.Item,{help:e("opt.bowl_hover_help")},c("config#bowlHover",{initialValue:t.bowlHover,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.bowl_hover")))),u.a.createElement("div",null,u.a.createElement("span",null,e("opt.bowl_offset.x"),": "),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#bowlOffsetX",{initialValue:t.bowlOffsetX,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:80},suffix:"px"})))),u.a.createElement("div",null,u.a.createElement("span",null,e("opt.bowl_offset.y"),": "),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#bowlOffsetY",{initialValue:t.bowlOffsetY,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:80},suffix:"px"})))))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.direct_help")},c("config#".concat(a,"#direct"),{initialValue:t[a].direct,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.direct")))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.double_help")},c("config#".concat(a,"#double"),{initialValue:t[a].double,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.double")))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.holding_help")},u.a.createElement(i.a,{checked:o,onChange:this.toggleHolding},e("opt.searchMode.holding")),o&&u.a.createElement("div",null,u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(a,"#holding#shift"),{initialValue:t[a].holding.shift,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Shift")))),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(a,"#holding#ctrl"),{initialValue:t[a].holding.ctrl,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Ctrl")))),u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(a,"#holding#meta"),{initialValue:t[a].holding.meta,valuePropName:"checked"})(u.a.createElement(i.a,null,u.a.createElement("kbd",null,"Meta(⌘/⊞)")))))),u.a.createElement(r.a.Item,{help:e("opt.searchMode.instantHelp")},c("config#".concat(a,"#instant#enable"),{initialValue:t[a].instant.enable,valuePropName:"checked"})(u.a.createElement(i.a,null,e("opt.searchMode.instant"))),t[a].instant.enable&&u.a.createElement("div",null,e("opt.searchMode.instantKey")+": ",u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(a,"#instant#key"),{initialValue:t[a].instant.key})(u.a.createElement(s.a,{style:{width:100}},u.a.createElement(p,{value:"direct"},e("opt.searchMode.instantDirect")),u.a.createElement(p,{value:"ctrl"},"Ctrl/⌘"),u.a.createElement(p,{value:"alt"},"Alt"),u.a.createElement(p,{value:"shift"},"Shift")))),e("opt.searchMode.instantDelay"),":"," ",u.a.createElement(r.a.Item,{className:"form-item-inline"},c("config#".concat(a,"#instant#delay"),{initialValue:t[a].instant.delay,rules:[{type:"number",whitespace:!0}]})(u.a.createElement(m.a,{style:{width:60},suffix:e("common:unit.ms")}))))))}}},621:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(108);const r=Object(n.a)(()=>{if("undefined"==typeof document)return 0;const e=document.createElement("div"),t=e.style;t.position="fixed",t.left="0",t.overflowY="scroll",t.visibility="hidden",document.body.appendChild(e);const a=e.getBoundingClientRect().right;return e.remove(),a})},693:function(e,t,a){"use strict";var n=a(104),r=a.n(n),o=a(46),i=a.n(o),c=a(33),s=a.n(c),l=a(9),u=a.n(l),d=a(122),m=a.n(d),p=a(0),g=a.n(p),h=a(31);function f(e){if(""===e)return"^(?:http|https|file|ftp|app)://";let t=new RegExp("^".concat("(\\*|http|https|ws|wss|file|ftp)","://").concat("(\\*|(?:\\*\\.)?(?:[^/*]+))?","/").concat("(.*)","$")).exec(e);if(!t)return"";let[,a,n,r]=t;if(!n)return"";let o="^";return o+="*"===a?"(http|https)":a,o+="://",n&&"*"===n?o+="[^/]+?":n&&(n.match(/^\*\./)&&(o+="[^/]*?",n=n.substring(2)),o+=n.replace(/\./g,"\\.")),r&&("*"===r?o+="(/.*)?":"/"!==r.charAt(0)&&(o+="/",o+=r.replace(/\./g,"\\.").replace(/\*/g,".*?"),o+="/?")),o+"$"}const y={marginBottom:0};class b extends g.a.Component{constructor(){super(...arguments),this.tainted=!1,this.state={additionalItems:[]},this.colsePanel=()=>{this.tainted=!1,this.setState({additionalItems:[]}),this.props.onClose()},this.addItem=()=>{this.setState(e=>{let{additionalItems:t}=e;return{additionalItems:[...t,["",""]]}})},this.handleOk=()=>{const{area:e,config:t,form:a}=this.props;if(e&&this.tainted){const n=a.getFieldsValue(),r=Object.keys(n).length,o=[];for(let e=0;e<r;e++){const t=n[e];t&&o.push([f(t),t])}t[e]=o,Object(h.f)(t)}this.colsePanel()},this.handleCancel=()=>{this.tainted&&!confirm(this.props.t("common:changes_confirm"))||this.colsePanel()},this.validator=(e,t,a)=>{if(this.tainted=!0,f(t))return a();a("incorrect pattern")}}render(){const{area:e,t:t,config:a}=this.props,{getFieldDecorator:n,getFieldsError:o}=this.props.form,c=(e.startsWith("pdf")?"PDF ":"")+t(e.endsWith("hitelist")?"common:whitelist":"common:blacklist"),l=Object.values(o()).some(e=>e&&e.length>0);return g.a.createElement(r.a,{visible:!!e,title:c,destroyOnClose:!0,okButtonProps:{disabled:l},onOk:this.handleOk,onCancel:this.handleCancel},g.a.createElement("p",{dangerouslySetInnerHTML:{__html:t("options:match_pattern_description")}}),e&&g.a.createElement(u.a,null,a[e].map((e,t)=>{let[a,r]=e;return g.a.createElement(u.a.Item,{key:t,help:"",style:y},n("".concat(t),{initialValue:r,rules:[{validator:this.validator}]})(g.a.createElement(m.a,null)))}),this.state.additionalItems.map((t,r)=>{let[o,i]=t;return g.a.createElement(u.a.Item,{key:r+a[e].length,help:"",style:y},n("".concat(r+a[e].length),{initialValue:i,rules:[{validator:this.validator}]})(g.a.createElement(m.a,null)))})),g.a.createElement(i.a,{type:"dashed",style:{width:"100%",marginTop:10},onClick:this.addItem},g.a.createElement(s.a,{type:"plus"})," ",t("common:add")))}}t.a=u.a.create()(b)},770:function(e,t,a){var n={"./af":458,"./af.js":458,"./ar":459,"./ar-dz":460,"./ar-dz.js":460,"./ar-kw":461,"./ar-kw.js":461,"./ar-ly":462,"./ar-ly.js":462,"./ar-ma":463,"./ar-ma.js":463,"./ar-sa":464,"./ar-sa.js":464,"./ar-tn":465,"./ar-tn.js":465,"./ar.js":459,"./az":466,"./az.js":466,"./be":467,"./be.js":467,"./bg":468,"./bg.js":468,"./bm":469,"./bm.js":469,"./bn":470,"./bn.js":470,"./bo":471,"./bo.js":471,"./br":472,"./br.js":472,"./bs":473,"./bs.js":473,"./ca":474,"./ca.js":474,"./cs":475,"./cs.js":475,"./cv":476,"./cv.js":476,"./cy":477,"./cy.js":477,"./da":478,"./da.js":478,"./de":479,"./de-at":480,"./de-at.js":480,"./de-ch":481,"./de-ch.js":481,"./de.js":479,"./dv":482,"./dv.js":482,"./el":483,"./el.js":483,"./en-SG":484,"./en-SG.js":484,"./en-au":485,"./en-au.js":485,"./en-ca":486,"./en-ca.js":486,"./en-gb":487,"./en-gb.js":487,"./en-ie":488,"./en-ie.js":488,"./en-il":489,"./en-il.js":489,"./en-nz":490,"./en-nz.js":490,"./eo":491,"./eo.js":491,"./es":492,"./es-do":493,"./es-do.js":493,"./es-us":494,"./es-us.js":494,"./es.js":492,"./et":495,"./et.js":495,"./eu":496,"./eu.js":496,"./fa":497,"./fa.js":497,"./fi":498,"./fi.js":498,"./fo":499,"./fo.js":499,"./fr":500,"./fr-ca":501,"./fr-ca.js":501,"./fr-ch":502,"./fr-ch.js":502,"./fr.js":500,"./fy":503,"./fy.js":503,"./ga":504,"./ga.js":504,"./gd":505,"./gd.js":505,"./gl":506,"./gl.js":506,"./gom-latn":507,"./gom-latn.js":507,"./gu":508,"./gu.js":508,"./he":509,"./he.js":509,"./hi":510,"./hi.js":510,"./hr":511,"./hr.js":511,"./hu":512,"./hu.js":512,"./hy-am":513,"./hy-am.js":513,"./id":514,"./id.js":514,"./is":515,"./is.js":515,"./it":516,"./it-ch":517,"./it-ch.js":517,"./it.js":516,"./ja":518,"./ja.js":518,"./jv":519,"./jv.js":519,"./ka":520,"./ka.js":520,"./kk":521,"./kk.js":521,"./km":522,"./km.js":522,"./kn":523,"./kn.js":523,"./ko":524,"./ko.js":524,"./ku":525,"./ku.js":525,"./ky":526,"./ky.js":526,"./lb":527,"./lb.js":527,"./lo":528,"./lo.js":528,"./lt":529,"./lt.js":529,"./lv":530,"./lv.js":530,"./me":531,"./me.js":531,"./mi":532,"./mi.js":532,"./mk":533,"./mk.js":533,"./ml":534,"./ml.js":534,"./mn":535,"./mn.js":535,"./mr":536,"./mr.js":536,"./ms":537,"./ms-my":538,"./ms-my.js":538,"./ms.js":537,"./mt":539,"./mt.js":539,"./my":540,"./my.js":540,"./nb":541,"./nb.js":541,"./ne":542,"./ne.js":542,"./nl":543,"./nl-be":544,"./nl-be.js":544,"./nl.js":543,"./nn":545,"./nn.js":545,"./pa-in":546,"./pa-in.js":546,"./pl":547,"./pl.js":547,"./pt":548,"./pt-br":549,"./pt-br.js":549,"./pt.js":548,"./ro":550,"./ro.js":550,"./ru":551,"./ru.js":551,"./sd":552,"./sd.js":552,"./se":553,"./se.js":553,"./si":554,"./si.js":554,"./sk":555,"./sk.js":555,"./sl":556,"./sl.js":556,"./sq":557,"./sq.js":557,"./sr":558,"./sr-cyrl":559,"./sr-cyrl.js":559,"./sr.js":558,"./ss":560,"./ss.js":560,"./sv":561,"./sv.js":561,"./sw":562,"./sw.js":562,"./ta":563,"./ta.js":563,"./te":564,"./te.js":564,"./tet":565,"./tet.js":565,"./tg":566,"./tg.js":566,"./th":567,"./th.js":567,"./tl-ph":568,"./tl-ph.js":568,"./tlh":569,"./tlh.js":569,"./tr":570,"./tr.js":570,"./tzl":571,"./tzl.js":571,"./tzm":572,"./tzm-latn":573,"./tzm-latn.js":573,"./tzm.js":572,"./ug-cn":574,"./ug-cn.js":574,"./uk":575,"./uk.js":575,"./ur":576,"./ur.js":576,"./uz":577,"./uz-latn":578,"./uz-latn.js":578,"./uz.js":577,"./vi":579,"./vi.js":579,"./x-pseudo":580,"./x-pseudo.js":580,"./yo":581,"./yo.js":581,"./zh-cn":582,"./zh-cn.js":582,"./zh-hk":583,"./zh-hk.js":583,"./zh-tw":584,"./zh-tw.js":584};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=770},780:function(e,t,a){var n={"./shanbay":133,"./shanbay.ts":133,"./webdav":128,"./webdav.ts":128};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=780},790:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a(0),r=a.n(n);a(1090);const o=["en","zhs","zht","ja","kor","fr","de","es"];class i extends r.a.PureComponent{render(){const{langs:e,t:t}=this.props;return e.split("").map((e,a)=>{if(+e)return r.a.createElement("span",{className:"langcode-list-char",key:o[a]},t("dict.lang.".concat(o[a])))})}}},82:function(e,t,a){"use strict";a.d(t,"h",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return g})),a.d(t,"b",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"c",(function(){return y}));var n=a(3),r=a(136),o=a(109),i=a(78),c=a(11),s=a(23),l=a(91);async function u(e,t){let{syncConfig:a}=await n.c.sync.get("syncConfig");a||(a={}),a[e]=t,await n.c.sync.set({syncConfig:a})}async function d(e){const{syncConfig:t}=await n.c.sync.get("syncConfig");if(void 0!==t)return t[e]}async function m(e){e?await u(e,null):await n.c.sync.remove("syncConfig")}function p(e){return Object(o.a)(Object(i.a)(d(e)),n.c.sync.createStream("syncConfig").pipe(Object(c.a)(t=>{let{newValue:a}=t;return a&&a[e]}))).pipe(Object(s.a)(e=>void 0!==e),Object(l.a)((e,t)=>e===t||null!=e&&null!=t&&Object.keys(t).every(a=>t[a]===e[a])))}async function g(e,t){await Object(r.i)(e,JSON.stringify(t))}async function h(e){const t=await Object(r.c)(e);if(t)return JSON.parse(t)}async function f(e){await Object(r.h)({area:"notebook",words:e})}async function y(){return(await Object(r.d)({area:"notebook"})).words||[]}},855:function(e,t,a){"use strict";(function(e){a(215),a(33);var n=a(0),r=a.n(n),o=a(76),i=a(84),c=a(856),s=a(857);a(935);class l extends r.a.PureComponent{constructor(){super(...arguments),this._showSocialMediaTimeout=void 0,this.state={isShowAcknowledgement:!1,isShowSocial:!1,isShowDonate:!1},this.showAcknowledgement=()=>{this.setState({isShowAcknowledgement:!0})},this.hideAcknowledgement=()=>{this.setState({isShowAcknowledgement:!1})},this.showSocialMedia=()=>{clearTimeout(this._showSocialMediaTimeout),this.setState({isShowSocial:!0})},this.hideSocialMedia=()=>{clearTimeout(this._showSocialMediaTimeout),this._showSocialMediaTimeout=setTimeout(()=>{this.setState({isShowSocial:!1})},400)},this.showDonate=()=>{this.setState({isShowDonate:!0})},this.hideDonate=()=>{this.setState({isShowDonate:!1})},this.preventDefault=e=>e.preventDefault()}render(){const{t:t}=this.props;return r.a.createElement("ul",{className:"head-info"},(e.env.DEV_BUILD,null),r.a.createElement("li",{className:"head-info-bubble-wrap head-info-unin"},r.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/wiki#acknowledgement",onMouseEnter:this.showAcknowledgement,onMouseLeave:this.hideAcknowledgement,onClick:this.preventDefault},t("headInfo.acknowledgement.title")),r.a.createElement(o.a,{classNames:"head-info-fade",in:this.state.isShowAcknowledgement,timeout:500,mountOnEnter:!0,unmountOnExit:!0},()=>r.a.createElement("div",{className:"head-info-bubble",onMouseEnter:this.showAcknowledgement,onMouseLeave:this.hideAcknowledgement},r.a.createElement("ol",null,s.a.map(e=>r.a.createElement("li",{key:e.locale},r.a.createElement("a",{href:e.href,rel:"nofollow noopener noreferrer",target:"_blank"},e.name)," ",t("headInfo.acknowledgement.".concat(e.locale)))))))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://saladict.crimx.com/manual.html",target:"_blank",rel:"nofollow noopener noreferrer"},t("headInfo.instructions"))),r.a.createElement("li",{className:"head-info-bubble-wrap"},r.a.createElement("a",{href:"mailto:straybugsgmail.com",onMouseEnter:this.showSocialMedia,onMouseLeave:this.hideSocialMedia,onClick:this.preventDefault},t("headInfo.contact_author")),r.a.createElement(o.a,{classNames:"head-info-fade",in:this.state.isShowSocial,timeout:500,mountOnEnter:!0,unmountOnExit:!0},()=>r.a.createElement("div",{className:"head-info-bubble",onMouseEnter:this.showSocialMedia,onMouseLeave:this.hideSocialMedia},r.a.createElement(c.a,null)))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://saladict.crimx.com/support.html",target:"_blank",rel:"nofollow noopener noreferrer"},"❤️",t("headInfo.donate"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/crimx/ext-saladict/issues",target:"_blank",rel:"nofollow noopener noreferrer"},t("headInfo.report_issue"))))}}t.a=Object(i.c)("options")(l)}).call(this,a(61))},856:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(933);const o=[{title:"email",icon:"icon-mail-circle",url:"mailto:straybugs@gmail.com"},{title:"知乎",icon:"icon-zhihu-circle",url:"https://www.zhihu.com/people/straybugs/answers"},{title:"微博",icon:"icon-weibo-circle",url:"https://www.weibo.com/bananajaward"},{title:"Github",icon:"icon-github-circle",url:"https://github.com/crimx"}];t.a=()=>r.a.createElement("ul",{className:"social-media__body"},o.map(e=>r.a.createElement("li",{key:e.title,className:"social-media__icon"},r.a.createElement("a",{href:e.url,title:e.title,target:"_blank",rel:"nofollow noopener noreferrer"}),r.a.createElement("svg",null,r.a.createElement("use",{xlinkHref:a(934)+"#"+e.icon,xmlnsXlink:"http://www.w3.org/1999/xlink"})))))},857:function(e,t,a){"use strict";t.a=[{name:"zhtw2013",href:"https://github.com/crimx/ext-saladict/commits?author=zhtw2013",locale:"trans_tw"},{name:"lwdgit",href:"https://github.com/crimx/ext-saladict/commits?author=lwdgit",locale:"shanbay"},{name:"Wekey",href:"https://weibo.com/925515171?is_hot=1",locale:"naver"},{name:"caerlie",href:"https://github.com/caerlie",locale:"weblio"},{name:"stockyman",href:"https://github.com/stockyman",locale:"trans_tw"}]},859:function(e,t,a){"use strict";var n=a(104),r=a.n(n),o=a(9),i=a.n(o),c=a(122),s=a.n(c),l=a(0),u=a.n(l);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends u.a.Component{render(){const{title:e,onClose:t,item:a,t:n}=this.props,{getFieldDecorator:o,getFieldsValue:c}=this.props.form;return u.a.createElement(r.a,{visible:!!a,title:e,destroyOnClose:!0,onOk:()=>t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c(),{id:a.id})),onCancel:()=>t()},u.a.createElement(i.a,null,u.a.createElement("p",{style:{marginTop:"1em"}},n("opt.context_menus_add_rules")),u.a.createElement(i.a.Item,{labelCol:{span:4},wrapperCol:{span:20},label:n("common:name"),style:{marginBottom:0}},o("name",{initialValue:a?a.name:""})(u.a.createElement(s.a,{autoFocus:!0}))),u.a.createElement(i.a.Item,{labelCol:{span:4},wrapperCol:{span:20},label:"URL",style:{marginBottom:0}},o("url",{initialValue:a?a.url:""})(u.a.createElement(s.a,null)))))}}t.a=i.a.create()(p)},877:function(e,t,a){"use strict";var n=a(104),r=a.n(n),o=a(301),i=a.n(o),c=a(278),s=a.n(c),l=a(46),u=a.n(l),d=a(0),m=a.n(d),p=a(31),g=a(33),h=a.n(g),f=a(148),y=a.n(f),b=a(116),j=a.n(b),M=a(9),w=a.n(M),E=a(122),O=a.n(E),I=a(132);class D extends m.a.Component{constructor(){super(...arguments),this.addNewItem=()=>{const{config:e,form:t}=this.props;if(t.validateFields(),Object.values(t.getFieldsError()).some(e=>e&&e.length>0))return;let{name:a,url:n}=t.getFieldsValue();if(a&&n){const{contextMenus:t}=e,r="c_".concat(Object(I.a)());t.all[r]={name:a,url:n},Object(p.f)(e)}}}render(){const{t:e}=this.props,{getFieldDecorator:t}=this.props.form;return m.a.createElement(w.a,null,m.a.createElement("p",{style:{marginTop:"1em"}},e("opt.context_menus_add_rules")),m.a.createElement(y.a,{gutter:5},m.a.createElement(j.a,{span:12},m.a.createElement(w.a.Item,{help:"",style:{marginBottom:0}},t("name",{rules:[{whitespace:!0,required:!0}]})(m.a.createElement(O.a,{placeholder:e("common:name")})))),m.a.createElement(j.a,{span:12},m.a.createElement(w.a.Item,{help:"",style:{marginBottom:0}},t("url",{rules:[{type:"url",whitespace:!0,required:!0}]})(m.a.createElement(O.a,{placeholder:"URL"}))))),m.a.createElement(u.a,{type:"dashed",style:{width:"100%"},onClick:this.addNewItem},m.a.createElement(h.a,{type:"plus"})," ",e("common:add")))}}var N=w.a.create()(D);const v=navigator.userAgent.includes("Firefox");class S extends m.a.Component{constructor(){super(...arguments),this.addItem=e=>{const{config:t}=this.props;t.contextMenus.selected.push(e),Object(p.f)(t)},this.deleteItem=e=>{const{config:t,t:a}=this.props;confirm(a("common:delete_confirm"))&&(delete t.contextMenus.all[e],Object(p.f)(t))},this.renderItem=e=>{const{t:t,config:a}=this.props,n=a.contextMenus.all[e];return m.a.createElement(s.a.Item,null,m.a.createElement("div",{className:"sortable-list-item"},"string"==typeof n?t("menus:".concat(e)):n.name,m.a.createElement("div",null,m.a.createElement(u.a,{title:t("common:add"),className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"check",onClick:()=>this.addItem(e)}),m.a.createElement(u.a,{title:t("common:delete"),disabled:"x"===n,className:"sortable-list-item-btn",shape:"circle",size:"small",icon:"close",onClick:()=>this.deleteItem(e)}))))}}render(){const{onClose:e,show:t,t:a,config:n}=this.props,o=new Set(n.contextMenus.selected),c=Object.keys(n.contextMenus.all).filter(e=>(!v||"youdao_page_translate"!==e)&&!o.has(e));return m.a.createElement(r.a,{visible:t,title:a("common:add"),destroyOnClose:!0,onOk:e,onCancel:e,footer:null},m.a.createElement(i.a,null,m.a.createElement(s.a,{size:"large",dataSource:c,renderItem:this.renderItem})),m.a.createElement(N,{t:a,config:n}))}}t.a=S},932:function(e,t,a){e.exports=a(1238)},933:function(e,t,a){},934:function(e,t,a){e.exports="./assets/symbol-defs.9eb2c4fa.svg"},935:function(e,t,a){},996:function(e,t,a){var n={"./BlackWhiteList/index.tsx":997,"./ContextMenus/index.tsx":1060,"./DictPanel/index.tsx":1086,"./Dictionaries/LangCodeList/index.tsx":790,"./Dictionaries/index.tsx":1235,"./General/index.tsx":1092,"./ImportExport/index.tsx":1093,"./Notebook/index.tsx":1242,"./PDF/index.tsx":1112,"./Popup/index.tsx":1113,"./Privacy/index.tsx":1114,"./Profiles/index.tsx":1249,"./QuickSearch/index.tsx":1115,"./SearchModes/index.tsx":1116};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=996},997:function(e,t,a){"use strict";a.r(t),a.d(t,"BlackWhiteList",(function(){return d}));var n=a(9),r=a.n(n),o=a(46),i=a.n(o),c=a(0),s=a.n(c),l=a(19),u=a(693);class d extends s.a.Component{constructor(e){super(e),this.closeModal=()=>{this.setState({editingArea:""})},this.state={editingArea:""}}render(){const{t:e,config:t}=this.props;return s.a.createElement(r.a,null,s.a.createElement(r.a.Item,Object.assign({},l.b,{label:e("opt.sel_blackwhitelist"),help:e("opt.sel_blackwhitelist_help")}),s.a.createElement(i.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"blacklist"})},e("common:blacklist")),s.a.createElement(i.a,{onClick:()=>this.setState({editingArea:"whitelist"})},e("common:whitelist"))),s.a.createElement(r.a.Item,Object.assign({},l.b,{label:"PDF ".concat(e("nav.BlackWhiteList")),help:e("opt.pdf_blackwhitelist_help")}),s.a.createElement(i.a,{style:{marginRight:10},onClick:()=>this.setState({editingArea:"pdfBlacklist"})},"PDF ",e("common:blacklist")),s.a.createElement(i.a,{onClick:()=>this.setState({editingArea:"pdfWhitelist"})},"PDF ",e("common:whitelist"))),s.a.createElement(u.a,{t:e,config:t,area:this.state.editingArea,onClose:this.closeModal}))}}t.default=d}},[[932,0,2,4,1,3]]]);